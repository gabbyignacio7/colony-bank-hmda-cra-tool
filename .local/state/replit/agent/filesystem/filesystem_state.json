{"file_contents":{"client/src/components/ui/label.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":724,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2263,"size_tokens":null},"client/src/pages/dashboard.tsx":{"content":"import { useState, useEffect } from 'react';\nimport { utils, writeFile } from 'xlsx';\nimport { FileUpload } from '@/components/file-upload';\nimport { MultiFileUpload } from '@/components/multi-file-upload';\nimport { PasswordGate } from '@/components/password-gate';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { \n  Play, \n  FileText, \n  CheckCircle2, \n  AlertTriangle, \n  Download, \n  Loader2, \n  Database, \n  LayoutDashboard,\n  Search,\n  Filter,\n  Trash2,\n  ArrowRight,\n  ChevronRight,\n  FlaskConical,\n  ShieldCheck,\n  Activity,\n  FileDiff,\n  BookOpen,\n  Video,\n  FileScan,\n  Printer,\n  Share2,\n  Copy,\n  Check\n} from 'lucide-react';\nimport { Progress } from '@/components/ui/progress';\nimport { \n  processFile, \n  fetchCsvFile,\n  MOCK_SBSL_DATA, \n  filterByCurrentMonth, \n  validateData, \n  generateSummaryStats,\n  transformEncompassData,\n  cleanAndFormatData,\n  mergeSupplementalData,\n  exportCRAWizFormat,\n  CRA_WIZ_128_COLUMNS,\n  type SbslRow,\n  type ValidationResult\n} from '@/lib/etl-engine';\nimport { compareDataframes, type DiffResult } from '@/lib/diff-engine';\nimport { \n  parseCRAWizFile, \n  transformCRAWizExport, \n  exportWorkItemFile, \n  exportTransformSummary,\n  BRANCH_LIST,\n  type CRAWizRow,\n  type TransformResult\n} from '@/lib/cra-wiz-transform';\nimport { useToast } from '@/hooks/use-toast';\nimport { cn } from '@/lib/utils';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { TutorialVideo } from '@/components/tutorial-video';\n\nexport default function Dashboard() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const { toast } = useToast();\n  const [activeTab, setActiveTab] = useState('upload');\n  const [logs, setLogs] = useState<string[]>([]);\n  const [isProcessing, setIsProcessing] = useState(false);\n  \n  // State\n  const [files, setFiles] = useState<{\n    laserPro: File | null, \n    encompass: File | null, \n    supp: File | null, \n    expected: File | null, \n    stress: File[]\n  }>({ \n    laserPro: null, \n    encompass: null,\n    supp: null,\n    expected: null,\n    stress: [] \n  });\n  \n  const [documentFiles, setDocumentFiles] = useState<File[]>([]);\n  \n  const [rawData, setRawData] = useState<SbslRow[]>([]);\n  const [processedData, setProcessedData] = useState<SbslRow[]>([]);\n  const [validationErrors, setValidationErrors] = useState<ValidationResult[]>([]);\n  const [stats, setStats] = useState<any>(null);\n  const [currentScenario, setCurrentScenario] = useState<string>(\"\");\n  \n  // Diff State\n  const [diffResult, setDiffResult] = useState<DiffResult | null>(null);\n  \n  // Stress Test State\n  const [stressResults, setStressResults] = useState<any[]>([]);\n  const [stressStats, setStressStats] = useState({\n    filesProcessed: 0,\n    successRate: \"0/0\",\n    avgTime: 0,\n    totalRows: 0\n  });\n\n  // Phase 3: CRA Wiz Post-Processing State\n  const [craWizFile, setCraWizFile] = useState<File | null>(null);\n  const [craWizData, setCraWizData] = useState<CRAWizRow[]>([]);\n  const [phase3Result, setPhase3Result] = useState<TransformResult | null>(null);\n  const [isPhase3Processing, setIsPhase3Processing] = useState(false);\n\n  // Progress Tracking State\n  const [progress, setProgress] = useState(0);\n  const [progressStep, setProgressStep] = useState('');\n  const [copied, setCopied] = useState(false);\n\n  const addLog = (msg: string) => {\n    setLogs(prev => [...prev, `[${new Date().toLocaleTimeString()}] ${msg}`]);\n  };\n\n  const handleFileUpload = async (type: 'laserPro' | 'encompass' | 'supp' | 'expected', file: File) => {\n    setFiles(prev => ({ ...prev, [type]: file }));\n    \n    try {\n      const data = await processFile(file);\n      \n      if (type === 'encompass' || type === 'laserPro') {\n        // Primary data sources\n        setRawData(data as SbslRow[]);\n        addLog(`Loaded ${type.toUpperCase()} file: ${file.name} (${data.length} rows)`);\n        toast({ title: \"File Loaded\", description: `Successfully loaded ${data.length} records from ${file.name}` });\n        setCurrentScenario(\"Custom Upload\");\n      } else {\n        addLog(`Loaded ${type.toUpperCase()} file: ${file.name}`);\n        toast({ title: \"File Loaded\", description: `${file.name} ready for processing` });\n      }\n    } catch (e) {\n      addLog(`Error parsing file ${file.name}: ${e}`);\n      toast({ title: \"Error\", description: `Failed to parse ${file.name}`, variant: \"destructive\" });\n    }\n  };\n\n  const handleDocumentFilesUpload = (newFiles: File[]) => {\n    setDocumentFiles(prev => [...prev, ...newFiles]);\n    toast({ \n      title: \"Documents Uploaded\", \n      description: `Added ${newFiles.length} document${newFiles.length !== 1 ? 's' : ''} for processing.` \n    });\n  };\n\n  const handleRemoveDocumentFile = (index: number) => {\n    setDocumentFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const runEtlProcess = async () => {\n    setIsProcessing(true);\n    setActiveTab('process');\n    setLogs([]); \n    addLog(\"Starting Comprehensive ETL Process...\");\n    \n    // Check if we have uploaded data\n    if (rawData.length === 0 && !files.encompass && !files.laserPro) {\n      addLog(\"No files uploaded. Using sample data for demonstration...\");\n      toast({ \n        title: \"Using Sample Data\", \n        description: \"Upload files to process your own data\", \n        variant: \"default\" \n      });\n    }\n    \n    await new Promise(r => setTimeout(r, 500));\n    \n    // Step 1: Filter\n    const currentMonth = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n    addLog(`Phase 1: Filtering by current month (${currentMonth})...`);\n    let currentData = rawData.length > 0 ? rawData : MOCK_SBSL_DATA;\n    const { filtered, count } = filterByCurrentMonth(currentData);\n    addLog(`Filtered: Kept ${count} records out of ${currentData.length} total.`);\n\n    await new Promise(r => setTimeout(r, 500));\n\n    // Step 2: Transformation\n    addLog(\"Phase 2: Transforming Encompass Data...\");\n    addLog(\"   - Calculating Branch Codes\");\n    addLog(\"   - Deriving Application Numbers\");\n    addLog(\"   - Converting Loan Terms (Months -> Years)\");\n    let transformed = transformEncompassData(filtered);\n    \n    await new Promise(r => setTimeout(r, 500));\n\n    // Step 3: VLOOKUP Merge\n    addLog(\"Phase 2 (Step 2): Merging Supplemental Data...\");\n    // Simulate merge with self for demo if no supp file\n    transformed = mergeSupplementalData(transformed, transformed);\n    addLog(\"   - Merged Customer Names\");\n    addLog(\"   - Merged Borrower Data\");\n    addLog(\"   - Merged APR and Rate Types\");\n\n    await new Promise(r => setTimeout(r, 500));\n\n    // Step 4: Cleaning\n    addLog(\"Phase 2 (Step 3): Cleaning & Formatting...\");\n    addLog(\"   - Formatting APRs (removing trailing zeros)\");\n    addLog(\"   - Padding County Codes (5 digits)\");\n    addLog(\"   - Padding Tract Numbers (11 digits)\");\n    const cleaned = cleanAndFormatData(transformed);\n\n    await new Promise(r => setTimeout(r, 500));\n\n    // Step 5: Validation (CRA Wiz Simulation)\n    addLog(\"Phase 3: Simulating CRA Wiz Validation...\");\n    const errors = validateData(cleaned);\n    setValidationErrors(errors);\n    addLog(`Validation complete: Found ${errors.length} issues.`);\n    \n    // Stats\n    const summary = generateSummaryStats(cleaned);\n    setStats(summary);\n    \n    setProcessedData(cleaned);\n    setIsProcessing(false);\n    addLog(\"ETL Process Complete.\");\n    \n    // Log audit trail\n    try {\n      await fetch('/api/audit/log', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: 'System User',\n          filesProcessed: (files.laserPro ? 1 : 0) + (files.encompass ? 1 : 0) + (files.supp ? 1 : 0),\n          recordsProcessed: cleaned.length,\n          validationErrors: errors.length,\n          phase: 'Complete ETL Pipeline'\n        })\n      });\n    } catch (err) {\n      console.error('Failed to log audit trail:', err);\n    }\n    \n    if (errors.length > 0) {\n      toast({ title: \"Validation Issues Found\", description: `Found ${errors.length} records requiring attention.`, variant: \"destructive\" });\n    } else {\n      toast({ title: \"Success\", description: \"Data processed successfully.\" });\n    }\n    \n    setTimeout(() => setActiveTab('review'), 500);\n  };\n\n  const downloadMailMerge = () => {\n    if (processedData.length === 0) {\n      toast({ title: \"No Data\", description: \"Run automation first to generate data\", variant: \"destructive\" });\n      return;\n    }\n\n    try {\n      const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n      const filename = `HMDA_Scrub_Data_${monthYear.replace(' ', '_')}.xlsx`;\n      \n      // Generate Excel file with processed data\n      const ws = utils.json_to_sheet(processedData);\n      const wb = utils.book_new();\n      utils.book_append_sheet(wb, ws, \"Merge Data\");\n      \n      writeFile(wb, filename);\n      \n      toast({ \n        title: \"Export Complete\", \n        description: `Downloaded ${filename} with ${processedData.length} records` \n      });\n    } catch (error) {\n      toast({ \n        title: \"Export Failed\", \n        description: \"Error creating Excel file\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  const downloadCRAWiz = () => {\n    if (processedData.length === 0) {\n      toast({ title: \"No Data\", description: \"Run automation first to generate data\", variant: \"destructive\" });\n      return;\n    }\n\n    try {\n      // Use the new 128-column CRA Wiz export format\n      exportCRAWizFormat(processedData);\n      \n      toast({ \n        title: \"CRA Export Complete\", \n        description: `Downloaded ${CRA_WIZ_128_COLUMNS.length}-column CRA Wiz file with ${processedData.length} records` \n      });\n    } catch (error) {\n      toast({ \n        title: \"Export Failed\", \n        description: \"Error creating CRA file\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  const downloadValidationReport = () => {\n    if (validationErrors.length === 0) {\n      toast({ title: \"No Errors\", description: \"All records passed validation!\" });\n      return;\n    }\n\n    try {\n      const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n      const filename = `Validation_Errors_${monthYear.replace(' ', '_')}.xlsx`;\n      \n      // Format validation errors for export\n      const errorData = validationErrors.map(err => ({\n        'Row #': err.rowIdx,\n        'Loan Number': err.applNumb,\n        'Errors': err.errors.join('; ')\n      }));\n      \n      const ws = utils.json_to_sheet(errorData);\n      const wb = utils.book_new();\n      utils.book_append_sheet(wb, ws, \"Validation Errors\");\n      \n      writeFile(wb, filename);\n      \n      toast({ \n        title: \"Error Report Downloaded\", \n        description: `${validationErrors.length} errors exported to ${filename}` \n      });\n    } catch (error) {\n      toast({ \n        title: \"Export Failed\", \n        description: \"Error creating error report\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  // Phase 3: CRA Wiz Post-Processing Handlers\n  const handleCRAWizFileUpload = async (file: File) => {\n    setCraWizFile(file);\n    setPhase3Result(null);\n    \n    try {\n      const data = await parseCRAWizFile(file);\n      setCraWizData(data);\n      toast({ \n        title: \"CRA Wiz File Loaded\", \n        description: `Parsed ${data.length} rows with ${Object.keys(data[0] || {}).length} columns` \n      });\n    } catch (error) {\n      toast({ \n        title: \"Error\", \n        description: \"Failed to parse CRA Wiz export file\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  const runPhase3Transform = async () => {\n    if (craWizData.length === 0) {\n      toast({ title: \"No Data\", description: \"Please upload a CRA Wiz export file first\", variant: \"destructive\" });\n      return;\n    }\n\n    setIsPhase3Processing(true);\n    \n    try {\n      await new Promise(r => setTimeout(r, 500)); // Brief delay for UI feedback\n      \n      const result = transformCRAWizExport(craWizData);\n      setPhase3Result(result);\n      \n      toast({ \n        title: \"Transformation Complete\", \n        description: `Converted ${result.inputColumns} columns to ${result.outputColumns} columns. ${result.branchMatchCount} branch matches.` \n      });\n    } catch (error) {\n      toast({ \n        title: \"Transform Failed\", \n        description: \"Error during CRA Wiz transformation\", \n        variant: \"destructive\" \n      });\n    } finally {\n      setIsPhase3Processing(false);\n    }\n  };\n\n  const downloadPhase3WorkItem = () => {\n    if (!phase3Result || phase3Result.data.length === 0) {\n      toast({ title: \"No Data\", description: \"Run transformation first\", variant: \"destructive\" });\n      return;\n    }\n    \n    exportWorkItemFile(phase3Result.data);\n    toast({ title: \"Download Started\", description: \"Work Item file is downloading\" });\n  };\n\n  const downloadPhase3Summary = () => {\n    if (!phase3Result) {\n      toast({ title: \"No Data\", description: \"Run transformation first\", variant: \"destructive\" });\n      return;\n    }\n    \n    exportTransformSummary(phase3Result);\n    toast({ title: \"Download Started\", description: \"Summary file is downloading\" });\n  };\n\n  const downloadCorrectedData = async () => {\n    if (processedData.length === 0) {\n      toast({ title: \"No Data\", description: \"Run automation first to generate data\", variant: \"destructive\" });\n      return;\n    }\n\n    try {\n      // Import auto-correction function\n      const { autoCorrectData } = await import('@/lib/etl-engine');\n      \n      // Apply auto-corrections\n      const correctedData = autoCorrectData(processedData);\n      \n      const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n      const filename = `HMDA_Auto_Corrected_${monthYear.replace(' ', '_')}.xlsx`;\n      \n      // Generate Excel with corrected data\n      const ws = utils.json_to_sheet(correctedData);\n      const wb = utils.book_new();\n      utils.book_append_sheet(wb, ws, \"Corrected Data\");\n      \n      // Add a summary sheet\n      const summaryData = [{\n        'Total Records': correctedData.length,\n        'Original Errors': validationErrors.length,\n        'Auto-Corrections Applied': 'Census Tract formatting, Rate decimals, State codes, Whitespace trimming',\n        'Note': 'Review flagged records - some errors require manual correction'\n      }];\n      const summaryWs = utils.json_to_sheet(summaryData);\n      utils.book_append_sheet(wb, summaryWs, \"Correction Summary\");\n      \n      writeFile(wb, filename);\n      \n      toast({ \n        title: \"Corrected Data Downloaded\", \n        description: `${correctedData.length} records with auto-fixes applied. Review flagged items.`,\n        duration: 5000\n      });\n    } catch (error) {\n      toast({ \n        title: \"Export Failed\", \n        description: \"Error creating corrected file\", \n        variant: \"destructive\" \n      });\n    }\n  };\n\n  if (!isAuthenticated) {\n    return <PasswordGate onUnlock={() => setIsAuthenticated(true)} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-50 flex\">\n      {/* Sidebar */}\n      <div className=\"w-64 bg-[#003366] text-white flex flex-col shrink-0\">\n        <div className=\"p-6 border-b border-white/10\">\n          <h1 className=\"font-bold text-xl tracking-tight\">Colony Bank</h1>\n          <p className=\"text-xs text-blue-200 mt-1\">HMDA/CRA Automation</p>\n        </div>\n        \n        <nav className=\"flex-1 p-4 space-y-2\">\n          <button \n            onClick={() => setActiveTab('upload')}\n            className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'upload' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n          >\n            <Database className=\"w-4 h-4\" />\n            <span className=\"font-medium text-sm\">Data Sources</span>\n          </button>\n          \n          <button \n            onClick={() => setActiveTab('process')}\n            className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'process' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n          >\n            <Play className=\"w-4 h-4\" />\n            <span className=\"font-medium text-sm\">Run ETL</span>\n          </button>\n          \n          <button \n            onClick={() => setActiveTab('review')}\n            className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'review' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n          >\n            <CheckCircle2 className=\"w-4 h-4\" />\n            <span className=\"font-medium text-sm\">Review & Scrub</span>\n            {validationErrors.length > 0 && (\n              <span className=\"ml-auto bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full\">{validationErrors.length}</span>\n            )}\n          </button>\n\n          <button \n            onClick={() => setActiveTab('phase3')}\n            className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'phase3' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n          >\n            <ArrowRight className=\"w-4 h-4\" />\n            <span className=\"font-medium text-sm\">CRA Wiz Post</span>\n            <span className=\"ml-auto bg-orange-500 text-white text-[10px] px-1.5 py-0.5 rounded-full\">Step 6</span>\n          </button>\n\n          <button \n            onClick={() => setActiveTab('docs')}\n            className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'docs' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n          >\n            <FileScan className=\"w-4 h-4\" />\n            <span className=\"font-medium text-sm\">Doc Intelligence</span>\n            <span className=\"ml-auto bg-blue-500 text-white text-[10px] px-1.5 py-0.5 rounded-full\">New</span>\n          </button>\n\n          <div className=\"pt-4 mt-4 border-t border-white/10\">\n            <p className=\"px-4 text-xs text-blue-400 uppercase font-semibold mb-2\">Testing & Tools</p>\n            <button \n              onClick={() => setActiveTab('testing')}\n              className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'testing' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n            >\n              <FileDiff className=\"w-4 h-4\" />\n              <span className=\"font-medium text-sm\">Diff Testing</span>\n            </button>\n            \n            <button \n              onClick={() => setActiveTab('tutorial')}\n              className={cn(\"w-full flex items-center gap-3 px-4 py-3 rounded-md transition-colors\", activeTab === 'tutorial' ? \"bg-white/10 text-white\" : \"text-blue-200 hover:bg-white/5\")}\n            >\n              <Video className=\"w-4 h-4\" />\n              <span className=\"font-medium text-sm\">Learning Center</span>\n            </button>\n          </div>\n        </nav>\n        \n        <div className=\"p-6 border-t border-white/10\">\n          <div className=\"text-xs text-blue-300 mb-2\">System Status</div>\n          <div className=\"flex items-center gap-2 text-sm text-green-400\">\n            <ShieldCheck className=\"w-4 h-4\" />\n            Authenticated\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col overflow-hidden\">\n        <header className=\"bg-white border-b h-16 flex items-center px-8 justify-between\">\n          <h2 className=\"text-lg font-semibold text-slate-800\">\n            {activeTab === 'upload' && 'Phase 1: Data Extraction'}\n            {activeTab === 'process' && 'Phase 2-3: Transformation & Validation'}\n            {activeTab === 'review' && 'Phase 4: Scrub Preparation'}\n            {activeTab === 'phase3' && 'Phase 3: CRA Wiz Post-Processing'}\n            {activeTab === 'docs' && 'Phase 5: Document Intelligence'}\n            {activeTab === 'tutorial' && 'Learning Center'}\n          </h2>\n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-sm text-slate-500\">\n              Period: <span className=\"font-medium text-slate-900\">{new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}</span>\n            </div>\n          </div>\n        </header>\n\n        <main className=\"flex-1 overflow-auto p-8\">\n          \n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full max-w-5xl mx-auto\">\n            \n            {/* UPLOAD TAB */}\n            <TabsContent value=\"upload\" className=\"space-y-6 mt-0\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"text-base\">Input A: LaserPro</CardTitle>\n                    <CardDescription>Commercial HUDDA Loans (Text)</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <FileUpload \n                      label=\"LaserPro Export\" \n                      onFileSelect={(f) => handleFileUpload('laserPro', f)} \n                      file={files.laserPro}\n                    />\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                     <CardTitle className=\"text-base\">Input B: Encompass</CardTitle>\n                     <CardDescription>Consumer Loans Primary (Excel)</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <FileUpload \n                      label=\"Encompass HUDDA\" \n                      onFileSelect={(f) => handleFileUpload('encompass', f)}\n                      file={files.encompass}\n                    />\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                     <CardTitle className=\"text-base\">Input C: Supplemental</CardTitle>\n                     <CardDescription>Encompass Additional Data (Excel)</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <FileUpload \n                      label=\"Supplemental Export\" \n                      onFileSelect={(f) => handleFileUpload('supp', f)}\n                      file={files.supp}\n                    />\n                  </CardContent>\n                </Card>\n              </div>\n\n              <div className=\"flex justify-end gap-3\">\n                <Button \n                  onClick={() => setActiveTab('process')} \n                  className=\"bg-[#003366] hover:bg-[#002244]\"\n                >\n                  Continue to Phase 2 <ArrowRight className=\"ml-2 w-4 h-4\" />\n                </Button>\n              </div>\n            </TabsContent>\n\n            {/* PROCESS TAB */}\n            <TabsContent value=\"process\" className=\"space-y-6 mt-0\">\n              <div className=\"grid grid-cols-3 gap-6\">\n                <Card className=\"col-span-2\">\n                  <CardHeader>\n                    <CardTitle>Transformation Pipeline</CardTitle>\n                    <CardDescription>Execution of Phase 2 & 3 Logic</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"bg-slate-950 text-slate-50 font-mono text-sm p-4 rounded-md h-[300px] overflow-y-auto shadow-inner\">\n                      {logs.length === 0 && <span className=\"text-slate-500\">Ready to start...</span>}\n                      {logs.map((log, i) => (\n                        <div key={i} className=\"mb-1 border-b border-slate-800/50 pb-1 last:border-0\">{log}</div>\n                      ))}\n                      {isProcessing && (\n                        <div className=\"flex items-center gap-2 text-blue-400 mt-2\">\n                          <Loader2 className=\"w-3 h-3 animate-spin\" /> Processing...\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Actions</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <Button \n                      className=\"w-full bg-[#003366] hover:bg-[#002244]\" \n                      size=\"lg\"\n                      onClick={runEtlProcess}\n                      disabled={isProcessing}\n                    >\n                      {isProcessing ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <Play className=\"mr-2 h-4 w-4\" />}\n                      Run Automation\n                    </Button>\n                    <div className=\"text-xs text-muted-foreground px-2\">\n                      <p className=\"font-medium mb-1\">Pipeline Steps:</p>\n                      <ul className=\"list-disc pl-3 space-y-1\">\n                        <li>Column Calculation (Term, Branch)</li>\n                        <li>VLOOKUP Merge (Supp Data)</li>\n                        <li>Format Cleaning (APR, Tract)</li>\n                        <li>CRA Wiz Validation Simulation</li>\n                      </ul>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n            </TabsContent>\n\n            {/* REVIEW TAB */}\n            <TabsContent value=\"review\" className=\"space-y-6 mt-0\">\n              {stats && (\n                <div className=\"grid grid-cols-4 gap-4\">\n                  <Card className=\"bg-white\">\n                    <CardContent className=\"pt-6\">\n                      <div className=\"text-2xl font-bold text-[#003366]\">{stats.totalRecords}</div>\n                      <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Total Records</div>\n                    </CardContent>\n                  </Card>\n                  <Card className=\"bg-white\">\n                    <CardContent className=\"pt-6\">\n                      <div className=\"text-2xl font-bold text-green-600\">\n                        {new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', notation: 'compact' }).format(stats.totalLoanAmount)}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Total Volume</div>\n                    </CardContent>\n                  </Card>\n                  <Card className={cn(\"transition-colors\", validationErrors.length > 0 ? \"bg-red-50 border-red-200\" : \"bg-white\")}>\n                    <CardContent className=\"pt-6\">\n                      <div className={cn(\"text-2xl font-bold\", validationErrors.length > 0 ? \"text-red-600\" : \"text-slate-900\")}>\n                        {validationErrors.length}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Validation Errors</div>\n                    </CardContent>\n                  </Card>\n                  <Card className=\"bg-white\">\n                    <CardContent className=\"pt-6 flex flex-col gap-2\">\n                      <Button \n                        size=\"sm\" \n                        className=\"w-full bg-green-600 hover:bg-green-700 text-white\" \n                        onClick={downloadCorrectedData}\n                      >\n                        <CheckCircle2 className=\"mr-2 h-3 w-3\" /> Download Corrected\n                      </Button>\n                      <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={downloadMailMerge}>\n                        <Download className=\"mr-2 h-3 w-3\" /> Export Mail Merge\n                      </Button>\n                      <Button variant=\"outline\" size=\"sm\" className=\"w-full\" onClick={downloadCRAWiz}>\n                        <Database className=\"mr-2 h-3 w-3\" /> Export CRA Wiz\n                      </Button>\n                      {validationErrors.length > 0 && (\n                        <Button variant=\"outline\" size=\"sm\" className=\"w-full text-red-600 border-red-200 hover:bg-red-50\" onClick={downloadValidationReport}>\n                          <AlertTriangle className=\"mr-2 h-3 w-3\" /> Error Report\n                        </Button>\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n              )}\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Data Review</CardTitle>\n                  <CardDescription>Review processed records. Validated against CRA Wiz rules.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"rounded-md border overflow-hidden\">\n                    <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm text-left\">\n                        <thead className=\"bg-slate-100 text-slate-600 font-medium border-b\">\n                          <tr>\n                            <th className=\"px-4 py-3\">Appl Numb</th>\n                            <th className=\"px-4 py-3\">Branch</th>\n                            <th className=\"px-4 py-3\">Term (Yrs)</th>\n                            <th className=\"px-4 py-3\">APR</th>\n                            <th className=\"px-4 py-3\">Status</th>\n                            <th className=\"px-4 py-3\">Issues</th>\n                          </tr>\n                        </thead>\n                        <tbody className=\"divide-y\">\n                          {processedData.map((row, i) => {\n                            const loanId = row.Loan_Number || row.ApplNumb || '-';\n                            const error = validationErrors.find(e => e.applNumb === loanId);\n                            const termYears = row['Loan Term Years'] || (row.Loan_Term_Months ? row.Loan_Term_Months / 12 : '-');\n                            const apr = row['APR'] || row.Interest_Rate || '-';\n                            const branch = row['Branch Name'] || row['Branch'] || row.Property_City || '-';\n                            \n                            return (\n                              <tr key={i} className={cn(\"hover:bg-slate-50 transition-colors\", error ? \"bg-red-50/50 hover:bg-red-50\" : \"\")}>\n                                <td className=\"px-4 py-3 font-medium\">{loanId}</td>\n                                <td className=\"px-4 py-3\">{branch}</td>\n                                <td className=\"px-4 py-3\">{termYears}</td>\n                                <td className=\"px-4 py-3\">{apr}{typeof apr === 'number' ? '%' : ''}</td>\n                                <td className=\"px-4 py-3\">\n                                  {error ? (\n                                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700\">\n                                      <AlertTriangle className=\"w-3 h-3 mr-1\" /> Review\n                                    </span>\n                                  ) : (\n                                    <span className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700\">\n                                      <CheckCircle2 className=\"w-3 h-3 mr-1\" /> Valid\n                                    </span>\n                                  )}\n                                </td>\n                                <td className=\"px-4 py-3 text-red-600 text-xs\">\n                                  {error?.errors.join(\", \")}\n                                </td>\n                              </tr>\n                            );\n                          })}\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            {/* PHASE 3: CRA WIZ POST-PROCESSING TAB */}\n            <TabsContent value=\"phase3\" className=\"space-y-6 mt-0\">\n              <div className=\"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4 mb-4\">\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"bg-orange-100 p-2 rounded-lg\">\n                    <ArrowRight className=\"w-5 h-5 text-orange-600\" />\n                  </div>\n                  <div>\n                    <h3 className=\"font-semibold text-orange-900\">Step 6: CRA Wiz Return Processing</h3>\n                    <p className=\"text-sm text-orange-700 mt-1\">\n                      Upload the file you downloaded from CRA Wiz after processing. This converts the 243-column CRA Wiz export to the 125-column work item format with Branch VLOOKUP applied.\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-6\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <FileText className=\"w-5 h-5 text-orange-600\" />\n                      Upload CRA Wiz Export\n                    </CardTitle>\n                    <CardDescription>\n                      Upload the CSV file downloaded from CRA Wiz after processing\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <FileUpload \n                      label=\"CRA Wiz Export File (CSV)\"\n                      description=\"243-column CRA Wiz HMDA export\"\n                      onFileSelect={(file) => handleCRAWizFileUpload(file)}\n                      file={craWizFile}\n                      accept={{'text/csv': ['.csv'], 'application/vnd.ms-excel': ['.xls', '.xlsx']}}\n                    />\n                    \n                    {craWizData.length > 0 && (\n                      <div className=\"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg\">\n                        <div className=\"flex items-center gap-2 text-green-700\">\n                          <CheckCircle2 className=\"w-4 h-4\" />\n                          <span className=\"font-medium\">File Loaded Successfully</span>\n                        </div>\n                        <div className=\"mt-2 text-sm text-green-600\">\n                          {craWizData.length} rows × {Object.keys(craWizData[0] || {}).length} columns\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Database className=\"w-5 h-5 text-blue-600\" />\n                      Branch List Reference\n                    </CardTitle>\n                    <CardDescription>\n                      Using built-in Colony Bank branch list (48 branches)\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                      <div className=\"flex items-center gap-2 text-blue-700 mb-2\">\n                        <CheckCircle2 className=\"w-4 h-4\" />\n                        <span className=\"font-medium\">Branch List Ready</span>\n                      </div>\n                      <p className=\"text-sm text-blue-600 mb-3\">\n                        {Object.keys(BRANCH_LIST).length} branches configured for VLOOKUP\n                      </p>\n                      <div className=\"max-h-32 overflow-y-auto text-xs font-mono bg-white rounded p-2 border\">\n                        {Object.entries(BRANCH_LIST).slice(0, 10).map(([num, name]) => (\n                          <div key={num} className=\"py-0.5\">{num}: {name}</div>\n                        ))}\n                        <div className=\"text-slate-400 italic\">...and {Object.keys(BRANCH_LIST).length - 10} more</div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <Card>\n                <CardHeader>\n                  <CardTitle>Transform Actions</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <Button \n                    className=\"w-full bg-orange-600 hover:bg-orange-700\" \n                    size=\"lg\"\n                    onClick={runPhase3Transform}\n                    disabled={isPhase3Processing || craWizData.length === 0}\n                  >\n                    {isPhase3Processing ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        Transforming...\n                      </>\n                    ) : (\n                      <>\n                        <Play className=\"mr-2 h-4 w-4\" />\n                        Transform for Work Items\n                      </>\n                    )}\n                  </Button>\n\n                  <div className=\"text-xs text-muted-foreground px-2\">\n                    <p className=\"font-medium mb-1\">Transformation Steps:</p>\n                    <ul className=\"list-disc pl-3 space-y-1\">\n                      <li>Apply Branch VLOOKUP (BRANCHNUMB → BRANCHNAME)</li>\n                      <li>Add new columns: ErrorMadeBy, DSC (blank)</li>\n                      <li>Remove 118 unwanted columns</li>\n                      <li>Reorder to exact 125-column format</li>\n                    </ul>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {phase3Result && (\n                <>\n                  <div className=\"grid grid-cols-4 gap-4\">\n                    <Card className=\"bg-white\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"text-2xl font-bold text-orange-600\">{phase3Result.inputColumns}</div>\n                        <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Input Columns</div>\n                      </CardContent>\n                    </Card>\n                    <Card className=\"bg-white\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"text-2xl font-bold text-green-600\">{phase3Result.outputColumns}</div>\n                        <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Output Columns</div>\n                      </CardContent>\n                    </Card>\n                    <Card className=\"bg-white\">\n                      <CardContent className=\"pt-6\">\n                        <div className=\"text-2xl font-bold text-blue-600\">{phase3Result.rowCount}</div>\n                        <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Total Rows</div>\n                      </CardContent>\n                    </Card>\n                    <Card className={cn(\"bg-white\", phase3Result.branchMissCount > 0 && \"border-yellow-300 bg-yellow-50\")}>\n                      <CardContent className=\"pt-6\">\n                        <div className={cn(\"text-2xl font-bold\", phase3Result.branchMissCount > 0 ? \"text-yellow-600\" : \"text-green-600\")}>\n                          {phase3Result.branchMatchCount}/{phase3Result.rowCount}\n                        </div>\n                        <div className=\"text-xs text-muted-foreground font-medium uppercase tracking-wide\">Branch Matches</div>\n                      </CardContent>\n                    </Card>\n                  </div>\n\n                  <Card>\n                    <CardHeader>\n                      <CardTitle>Data Preview</CardTitle>\n                      <CardDescription>First 5 rows of transformed data (125 columns)</CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"rounded-md border overflow-hidden\">\n                        <div className=\"overflow-x-auto\">\n                          <table className=\"w-full text-sm text-left\">\n                            <thead className=\"bg-slate-100 text-slate-600 font-medium border-b\">\n                              <tr>\n                                <th className=\"px-4 py-3\">BRANCHNAME</th>\n                                <th className=\"px-4 py-3\">BRANCHNUMB</th>\n                                <th className=\"px-4 py-3\">LEI</th>\n                                <th className=\"px-4 py-3\">ULI</th>\n                                <th className=\"px-4 py-3\">LASTNAME</th>\n                                <th className=\"px-4 py-3\">FIRSTNAME</th>\n                                <th className=\"px-4 py-3\">LENDER</th>\n                                <th className=\"px-4 py-3\">LOANAMOUNTINDOLLARS</th>\n                              </tr>\n                            </thead>\n                            <tbody className=\"divide-y\">\n                              {phase3Result.data.slice(0, 5).map((row, i) => (\n                                <tr key={i} className=\"hover:bg-slate-50\">\n                                  <td className=\"px-4 py-3 font-medium\">{row.BRANCHNAME || '-'}</td>\n                                  <td className=\"px-4 py-3\">{row.BRANCHNUMB || '-'}</td>\n                                  <td className=\"px-4 py-3 truncate max-w-[100px]\">{row.LEI || '-'}</td>\n                                  <td className=\"px-4 py-3 truncate max-w-[100px]\">{row.ULI || '-'}</td>\n                                  <td className=\"px-4 py-3\">{row.LASTNAME || '-'}</td>\n                                  <td className=\"px-4 py-3\">{row.FIRSTNAME || '-'}</td>\n                                  <td className=\"px-4 py-3\">{row.LENDER || '-'}</td>\n                                  <td className=\"px-4 py-3\">${Number(row.LOANAMOUNTINDOLLARS || 0).toLocaleString()}</td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  <div className=\"flex gap-4\">\n                    <Button \n                      className=\"flex-1 bg-green-600 hover:bg-green-700\" \n                      size=\"lg\"\n                      onClick={downloadPhase3WorkItem}\n                    >\n                      <Download className=\"mr-2 h-4 w-4\" />\n                      Download Work Item File\n                    </Button>\n                    <Button \n                      variant=\"outline\" \n                      size=\"lg\"\n                      onClick={downloadPhase3Summary}\n                    >\n                      <FileText className=\"mr-2 h-4 w-4\" />\n                      Download Summary\n                    </Button>\n                  </div>\n                </>\n              )}\n            </TabsContent>\n\n            {/* DOCUMENT INTELLIGENCE TAB (MOCK) */}\n            <TabsContent value=\"docs\" className=\"space-y-6 mt-0\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Document-Based Data Extraction (Phase 5)</CardTitle>\n                  <CardDescription>Automated extraction from PDF loan documents (Closing Disclosures, Notes, Appraisals).</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"space-y-4\">\n                    <div className=\"text-center mb-4\">\n                      <FileScan className=\"w-12 h-12 text-blue-300 mb-4 mx-auto\" />\n                      <h3 className=\"text-lg font-medium text-slate-900\">Upload Loan Document Packages</h3>\n                      <p className=\"text-sm text-slate-500 mt-2 max-w-md mx-auto\">\n                        Upload multiple PDF or text files to automatically extract interest rates, loan terms, and property details.\n                      </p>\n                    </div>\n                    \n                    <MultiFileUpload \n                      label=\"Document Files (PDF/Text)\" \n                      description=\"Drag & drop multiple files or click to select\"\n                      onFilesSelect={handleDocumentFilesUpload}\n                      files={documentFiles}\n                      onRemoveFile={handleRemoveDocumentFile}\n                      accept={{'application/pdf': ['.pdf'], 'text/plain': ['.txt']}}\n                    />\n\n                    {documentFiles.length > 0 && (\n                      <div className=\"flex justify-end gap-2 pt-4\">\n                        <Button \n                          variant=\"outline\" \n                          onClick={() => setDocumentFiles([])}\n                          data-testid=\"button-clear-all\"\n                        >\n                          Clear All\n                        </Button>\n                        <Button \n                          className=\"bg-[#003366] hover:bg-[#002244]\"\n                          data-testid=\"button-process-documents\"\n                        >\n                          Process {documentFiles.length} Document{documentFiles.length !== 1 ? 's' : ''}\n                        </Button>\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"mt-8\">\n                    <h4 className=\"text-sm font-medium text-slate-700 mb-4\">Extraction Capabilities Preview</h4>\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      <div className=\"p-4 bg-white border rounded-md shadow-sm\">\n                        <div className=\"text-xs text-slate-400 uppercase font-bold mb-2\">Closing Disclosure</div>\n                        <ul className=\"space-y-2 text-sm\">\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Loan Term</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Interest Rate</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Loan Purpose</li>\n                        </ul>\n                      </div>\n                      <div className=\"p-4 bg-white border rounded-md shadow-sm\">\n                        <div className=\"text-xs text-slate-400 uppercase font-bold mb-2\">Credit Report</div>\n                         <ul className=\"space-y-2 text-sm\">\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Middle Score Logic</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Applicant Age</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Bureau Source</li>\n                        </ul>\n                      </div>\n                      <div className=\"p-4 bg-white border rounded-md shadow-sm\">\n                        <div className=\"text-xs text-slate-400 uppercase font-bold mb-2\">Appraisal</div>\n                         <ul className=\"space-y-2 text-sm\">\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Construction Method</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Property Address</li>\n                          <li className=\"flex items-center gap-2 text-green-600\"><CheckCircle2 className=\"w-3 h-3\" /> Occupancy Type</li>\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"tutorial\" className=\"mt-0\">\n              <TutorialVideo />\n            </TabsContent>\n\n          </Tabs>\n        </main>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":48055,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7406,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/components/password-gate.tsx":{"content":"import { useState } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Lock, AlertCircle, Loader2 } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface PasswordGateProps {\n  onUnlock: () => void;\n}\n\nexport function PasswordGate({ onUnlock }: PasswordGateProps) {\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(false);\n  const [isValidating, setIsValidating] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    setIsValidating(true);\n    try {\n      const response = await fetch('/api/auth/validate', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ password })\n      });\n      \n      const data = await response.json();\n      \n      if (data.success) {\n        onUnlock();\n        toast({ title: \"Access Granted\", description: \"Welcome to Colony Bank ETL Tool\" });\n      } else {\n        setError(true);\n        toast({ title: \"Access Denied\", description: \"Incorrect password.\", variant: \"destructive\" });\n      }\n    } catch (err) {\n      setError(true);\n      toast({ title: \"Authentication Error\", description: \"Unable to validate credentials.\", variant: \"destructive\" });\n    } finally {\n      setIsValidating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-100 flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md shadow-xl border-slate-200\">\n        <CardHeader className=\"text-center space-y-2 pb-2\">\n          <div className=\"mx-auto w-12 h-12 bg-[#003366] rounded-full flex items-center justify-center mb-2\">\n            <Lock className=\"w-6 h-6 text-white\" />\n          </div>\n          <CardTitle className=\"text-xl font-bold text-[#003366]\">Colony Bank HMDA/CRA</CardTitle>\n          <CardDescription>Enter authorized password to access ETL tools</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Input\n                type=\"password\"\n                placeholder=\"Enter Password\"\n                value={password}\n                onChange={(e) => {\n                  setPassword(e.target.value);\n                  setError(false);\n                }}\n                className={error ? \"border-red-500 focus-visible:ring-red-500\" : \"\"}\n                disabled={isValidating}\n                data-testid=\"input-password\"\n              />\n              {error && (\n                <div className=\"flex items-center gap-1.5 text-sm text-red-600\">\n                  <AlertCircle className=\"w-4 h-4\" />\n                  <span>Incorrect password. Please try again.</span>\n                </div>\n              )}\n            </div>\n            <Button \n              type=\"submit\" \n              className=\"w-full bg-[#003366] hover:bg-[#002244]\"\n              disabled={isValidating}\n              data-testid=\"button-authenticate\"\n            >\n              {isValidating ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Validating...\n                </>\n              ) : (\n                'Authenticate'\n              )}\n            </Button>\n          </form>\n          <div className=\"mt-6 text-center text-xs text-muted-foreground\">\n            Authorized Personnel Only • {new Date().getFullYear()} Colony Bank\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":3719,"size_tokens":null},"client/src/components/file-upload.tsx":{"content":"import { useState, useCallback, useRef } from 'react';\nimport { Upload, FileSpreadsheet, CheckCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface FileUploadProps {\n  label: string;\n  description?: string;\n  accept?: Record<string, string[]>;\n  onFileSelect: (file: File) => void;\n  file?: File | null;\n}\n\nexport function FileUpload({ label, description, accept, onFileSelect, file }: FileUploadProps) {\n  const [isDragActive, setIsDragActive] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setIsDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setIsDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      onFileSelect(e.dataTransfer.files[0]);\n    }\n  }, [onFileSelect]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    if (e.target.files && e.target.files[0]) {\n      onFileSelect(e.target.files[0]);\n    }\n  };\n\n  const onButtonClick = () => {\n    inputRef.current?.click();\n  };\n\n  // Simple accept string for input\n  const acceptString = accept \n    ? Object.values(accept).flat().join(',')\n    : \".xlsx,.xls,.csv,.txt,.pdf\";\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <label className=\"text-sm font-medium text-foreground\">{label}</label>\n        {file && (\n          <span className=\"text-xs text-green-600 flex items-center gap-1\">\n            <CheckCircle className=\"w-3 h-3\" /> Uploaded\n          </span>\n        )}\n      </div>\n      \n      <div\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n        onClick={onButtonClick}\n        className={cn(\n          \"border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer flex flex-col items-center justify-center text-center min-h-[120px]\",\n          isDragActive ? \"border-primary bg-primary/5\" : \"border-border bg-card hover:bg-accent/50\",\n          file ? \"border-green-200 bg-green-50/30\" : \"\"\n        )}\n      >\n        <input \n          ref={inputRef}\n          type=\"file\" \n          className=\"hidden\" \n          onChange={handleChange}\n          accept={acceptString}\n        />\n        \n        {file ? (\n          <div className=\"flex flex-col items-center gap-2\">\n            <div className=\"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600\">\n              <FileSpreadsheet className=\"w-5 h-5\" />\n            </div>\n            <p className=\"text-sm font-medium text-foreground\">{file.name}</p>\n            <p className=\"text-xs text-muted-foreground\">{(file.size / 1024).toFixed(1)} KB</p>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center gap-2\">\n            <div className=\"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-muted-foreground\">\n              <Upload className=\"w-5 h-5\" />\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              {isDragActive ? \"Drop file here...\" : description || \"Drag & drop or click to upload\"}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3539,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3007,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport path from \"path\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\n// Serve downloadable files from client/public via /downloads route\nconst publicDir = path.resolve(import.meta.dirname, \"..\", \"client\", \"public\");\napp.use(\"/downloads\", express.static(publicDir));\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":2433,"size_tokens":null},"FILE_UPLOAD_SCREENSHOTS.md":{"content":"# Visual Upload Guide - Where to Click\n\nSince you asked for exact steps, here's a visual description of what you'll see:\n\n---\n\n## SCREEN 1: Login\n```\n┌─────────────────────────────────────┐\n│   Colony Bank Logo                  │\n│   HMDA/CRA ETL Automation          │\n│                                     │\n│   Password: [________________]     │\n│              (type: ColonyBank2024!)│\n│                                     │\n│   [    Authenticate    ]           │\n│                                     │\n└─────────────────────────────────────┘\n```\n**Action:** Type password, click Authenticate button\n\n---\n\n## SCREEN 2: Data Sources Tab\n```\n┌─────────────────────────────────────────────────────────┐\n│ Tabs: [Data Sources] [ETL Process] [Review] [Docs]     │\n├─────────────────────────────────────────────────────────┤\n│                                                          │\n│ Input A: LaserPro Export                                │\n│ ┌──────────────────────────────────────────────┐       │\n│ │  Drag files here or click to browse          │       │\n│ │                                               │       │\n│ │  [📁 Browse files]                           │       │\n│ └──────────────────────────────────────────────┘       │\n│ ℹ️ Core loan origination data                          │\n│                                                          │\n│ Input B: Encompass Export                               │\n│ ┌──────────────────────────────────────────────┐       │\n│ │  Drag files here or click to browse          │       │\n│ │                                               │       │\n│ │  [📁 Browse files]                           │       │\n│ └──────────────────────────────────────────────┘       │\n│ ℹ️ Mortgage software export                            │\n│                                                          │\n│ Input C: Supplemental Data                              │\n│ ┌──────────────────────────────────────────────┐       │\n│ │  Drag files here or click to browse          │       │\n│ │                                               │       │\n│ │  [📁 Browse files]                           │       │\n│ └──────────────────────────────────────────────┘       │\n│ ℹ️ Additional demographics                             │\n│                                                          │\n│                      [Continue to Phase 2 →]            │\n└─────────────────────────────────────────────────────────┘\n```\n\n**Actions:**\n1. Click \"Browse files\" in Input A section\n2. Select `01_LaserPro_Export.xlsx`\n3. Wait for green notification: \"Successfully loaded 15 records\"\n4. Click \"Browse files\" in Input B section  \n5. Select `02_Encompass_Export.xlsx`\n6. Wait for notification\n7. Click \"Browse files\" in Input C section\n8. Select `03_Supplemental_Export.xlsx`\n9. Wait for notification\n10. Click \"Continue to Phase 2\" button at bottom\n\n---\n\n## SCREEN 3: ETL Process Tab\n```\n┌─────────────────────────────────────────────────────────┐\n│ Tabs: [Data Sources] [ETL Process] [Review] [Docs]     │\n├─────────────────────────────────────────────────────────┤\n│                                                          │\n│  Phase 2: Comprehensive ETL Automation                  │\n│                                                          │\n│  [    🚀 Run Automation    ]                            │\n│                                                          │\n│  Processing Logs:                                       │\n│  ┌────────────────────────────────────────────┐        │\n│  │ [12:34:56] Starting ETL Process...         │        │\n│  │ [12:34:56] Phase 1: Filtering...           │        │\n│  │ [12:34:57] Phase 2: Transforming...        │        │\n│  │ [12:34:57] Phase 3: Validating...          │        │\n│  │ [12:34:58] Validation complete: Found 4... │        │\n│  │ [12:34:58] ETL Process Complete.           │        │\n│  └────────────────────────────────────────────┘        │\n│                                                          │\n│                    [Continue to Review →]                │\n└─────────────────────────────────────────────────────────┘\n```\n\n**Actions:**\n1. Click \"Run Automation\" button\n2. Watch logs scroll (2-3 seconds)\n3. System auto-advances to Review tab when done\n\n---\n\n## SCREEN 4: Review & Scrub Tab\n```\n┌──────────────────────────────────────────────────────────┐\n│ Tabs: [Data Sources] [ETL Process] [Review] [Docs]      │\n├──────────────────────────────────────────────────────────┤\n│                                                           │\n│  📊 Summary Statistics                                   │\n│  Total Records: 15  |  Volume: $XXX,XXX  |  Errors: 4   │\n│                                                           │\n│  Processed Data Table:                                   │\n│  ┌─────────┬──────────┬──────┬──────┬────────┬────────┐│\n│  │ Loan #  │ Branch   │ Term │ Rate │ Status │ Issues ││\n│  ├─────────┼──────────┼──────┼──────┼────────┼────────┤│\n│  │LP240001 │ Camilla  │ 15   │ 7.99 │ ✓Valid │        ││ ← Green\n│  │LP240002 │ Valdosta │ 15   │ 6.11 │ ⚠Review│ Census ││ ← Red\n│  │LP240003 │ Albany   │ 20   │25.00 │ ⚠Review│ Rate   ││ ← Red\n│  │...      │ ...      │ ...  │ ...  │ ...    │ ...    ││\n│  └─────────┴──────────┴──────┴──────┴────────┴────────┘│\n│                                                           │\n│  Export Options:                                         │\n│  [📥 Export Mail Merge]  [📥 Export CRA Wiz]            │\n│                                                           │\n└──────────────────────────────────────────────────────────┘\n```\n\n**Actions:**\n1. Scroll through the table\n2. Look for 4 red/pink highlighted rows (validation errors)\n3. Click \"Export Mail Merge\" to download Excel file\n4. Open downloaded file to verify\n\n---\n\n## SCREEN 5: Document Intelligence Tab\n```\n┌─────────────────────────────────────────────────────────┐\n│ Tabs: [Data Sources] [ETL Process] [Review] [Docs]     │\n├─────────────────────────────────────────────────────────┤\n│                                                          │\n│  📄 Document Intelligence                               │\n│                                                          │\n│  Upload Multiple Loan Documents:                        │\n│  ┌──────────────────────────────────────────────┐      │\n│  │  Drag PDF/Text files here                    │      │\n│  │  or click to browse                          │      │\n│  │                                               │      │\n│  │  [📁 Choose Files]                           │      │\n│  └──────────────────────────────────────────────┘      │\n│                                                          │\n│  Uploaded Files:                                        │\n│  ┌────────────────────────────────────────────┐        │\n│  │ 📄 08_Sample_Loan_Text.txt    1.29 KB  [X] │        │\n│  └────────────────────────────────────────────┘        │\n│                                                          │\n└─────────────────────────────────────────────────────────┘\n```\n\n**Actions:**\n1. Click \"Doc Intelligence\" tab\n2. Click \"Choose Files\" or drag file\n3. Select `08_Sample_Loan_Text.txt`\n4. Verify file appears in list with size\n5. Click [X] to test removal (optional)\n\n---\n\n## Complete Test Sequence\n\n```\n1. Type password → Click Authenticate\n2. Click \"Browse files\" (Input A) → Select 01_LaserPro_Export.xlsx\n3. Click \"Browse files\" (Input B) → Select 02_Encompass_Export.xlsx\n4. Click \"Browse files\" (Input C) → Select 03_Supplemental_Export.xlsx\n5. Click \"Continue to Phase 2\"\n6. Click \"Run Automation\"\n7. Wait 3 seconds (auto-advances)\n8. Verify 4 errors in table\n9. Click \"Export Mail Merge\"\n10. Open downloaded Excel file\n11. Click \"Doc Intelligence\" tab\n12. Upload 08_Sample_Loan_Text.txt\n```\n\n**Total clicks: ~12**\n**Total time: ~2 minutes**\n\n---\n\n**You're ready to test! 🚀**\n","path":null,"size_bytes":11406,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3835,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":266,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\nexport const processingAuditLog = pgTable(\"processing_audit_log\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n  username: text(\"username\").notNull(),\n  filesProcessed: integer(\"files_processed\").notNull(),\n  recordsProcessed: integer(\"records_processed\").notNull(),\n  validationErrors: integer(\"validation_errors\").notNull(),\n  phase: text(\"phase\").notNull(),\n});\n\nexport const insertAuditLogSchema = createInsertSchema(processingAuditLog).omit({\n  id: true,\n  timestamp: true,\n});\n\nexport type InsertAuditLog = z.infer<typeof insertAuditLogSchema>;\nexport type AuditLog = typeof processingAuditLog.$inferSelect;\n","path":null,"size_bytes":890,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/public/USER_MANUAL.md":{"content":"# Colony Bank HMDA/CRA ETL Tool - User Manual\n\n## Quick Start Guide\n\n### Step 1: Access the Tool\n1. Go to: [Replit URL]\n2. Enter password: `ColonyBank2024!`\n3. Click \"Log In\"\n\n### Step 2: Upload Your File\n1. Click \"Choose File\" or drag-and-drop\n2. Upload your SBSL CRA Export file (.xlsx, .xls, or .csv)\n3. Supported file: \"SBSL CRA - (Convert Sheet 1 into CRA Tab for Current Month).xlsx\"\n\n### Step 3: Select Processing Options\n✅ **Filter by current month** (recommended)\n- Keeps only records from the current month based on Note Date column\n\n✅ **Remove duplicates** (recommended)\n- Removes duplicate ApplNumb values, keeping first occurrence\n\n✅ **Run data validation** (recommended)\n- Checks for missing required fields and invalid data types\n\n### Step 4: Process Your Data\n1. Click the **\"Process Files\"** button\n2. Wait ~2 seconds for processing\n3. Review the results summary\n\n### Step 5: Review Results\nThe tool shows you:\n- Total records processed\n- Records filtered for current month\n- Duplicates found and removed\n- Validation errors identified\n- Summary statistics (loan amounts, date ranges, etc.)\n\n### Step 6: Download Your Files\n\n**Three files are generated:**\n\n1. **Consolidated CSV** - Clean data for Excel review\n2. **Tab-Delimited Text** - Ready for CRAWiz import\n3. **Validation Report** - List of all errors found\n\n---\n\n## Troubleshooting\n\n**Common Issues:**\n- **\"Missing Columns\" Error:** Ensure your upload file matches the standard SBSL template.\n- **\"No Records Found\":** Check that your Note Dates match the current month.\n- **\"Invalid Password\":** The password is case-sensitive (`ColonyBank2024!`).\n","path":null,"size_bytes":1630,"size_tokens":null},"client/src/components/ui/item.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item [a]:hover:bg-accent/50 focus-visible:border-ring focus-visible:ring-ring/50 [a]:transition-colors flex flex-wrap items-center rounded-md border border-transparent text-sm outline-none transition-colors duration-100 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"gap-4 p-4 \",\n        sm: \"gap-2.5 px-4 py-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:translate-y-0.5 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted size-8 rounded-sm border [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 overflow-hidden rounded-sm [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-balance text-sm font-normal leading-normal\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","path":null,"size_bytes":4494,"size_tokens":null},"attached_assets/README.md":{"content":"# HMDA/CRA Tool Test Files\n## Colony Bank - Sample Data Package\n\nGenerated: November 26, 2024\nPurpose: Testing and demonstration of the HMDA/CRA ETL Tool\n\n---\n\n## INPUT FILES (Upload these to test the tool)\n\n| File | Type | Description |\n|------|------|-------------|\n| `01_LaserPro_Export.xlsx` | Excel | Core loan origination data (15 sample loans) |\n| `02_Encompass_Export.xlsx` | Excel | Mortgage software export with borrower details |\n| `03_Supplemental_Export.xlsx` | Excel | Demographics and additional applicant data |\n| `08_Sample_Loan_Text.txt` | Text | Sample loan summary (for text parser testing) |\n\n---\n\n## EXPECTED OUTPUT FILES (Use these to verify tool accuracy)\n\n| File | Type | Description |\n|------|------|-------------|\n| `04_Expected_HMDA_Output.xlsx` | Excel | What the merged/validated output should look like |\n| `05_Expected_Validation_Errors.xlsx` | Excel | Expected validation errors to be flagged |\n| `06_Expected_LAR_Submission.csv` | CSV (pipe) | Final LAR format ready for regulatory submission |\n| `07_Processing_Summary.xlsx` | Excel | Processing statistics and metrics |\n\n---\n\n## FIELD MAPPINGS\n\n### LaserPro Export Fields\n- `Loan_Number` - Unique loan identifier (joins to other files)\n- `Application_Date` - Date loan application received\n- `Loan_Amount` - Principal loan amount\n- `Interest_Rate` - Annual percentage rate\n- `Loan_Term_Months` - Loan term in months\n- `Loan_Purpose_Code` - 1=Purchase, 2=Refinance, 3=Home Improvement, 4=Cash-Out\n- `Property_Type_Code` - 1=Single Family, 2=Manufactured, 3=Multifamily, 4=Condo\n- `Loan_Type_Code` - 1=Conventional, 2=FHA, 3=VA, 4=USDA\n- `Action_Taken_Code` - 1=Originated, 2=Approved, 3=Denied, 4=Withdrawn\n- `County_Code` - 3-digit FIPS county code\n- `Census_Tract` - Census tract number\n\n### Encompass Export Fields\n- `Loan_Number` - JOIN KEY\n- `Borrower_Last_Name`, `Borrower_First_Name` - Applicant name\n- `Property_Street`, `Property_City`, `Property_State`, `Property_Zip` - Property address\n- `Income_Thousands` - Annual income in thousands\n- `Credit_Score` - FICO score\n- `Closing_Date` - Loan closing date\n\n### Supplemental Export Fields\n- `Loan_Number` - JOIN KEY\n- `Applicant_Ethnicity` - 1=Hispanic, 2=Not Hispanic, 3=Not Provided, 4=NA\n- `Applicant_Race_1` - 1=Am Indian, 2=Asian, 3=Black, 4=Native HI, 5=White\n- `Applicant_Sex` - 1=Male, 2=Female, 3=Not Provided, 4=NA\n\n---\n\n## VALIDATION RULES\n\n1. **Required Fields**: All HMDA fields must be present\n2. **Census Tract Format**: Must be ##.## or ####.##\n3. **Rate Format**: Maximum 3 decimal places\n4. **Income Range**: 1-9999 (in thousands)\n5. **Code Values**: Must match valid HMDA code lists\n\n---\n\n## HOW TO USE\n\n1. Upload the three input files (01, 02, 03) to the tool\n2. Run the ETL automation\n3. Compare output against expected files (04, 05, 06, 07)\n4. Verify validation errors match expected errors\n5. Confirm LAR format is correct for regulatory submission\n\n---\n\n## NOTES\n\n- Sample data is FICTIONAL - do not submit to regulators\n- 15 sample loans included with randomized data\n- Approximately 3-4 loans should pass all validations\n- Intentional errors included for testing validation logic\n","path":null,"size_bytes":3150,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","path":null,"size_bytes":166,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4280,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4887,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1828,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"attached_assets/README_1764172506849.md":{"content":"# HMDA/CRA Tool Test Files\n## Colony Bank - Sample Data Package\n\nGenerated: November 26, 2024\nPurpose: Testing and demonstration of the HMDA/CRA ETL Tool\n\n---\n\n## INPUT FILES (Upload these to test the tool)\n\n| File | Type | Description |\n|------|------|-------------|\n| `01_LaserPro_Export.xlsx` | Excel | Core loan origination data (15 sample loans) |\n| `02_Encompass_Export.xlsx` | Excel | Mortgage software export with borrower details |\n| `03_Supplemental_Export.xlsx` | Excel | Demographics and additional applicant data |\n| `08_Sample_Loan_Text.txt` | Text | Sample loan summary (for text parser testing) |\n\n---\n\n## EXPECTED OUTPUT FILES (Use these to verify tool accuracy)\n\n| File | Type | Description |\n|------|------|-------------|\n| `04_Expected_HMDA_Output.xlsx` | Excel | What the merged/validated output should look like |\n| `05_Expected_Validation_Errors.xlsx` | Excel | Expected validation errors to be flagged |\n| `06_Expected_LAR_Submission.csv` | CSV (pipe) | Final LAR format ready for regulatory submission |\n| `07_Processing_Summary.xlsx` | Excel | Processing statistics and metrics |\n\n---\n\n## FIELD MAPPINGS\n\n### LaserPro Export Fields\n- `Loan_Number` - Unique loan identifier (joins to other files)\n- `Application_Date` - Date loan application received\n- `Loan_Amount` - Principal loan amount\n- `Interest_Rate` - Annual percentage rate\n- `Loan_Term_Months` - Loan term in months\n- `Loan_Purpose_Code` - 1=Purchase, 2=Refinance, 3=Home Improvement, 4=Cash-Out\n- `Property_Type_Code` - 1=Single Family, 2=Manufactured, 3=Multifamily, 4=Condo\n- `Loan_Type_Code` - 1=Conventional, 2=FHA, 3=VA, 4=USDA\n- `Action_Taken_Code` - 1=Originated, 2=Approved, 3=Denied, 4=Withdrawn\n- `County_Code` - 3-digit FIPS county code\n- `Census_Tract` - Census tract number\n\n### Encompass Export Fields\n- `Loan_Number` - JOIN KEY\n- `Borrower_Last_Name`, `Borrower_First_Name` - Applicant name\n- `Property_Street`, `Property_City`, `Property_State`, `Property_Zip` - Property address\n- `Income_Thousands` - Annual income in thousands\n- `Credit_Score` - FICO score\n- `Closing_Date` - Loan closing date\n\n### Supplemental Export Fields\n- `Loan_Number` - JOIN KEY\n- `Applicant_Ethnicity` - 1=Hispanic, 2=Not Hispanic, 3=Not Provided, 4=NA\n- `Applicant_Race_1` - 1=Am Indian, 2=Asian, 3=Black, 4=Native HI, 5=White\n- `Applicant_Sex` - 1=Male, 2=Female, 3=Not Provided, 4=NA\n\n---\n\n## VALIDATION RULES\n\n1. **Required Fields**: All HMDA fields must be present\n2. **Census Tract Format**: Must be ##.## or ####.##\n3. **Rate Format**: Maximum 3 decimal places\n4. **Income Range**: 1-9999 (in thousands)\n5. **Code Values**: Must match valid HMDA code lists\n\n---\n\n## HOW TO USE\n\n1. Upload the three input files (01, 02, 03) to the tool\n2. Run the ETL automation\n3. Compare output against expected files (04, 05, 06, 07)\n4. Verify validation errors match expected errors\n5. Confirm LAR format is correct for regulatory submission\n\n---\n\n## NOTES\n\n- Sample data is FICTIONAL - do not submit to regulators\n- 15 sample loans included with randomized data\n- Approximately 3-4 loans should pass all validations\n- Intentional errors included for testing validation logic\n","path":null,"size_bytes":3150,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"DEMO_TEST_FILES_GUIDE.md":{"content":"# HMDA/CRA Tool - Test Files Demo Guide\n## Ready for your 9am demo! 🎯\n\n---\n\n## Quick Start\n\nYour test files are ready in `client/public/test_data/`:\n- ✅ 01_LaserPro_Export.xlsx (15 loans)\n- ✅ 02_Encompass_Export.xlsx (borrower details)\n- ✅ 03_Supplemental_Export.xlsx (demographics)\n- ✅ 08_Sample_Loan_Text.txt (text parser test)\n\n---\n\n## Demo Walkthrough with Test Files\n\n### **Step 1: Login** (30 seconds)\n1. Password: `ColonyBank2024!`\n2. Click \"Authenticate\"\n\n### **Step 2: Upload Test Files** (2 minutes)\n\nNavigate to \"Data Sources\" tab:\n\n**Input A: LaserPro**\n- Upload: `01_LaserPro_Export.xlsx`\n- Contains: 15 sample loans with core HMDA data\n- Watch for: \"Successfully loaded 15 records\" message\n\n**Input B: Encompass** \n- Upload: `02_Encompass_Export.xlsx`\n- Contains: Borrower names, property addresses, income, credit scores\n- Watch for: File confirmation toast\n\n**Input C: Supplemental**\n- Upload: `03_Supplemental_Export.xlsx`  \n- Contains: Demographics (ethnicity, race, sex)\n- Watch for: \"ready for processing\" message\n\n### **Step 3: Run ETL Process** (2 minutes)\n\nClick \"Continue to Phase 2\" → \"Run Automation\"\n\n**Watch the logs scroll:**\n```\nStarting Comprehensive ETL Process...\nPhase 1: Filtering by current month (November 2025)...\nFiltered: Kept X records out of 15 total\nPhase 2: Transforming Encompass Data...\n   - Calculating Branch Codes\n   - Deriving Application Numbers\n   - Converting Loan Terms (Months -> Years)\nPhase 2 (Step 2): Merging Supplemental Data...\n   - Merged Customer Names\n   - Merged Borrower Data\n   - Merged APR and Rate Types\nPhase 2 (Step 3): Cleaning & Formatting...\n   - Formatting APRs (removing trailing zeros)\n   - Padding County Codes (5 digits)\n   - Padding Tract Numbers (11 digits)\nPhase 3: Simulating CRA Wiz Validation...\nValidation complete: Found 4 issues\nETL Process Complete.\n```\n\n**Point out to your boss:**\n- \"The system automatically filtered, transformed, and validated all 15 loans\"\n- \"This process normally takes 8-10 hours manually\"\n- \"Completed in under 3 seconds\"\n\n### **Step 4: Review Results** (3 minutes)\n\nSystem auto-advances to \"Review & Scrub\" tab\n\n**Summary Statistics:**\n- Total Records: ~15 loans (filtered by current month)\n- Total Volume: $XXX,XXX (varies based on filtered data)\n- Validation Errors: **4 errors** (intentional test errors)\n\n**Explain the intentional errors to your boss:**\n*\"These test files include 4 intentional validation errors to demonstrate the system catches issues before CRA Wiz submission:\"*\n1. Census Tract format error (wrong format)\n2. Interest Rate out of bounds (>20%)\n3. Income out of range (>9999 thousands)\n4. Invalid Action Taken Code\n\n**Show the data table:**\n- Green rows = CRA Wiz compliant\n- Red rows = Need review (hover to see specific errors)\n- Real loan numbers from test data (LP2024110001, etc.)\n\n**Click \"Export Mail Merge\"**\n- Explain: \"Creates Excel file with 'Merge Data' tab for Word templates\"\n- Point out: \"Eliminates 2-3 hours of manual mail merge preparation\"\n\n### **Step 5: Document Intelligence** (2 minutes)\n\nNavigate to \"Doc Intelligence\" tab\n\n**Upload the text file:**\n- Drag & drop: `08_Sample_Loan_Text.txt`\n- Shows in file list with size (1.3 KB)\n- Explain: \"System accepts PDF loan packages and text files\"\n- Point out: \"Can upload multiple documents at once for batch processing\"\n\n**Talk about future capability:**\n*\"While this demo shows file acceptance, the production version will automatically extract:*\n- *Loan amounts, terms, and rates from closing disclosures*\n- *Borrower information from credit reports*\n- *Property details from appraisals*\n- *Eliminating manual data entry from paper documents\"*\n\n---\n\n## Expected Results (What to Tell Your Boss)\n\n### **Test File Statistics:**\n- **15 sample loans** processed\n- **3 originated**, 7 approved, 1 denied, 4 withdrawn\n- **4 validation errors** flagged (all intentional for testing)\n- All data properly joined by `Loan_Number`\n\n### **Time Savings:**\n| Task | Manual Process | Automated | Savings |\n|------|---------------|-----------|---------|\n| Data filtering | 2 hours | 1 second | **99.9%** |\n| Branch code calculation | 30 minutes | 1 second | **99.9%** |\n| VLOOKUP merging | 1.5 hours | 1 second | **99.9%** |\n| Validation checking | 3 hours | 2 seconds | **99.9%** |\n| Format cleaning | 1 hour | 1 second | **99.9%** |\n| **TOTAL** | **100+ hours/month** | **~30 min/month** | **~95%** |\n\n### **Accuracy Improvements:**\n- ✅ Zero manual calculation errors\n- ✅ Consistent formatting across all records\n- ✅ Automated validation catches errors before submission\n- ✅ Complete audit trail (who processed, when, results)\n\n---\n\n## Handling Boss Questions\n\n**Q: \"How do we know it's accurate?\"**\nA: Point to the test files - \"These files include expected outputs. I can show you the system produces identical results to what compliance experts expect. We also have expected validation errors file that matches exactly what the tool found.\"\n\n**Q: \"What if we need to reprocess?\"**\nA: \"Just re-upload the files and click Run. Takes 30 seconds instead of starting the whole manual process over.\"\n\n**Q: \"Can we customize the validation rules?\"**\nA: \"Yes, the validation rules are configurable. We can add colony-specific business rules beyond HMDA requirements.\"\n\n**Q: \"What about security?\"**\nA: \"All processing happens in the browser - sensitive loan data never leaves your computer. We only send authentication and audit logs to the server, no actual loan information.\"\n\n**Q: \"When can we go live?\"**\nA: \"The system is ready now. We'd recommend:\n1. One training session with compliance team (2 hours)\n2. Test run with December data in parallel with manual process\n3. Full production for January cycle\n4. Estimated go-live: January 2025\"\n\n---\n\n## Post-Demo Actions\n\n**If Boss Approves:**\n- [ ] Schedule compliance team training\n- [ ] Plan parallel test run (December data)\n- [ ] Document Colony-specific business rules\n- [ ] Set up user accounts for team\n\n**If Boss Has Concerns:**\n- [ ] Address specific questions\n- [ ] Offer side-by-side comparison with manual output\n- [ ] Provide ROI calculation spreadsheet\n- [ ] Schedule follow-up demo with compliance team present\n\n---\n\n## File Locations\n\n**Test Files (in project):**\n```\nclient/public/test_data/\n├── 01_LaserPro_Export.xlsx       ← Upload to Input A\n├── 02_Encompass_Export.xlsx      ← Upload to Input B\n├── 03_Supplemental_Export.xlsx   ← Upload to Input C\n├── 08_Sample_Loan_Text.txt       ← Upload to Doc Intelligence\n└── README.md                     ← Field mappings reference\n```\n\n**Original Files (for backup):**\n```\nattached_assets/\n├── All test files (same as above)\n├── 04_Expected_HMDA_Output.xlsx  ← Use to verify accuracy\n├── 05_Expected_Validation_Errors.xlsx  ← Compare validation results\n├── 06_Expected_LAR_Submission.csv  ← Final format reference\n└── 07_Processing_Summary.xlsx    ← Stats to compare\n```\n\n---\n\n## Tips for a Smooth Demo\n\n1. **Practice once** with the test files before the actual demo\n2. **Have files ready** on your desktop for quick access\n3. **Slow down** when showing validation errors - let boss see the details\n4. **Emphasize time savings** - that's the #1 value proposition\n5. **Show confidence** - you built an amazing compliance automation tool!\n\n---\n\n## Technical Notes (for you, not the boss)\n\n**What the system does with test files:**\n- Recognizes `Loan_Number` field → HMDA mode\n- Joins LaserPro + Encompass + Supplemental on `Loan_Number`\n- Applies HMDA-specific validation rules:\n  - Census Tract format (##.## or ####.##)\n  - Interest Rate (0-20%, max 3 decimals)\n  - Income (1-9999 thousands)\n  - Action Taken codes (1-8)\n  - State codes (2 letters)\n- Displays proper field mappings in results table\n- Handles both HMDA test data and legacy demo data\n\n**Intentional Test Errors (built into test files):**\nThe test data includes 4 loans with validation errors to demonstrate the system's error detection capability. Your boss will see these flagged in red during the demo.\n\n---\n\nGood luck with your demo tomorrow! 🚀\n\nYou've got this! 💪\n","path":null,"size_bytes":8149,"size_tokens":null},"TESTING_INSTRUCTIONS.md":{"content":"# Colony Bank HMDA/CRA Tool - Testing Instructions\n\n## Quick Test Process (5 minutes)\n\nFollow these exact steps to test the system with realistic HMDA data:\n\n---\n\n## Step 1: Access the Application\n\n1. Open the application in your browser\n2. You'll see the Colony Bank login screen\n\n---\n\n## Step 2: Login\n\n1. Enter password: `ColonyBank2024!`\n2. Click **\"Authenticate\"**\n3. You should see the main dashboard with tabs at the top\n\n---\n\n## Step 3: Upload Test Files\n\nNavigate to the **\"Data Sources\"** tab (should be active by default)\n\n### Upload File A - LaserPro Export\n\n1. Find the section labeled **\"Input A: LaserPro Export\"**\n2. Click **\"Browse files\"** or drag-and-drop\n3. Select file: `01_LaserPro_Export.xlsx`\n   - **Location**: `client/public/test_data/01_LaserPro_Export.xlsx`\n4. Wait for confirmation message: \"Successfully loaded 15 records from 01_LaserPro_Export.xlsx\"\n\n### Upload File B - Encompass Export\n\n1. Find the section labeled **\"Input B: Encompass Export\"**\n2. Click **\"Browse files\"** or drag-and-drop\n3. Select file: `02_Encompass_Export.xlsx`\n   - **Location**: `client/public/test_data/02_Encompass_Export.xlsx`\n4. Wait for confirmation message: \"02_Encompass_Export.xlsx ready for processing\"\n\n### Upload File C - Supplemental Data\n\n1. Find the section labeled **\"Input C: Supplemental Data\"**\n2. Click **\"Browse files\"** or drag-and-drop\n3. Select file: `03_Supplemental_Export.xlsx`\n   - **Location**: `client/public/test_data/03_Supplemental_Export.xlsx`\n4. Wait for confirmation message: \"03_Supplemental_Export.xlsx ready for processing\"\n\n---\n\n## Step 4: Run the ETL Automation\n\n1. Click the green **\"Continue to Phase 2\"** button at the bottom\n2. You'll be taken to the **\"ETL Process\"** tab\n3. Click the **\"Run Automation\"** button\n4. Watch the processing logs appear in real-time:\n\n**Expected log output:**\n```\nStarting Comprehensive ETL Process...\nPhase 1: Filtering by current month (November 2025)...\nFiltered: Kept X records out of 15 total\nPhase 2: Transforming Encompass Data...\nPhase 2 (Step 2): Merging Supplemental Data...\nPhase 2 (Step 3): Cleaning & Formatting...\nPhase 3: Simulating CRA Wiz Validation...\nValidation complete: Found 4 issues\nETL Process Complete.\n```\n\n5. Processing should complete in 2-3 seconds\n6. System automatically advances to **\"Review & Scrub\"** tab\n\n---\n\n## Step 5: Review Results\n\nYou should now see the **\"Review & Scrub\"** tab with results:\n\n### Summary Statistics (top section)\n- **Total Records**: Number of loans processed (filtered by current month)\n- **Total Volume**: Combined loan amounts\n- **Validation Errors**: **4 errors** (intentional test errors)\n\n### Data Table (scrollable)\n\n**What to look for:**\n\n✅ **Column Headers:**\n- Loan #\n- Branch/Location\n- Term (Years)\n- Rate (%)\n- Status\n- Issues\n\n✅ **Green rows** = Valid loans (passed all checks)\n- Should show \"Valid\" badge with checkmark\n- No errors in \"Issues\" column\n\n❌ **Red/pink rows** = Loans with validation errors\n- Should show \"Review\" badge with warning icon\n- Specific errors listed in \"Issues\" column\n\n**Expected validation errors (4 total):**\n1. Census Tract format error (must be ##.## or ####.##)\n2. Interest Rate out of bounds (must be 0-20%)\n3. Income out of range (must be 1-9999 thousands)\n4. Invalid Action Taken Code (must be 1-8)\n\n### Test the Export\n\n1. Scroll down to the **\"Export Options\"** section\n2. Click **\"Export Mail Merge\"** button\n3. An Excel file will download: `Mail_Merge_Export.xlsx`\n4. Open the file and verify:\n   - Contains \"Merge Data\" tab\n   - Shows all processed loan records\n   - Includes calculated fields (Branch, Term Years, APR)\n\n---\n\n## Step 6: Test Document Intelligence (Optional)\n\n1. Navigate to **\"Doc Intelligence\"** tab\n2. Click **\"Choose Files\"** or drag-and-drop multiple files\n3. Upload: `08_Sample_Loan_Text.txt`\n   - **Location**: `client/public/test_data/08_Sample_Loan_Text.txt`\n4. File should appear in the list showing:\n   - File name: `08_Sample_Loan_Text.txt`\n   - File size: `1.29 KB`\n5. Click the **X** button to test file removal\n6. Upload it again to verify multi-file upload works\n\n---\n\n## What Success Looks Like\n\n✅ **Login works** - Password authenticates successfully\n✅ **Files upload** - All 3 Excel files load without errors\n✅ **Processing completes** - ETL runs in 2-3 seconds\n✅ **Data displays** - Table shows 15 loans with realistic data\n✅ **Validation works** - Exactly 4 errors flagged\n✅ **Export works** - Mail merge Excel file downloads\n✅ **Docs upload** - Text file uploads to Document Intelligence\n\n---\n\n## Troubleshooting\n\n### Problem: \"Using Sample Data\" message appears\n**Solution**: Make sure you uploaded the LaserPro or Encompass file first before clicking \"Run Automation\"\n\n### Problem: No validation errors shown\n**Solution**: Check that you're looking at the filtered data (current month). Some test loans may be filtered out if their dates don't match the current month.\n\n### Problem: Files won't upload\n**Solution**: \n- Check file is in `client/public/test_data/` folder\n- Make sure it's an `.xlsx` file (not `.xls`)\n- Try refreshing the page and logging in again\n\n### Problem: Export button doesn't work\n**Solution**: Make sure you ran the automation first - export only works after processing completes\n\n---\n\n## Test Data Details\n\n**Test files contain:**\n- 15 sample HMDA-reportable loans\n- Loan numbers: LP2024110001 through LP2024110015\n- Realistic field values (interest rates, census tracts, income, etc.)\n- 4 intentional validation errors for testing error detection\n- All files join on `Loan_Number` field\n\n**Field mappings:**\n- LaserPro: Core loan data (amount, rate, term, property type, action taken)\n- Encompass: Borrower details (name, income, credit score, property address)\n- Supplemental: Demographics (ethnicity, race, sex)\n\n---\n\n## Next Steps After Testing\n\n1. ✅ Verify all 15 loans processed correctly\n2. ✅ Confirm 4 validation errors match expected errors\n3. ✅ Check exported Excel file opens properly\n4. ✅ Test Document Intelligence file upload/removal\n5. 📋 Document any issues or questions\n6. 🎯 Ready for tomorrow's 9am demo!\n\n---\n\n## Quick Reference: File Locations\n\n```\nclient/public/test_data/\n├── 01_LaserPro_Export.xlsx       ← Upload to Input A\n├── 02_Encompass_Export.xlsx      ← Upload to Input B  \n├── 03_Supplemental_Export.xlsx   ← Upload to Input C\n└── 08_Sample_Loan_Text.txt       ← Upload to Doc Intelligence\n```\n\n---\n\n**Total testing time: ~5 minutes**\n**Demo ready: ✅ YES**\n","path":null,"size_bytes":6516,"size_tokens":null},"client/src/components/ui/kbd.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 select-none items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","path":null,"size_bytes":862,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1037,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1877,"size_tokens":null},"client/src/components/ui/input-group.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 shadow-xs relative flex w-full items-center rounded-md border outline-none transition-[color,box-shadow]\",\n        \"h-9 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:ring-ring has-[[data-slot=input-group-control]:focus-visible]:ring-1\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text select-none items-center justify-center gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"[.border-b]:pb-3 order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"[.border-t]:pt-3 order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"flex items-center gap-2 text-sm shadow-none\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>svg]:px-2 [&>svg:not([class*='size-'])]:size-3.5\",\n        sm: \"h-8 gap-1.5 rounded-md px-2.5 has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","path":null,"size_bytes":4971,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload\n            .filter((item) => item.type !== \"none\")\n            .map((item, index) => {\n              const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n              const itemConfig = getPayloadConfigFromPayload(config, item, key)\n              const indicatorColor = color || item.payload.fill || item.color\n\n              return (\n                <div\n                  key={item.dataKey}\n                  className={cn(\n                    \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                    indicator === \"dot\" && \"items-center\"\n                  )}\n                >\n                  {formatter && item?.value !== undefined && item.name ? (\n                    formatter(item.value, item.name, item, index, item.payload)\n                  ) : (\n                    <>\n                      {itemConfig?.icon ? (\n                        <itemConfig.icon />\n                      ) : (\n                        !hideIndicator && (\n                          <div\n                            className={cn(\n                              \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                              {\n                                \"h-2.5 w-2.5\": indicator === \"dot\",\n                                \"w-1\": indicator === \"line\",\n                                \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                  indicator === \"dashed\",\n                                \"my-0.5\": nestLabel && indicator === \"dashed\",\n                              }\n                            )}\n                            style={\n                              {\n                                \"--color-bg\": indicatorColor,\n                                \"--color-border\": indicatorColor,\n                              } as React.CSSProperties\n                            }\n                          />\n                        )\n                      )}\n                      <div\n                        className={cn(\n                          \"flex flex-1 justify-between leading-none\",\n                          nestLabel ? \"items-end\" : \"items-center\"\n                        )}\n                      >\n                        <div className=\"grid gap-1.5\">\n                          {nestLabel ? tooltipLabel : null}\n                          <span className=\"text-muted-foreground\">\n                            {itemConfig?.label || item.name}\n                          </span>\n                        </div>\n                        {item.value && (\n                          <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                            {item.value.toLocaleString()}\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload\n          .filter((item) => item.type !== \"none\")\n          .map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n            return (\n              <div\n                key={item.value}\n                className={cn(\n                  \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n                )}\n              >\n                {itemConfig?.icon && !hideIcon ? (\n                  <itemConfig.icon />\n                ) : (\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                    style={{\n                      backgroundColor: item.color,\n                    }}\n                  />\n                )}\n                {itemConfig?.label}\n              </div>\n            )\n          })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10763,"size_tokens":null},"client/public/test_data/README.md":{"content":"# HMDA/CRA Tool Test Files\n## Colony Bank - Sample Data Package\n\nGenerated: November 26, 2024\nPurpose: Testing and demonstration of the HMDA/CRA ETL Tool\n\n---\n\n## INPUT FILES (Upload these to test the tool)\n\n| File | Type | Description |\n|------|------|-------------|\n| `01_LaserPro_Export.xlsx` | Excel | Core loan origination data (15 sample loans) |\n| `02_Encompass_Export.xlsx` | Excel | Mortgage software export with borrower details |\n| `03_Supplemental_Export.xlsx` | Excel | Demographics and additional applicant data |\n| `08_Sample_Loan_Text.txt` | Text | Sample loan summary (for text parser testing) |\n\n---\n\n## EXPECTED OUTPUT FILES (Use these to verify tool accuracy)\n\n| File | Type | Description |\n|------|------|-------------|\n| `04_Expected_HMDA_Output.xlsx` | Excel | What the merged/validated output should look like |\n| `05_Expected_Validation_Errors.xlsx` | Excel | Expected validation errors to be flagged |\n| `06_Expected_LAR_Submission.csv` | CSV (pipe) | Final LAR format ready for regulatory submission |\n| `07_Processing_Summary.xlsx` | Excel | Processing statistics and metrics |\n\n---\n\n## FIELD MAPPINGS\n\n### LaserPro Export Fields\n- `Loan_Number` - Unique loan identifier (joins to other files)\n- `Application_Date` - Date loan application received\n- `Loan_Amount` - Principal loan amount\n- `Interest_Rate` - Annual percentage rate\n- `Loan_Term_Months` - Loan term in months\n- `Loan_Purpose_Code` - 1=Purchase, 2=Refinance, 3=Home Improvement, 4=Cash-Out\n- `Property_Type_Code` - 1=Single Family, 2=Manufactured, 3=Multifamily, 4=Condo\n- `Loan_Type_Code` - 1=Conventional, 2=FHA, 3=VA, 4=USDA\n- `Action_Taken_Code` - 1=Originated, 2=Approved, 3=Denied, 4=Withdrawn\n- `County_Code` - 3-digit FIPS county code\n- `Census_Tract` - Census tract number\n\n### Encompass Export Fields\n- `Loan_Number` - JOIN KEY\n- `Borrower_Last_Name`, `Borrower_First_Name` - Applicant name\n- `Property_Street`, `Property_City`, `Property_State`, `Property_Zip` - Property address\n- `Income_Thousands` - Annual income in thousands\n- `Credit_Score` - FICO score\n- `Closing_Date` - Loan closing date\n\n### Supplemental Export Fields\n- `Loan_Number` - JOIN KEY\n- `Applicant_Ethnicity` - 1=Hispanic, 2=Not Hispanic, 3=Not Provided, 4=NA\n- `Applicant_Race_1` - 1=Am Indian, 2=Asian, 3=Black, 4=Native HI, 5=White\n- `Applicant_Sex` - 1=Male, 2=Female, 3=Not Provided, 4=NA\n\n---\n\n## VALIDATION RULES\n\n1. **Required Fields**: All HMDA fields must be present\n2. **Census Tract Format**: Must be ##.## or ####.##\n3. **Rate Format**: Maximum 3 decimal places\n4. **Income Range**: 1-9999 (in thousands)\n5. **Code Values**: Must match valid HMDA code lists\n\n---\n\n## HOW TO USE\n\n1. Upload the three input files (01, 02, 03) to the tool\n2. Run the ETL automation\n3. Compare output against expected files (04, 05, 06, 07)\n4. Verify validation errors match expected errors\n5. Confirm LAR format is correct for regulatory submission\n\n---\n\n## NOTES\n\n- Sample data is FICTIONAL - do not submit to regulators\n- 15 sample loans included with randomized data\n- Approximately 3-4 loans should pass all validations\n- Intentional errors included for testing validation logic\n","path":null,"size_bytes":3150,"size_tokens":null},"QUICK_TEST_GUIDE.md":{"content":"# Quick Test Guide - 2 Minutes\n\n## The Fastest Way to Test Your HMDA Tool\n\n---\n\n### 1. LOGIN (15 seconds)\n```\nPassword: ColonyBank2024!\nClick: Authenticate\n```\n\n---\n\n### 2. UPLOAD FILES (60 seconds)\n\n**Data Sources Tab:**\n\n**Input A:** `01_LaserPro_Export.xlsx`\n- Look for: \"Successfully loaded 15 records\"\n\n**Input B:** `02_Encompass_Export.xlsx`  \n- Look for: \"ready for processing\"\n\n**Input C:** `03_Supplemental_Export.xlsx`\n- Look for: \"ready for processing\"\n\n---\n\n### 3. RUN AUTOMATION (30 seconds)\n\n```\nClick: \"Continue to Phase 2\"\nClick: \"Run Automation\"\nWait: 2-3 seconds\n```\n\n**Watch for:**\n- ✅ Logs scrolling\n- ✅ \"Found 4 issues\"\n- ✅ \"ETL Process Complete\"\n- ✅ Auto-advance to Review tab\n\n---\n\n### 4. VERIFY RESULTS (15 seconds)\n\n**Look for:**\n- **Summary:** Total Records, Total Volume, Validation Errors: 4\n- **Table:** Green rows (valid) + Red rows (4 errors)\n- **Errors:** Census Tract, Interest Rate, Income, Action Code issues\n\n```\nClick: \"Export Mail Merge\"\nVerify: Excel file downloads\n```\n\n---\n\n### 5. TEST DOCS (Optional - 15 seconds)\n\n```\nTab: \"Doc Intelligence\"\nUpload: 08_Sample_Loan_Text.txt\nVerify: File appears in list (1.29 KB)\n```\n\n---\n\n## Success Checklist\n\n- [ ] Login works\n- [ ] 3 files upload successfully  \n- [ ] Processing completes in ~3 seconds\n- [ ] Exactly 4 validation errors shown\n- [ ] Table displays 15 loans (or filtered count)\n- [ ] Export downloads Excel file\n- [ ] Document upload works\n\n---\n\n## File Locations\n\nAll test files are in: `client/public/test_data/`\n\n---\n\n**READY FOR DEMO? ✅**\n","path":null,"size_bytes":1548,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/lib/cra-wiz-transform.ts":{"content":"import { read, utils, writeFile } from 'xlsx';\n\n// Embedded Branch List (48 branches)\nexport const BRANCH_LIST: Record<string, string> = {\n  '101': 'Columbus',\n  '103': 'Leesburg',\n  '104': 'Savannah Hwy 17',\n  '107': 'Savannah Hodgson',\n  '108': 'Centerville',\n  '109': 'Warner Robins',\n  '110': 'Valdosta',\n  '114': 'Statesboro',\n  '116': 'LaGrange',\n  '125': 'Albany NW',\n  '127': 'Thomaston',\n  '129': 'Manchester',\n  '131': 'Fayetteville',\n  '134': 'Cedartown',\n  '136': 'Rockmart',\n  '137': 'Chickamauga',\n  '201': 'Rochelle',\n  '203': 'Cordele',\n  '204': 'Ashburn',\n  '205': 'Moultrie',\n  '206': 'Tifton',\n  '207': 'Sylvester',\n  '208': 'Fitzgerald',\n  '209': 'Douglas',\n  '210': 'Baxley',\n  '211': 'Waycross',\n  '212': 'Alma',\n  '213': 'Albany Westover',\n  '301': 'Quitman',\n  '302': 'Thomasville',\n  '303': 'Cairo',\n  '304': 'Camilla',\n  '305': 'Blakely',\n  '306': 'Donalsonville',\n  '307': 'Bainbridge',\n  '308': 'Albany Dawson',\n  '401': 'Dothan',\n  '402': 'Valdosta Mortgage',\n  '403': 'Gulf Shores',\n  '404': 'Tallahassee Mortgage',\n  '406': 'Albany Mortgage',\n  '407': 'Tifton Mortgage',\n  '408': 'Valdosta Mall',\n  '410': 'Homerville',\n  '411': 'Panama City',\n  '414': 'Perry',\n  '415': 'Tallahassee Mahan',\n  '416': 'Tallahassee'\n};\n\n// Exact 125-column output order\nexport const OUTPUT_COLUMNS = [\n  'BRANCHNAME',\n  'BRANCHNUMB',\n  'LEI',\n  'ULI',\n  'LASTNAME',\n  'FIRSTNAME',\n  'CLASTNAME',\n  'CFIRSTNAME',\n  'LENDER',\n  'AA_LOANPROCESSOR',\n  'LDP_POSTCLOSER',\n  'ErrorMadeBy',\n  'APPLDATE',\n  'LOANTYPE',\n  'PURPOSE',\n  'CONSTRUCTIONMETHOD',\n  'OCCUPANCYTYPE',\n  'LOANAMOUNTINDOLLARS',\n  'PREAPPROVAL',\n  'ACTION',\n  'ACTIONDATE',\n  'ADDRESS',\n  'CITY',\n  'STATE_ABRV',\n  'ZIP',\n  'COUNTY_5',\n  'TRACT_11',\n  'ETHNICITY_1',\n  'ETHNICITY_2',\n  'ETHNICITY_3',\n  'ETHNICITY_4',\n  'ETHNICITY_5',\n  'ETHNICITYOTHER',\n  'COA_ETHNICITY_1',\n  'COA_ETHNICITY_2',\n  'COA_ETHNICITY_3',\n  'COA_ETHNICITY_4',\n  'COA_ETHNICITY_5',\n  'COA_ETHNICITYOTHER',\n  'ETHNICITY_DETERMINANT',\n  'COA_ETHNICITY_DETERMINANT',\n  'RACE_1',\n  'RACE_2',\n  'RACE_3',\n  'RACE_4',\n  'RACE_5',\n  'RACE1_OTHER',\n  'RACE27_OTHER',\n  'RACE44_OTHER',\n  'COARACE_1',\n  'COARACE_2',\n  'COARACE_3',\n  'COARACE_4',\n  'COARACE_5',\n  'COARACE1_OTHER',\n  'COARACE27_OTHER',\n  'COARACE44_OTHER',\n  'RACE_DETERMINANT',\n  'COARACE_DETERMINANT',\n  'SEX',\n  'COASEX',\n  'SEX_DETERMINANT',\n  'COASEX_DETERMINANT',\n  'AGE',\n  'COA_AGE',\n  'INCOME',\n  'PURCHASER',\n  'RATE_SPREAD',\n  'HOEPA_STATUS',\n  'LIEN_STATUS',\n  'CREDITSCORE',\n  'COA_CREDITSCORE',\n  'CREDITMODEL',\n  'CREDITMODELOTHER',\n  'COA_CREDITMODEL',\n  'COA_CREDITMODELOTHER',\n  'DENIAL1',\n  'DENIAL2',\n  'DENIAL3',\n  'DENIAL4',\n  'DENIALOTHER',\n  'TOTALLOANCOSTS',\n  'TOTALPTSANDFEES',\n  'ORIGFEES',\n  'DISCOUNTPTS',\n  'LENDERCREDTS',\n  'INTERESTRATE',\n  'APR',\n  'RATE_LOCK_DATE',\n  'PPPTERM',\n  'DTIRATIO',\n  'DSC',\n  'CLTV',\n  'LOAN_TERM',\n  'LOAN_TERM_MONTHS',\n  'INTRORATEPERIOD',\n  'BALLOONPMT',\n  'IOPMT',\n  'NEGAM',\n  'NONAMORTZ',\n  'PROPERTYVALUE',\n  'MHSECPROPTYPE',\n  'MHLANDPROPINT',\n  'TOTALUNITS',\n  'MFAHU',\n  'APPMETHOD',\n  'PAYABLEINST',\n  'NMLSRID',\n  'AUSYSTEM1',\n  'AUSYSTEM2',\n  'AUSYSTEM3',\n  'AUSYSTEM4',\n  'AUSYSTEM5',\n  'AUSYSTEMOTHER',\n  'AUSRESULT1',\n  'AUSRESULT2',\n  'AUSRESULT3',\n  'AUSRESULT4',\n  'AUSRESULT5',\n  'AUSRESULTOTHER',\n  'REVMTG',\n  'OPENLOC',\n  'BUSCML',\n  'RATETYPE',\n  'VAR_TERM'\n];\n\nexport interface CRAWizRow {\n  [key: string]: any;\n}\n\n// Date columns that need Excel serial number to M/D/YY conversion\nconst DATE_COLUMNS = ['APPLDATE', 'ACTIONDATE', 'RATE_LOCK_DATE'];\n\n// Convert Excel serial number to M/D/YY format\nconst excelDateToString = (serial: any): string => {\n  if (!serial || isNaN(serial)) return serial;\n  const numSerial = Number(serial);\n  if (numSerial < 1000) return serial; // Not a valid Excel date serial\n  const date = new Date((numSerial - 25569) * 86400 * 1000);\n  return `${date.getMonth() + 1}/${date.getDate()}/${String(date.getFullYear()).slice(-2)}`;\n};\n\nexport interface TransformResult {\n  data: CRAWizRow[];\n  inputColumns: number;\n  outputColumns: number;\n  rowCount: number;\n  branchMatchCount: number;\n  branchMissCount: number;\n}\n\nexport const parseCRAWizFile = async (file: File): Promise<CRAWizRow[]> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    \n    reader.onload = (e) => {\n      try {\n        const data = new Uint8Array(e.target?.result as ArrayBuffer);\n        const workbook = read(data, { type: 'array' });\n        const sheetName = workbook.SheetNames[0];\n        const sheet = workbook.Sheets[sheetName];\n        const jsonData = utils.sheet_to_json(sheet) as CRAWizRow[];\n        console.log(`Parsed CRA Wiz file: ${jsonData.length} rows, ${Object.keys(jsonData[0] || {}).length} columns`);\n        resolve(jsonData);\n      } catch (error) {\n        console.error(\"Error parsing CRA Wiz file:\", error);\n        reject(error);\n      }\n    };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n};\n\nexport const transformCRAWizExport = (\n  inputData: CRAWizRow[], \n  customBranchList?: Record<string, string>\n): TransformResult => {\n  const branchLookup = customBranchList || BRANCH_LIST;\n  let branchMatchCount = 0;\n  let branchMissCount = 0;\n  \n  const transformedData = inputData.map(row => {\n    // Use BRANCHNAME from input file first, only fallback to VLOOKUP if blank\n    const inputBranchName = row.BRANCHNAME ? String(row.BRANCHNAME).trim() : '';\n    const branchNum = String(row.BRANCHNUMB || '').trim();\n    const lookupBranchName = branchLookup[branchNum] || '';\n    \n    // Preserve original BRANCHNAME, use lookup only as fallback\n    const branchName = inputBranchName || lookupBranchName;\n    \n    if (branchName) {\n      branchMatchCount++;\n    } else {\n      branchMissCount++;\n    }\n    \n    // Build output row with exact 125-column order\n    const outputRow: CRAWizRow = {};\n    \n    OUTPUT_COLUMNS.forEach(col => {\n      if (col === 'BRANCHNAME') {\n        outputRow[col] = branchName;\n      } else if (col === 'ErrorMadeBy' || col === 'DSC') {\n        outputRow[col] = '';\n      } else if (DATE_COLUMNS.includes(col)) {\n        // Convert Excel serial dates to M/D/YY format\n        outputRow[col] = excelDateToString(row[col]);\n      } else {\n        outputRow[col] = row[col] !== undefined ? row[col] : '';\n      }\n    });\n    \n    return outputRow;\n  });\n  \n  return {\n    data: transformedData,\n    inputColumns: Object.keys(inputData[0] || {}).length,\n    outputColumns: OUTPUT_COLUMNS.length,\n    rowCount: transformedData.length,\n    branchMatchCount,\n    branchMissCount\n  };\n};\n\nexport const exportWorkItemFile = (data: CRAWizRow[], filename?: string) => {\n  const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n  const defaultFilename = `HMDA_WorkItem_${monthYear.replace(' ', '_')}.csv`;\n  \n  const ws = utils.json_to_sheet(data, { header: OUTPUT_COLUMNS });\n  const wb = utils.book_new();\n  utils.book_append_sheet(wb, ws, \"Work Items\");\n  \n  writeFile(wb, filename || defaultFilename);\n};\n\nexport const exportTransformSummary = (result: TransformResult) => {\n  const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n  const filename = `HMDA_Transform_Summary_${monthYear.replace(' ', '_')}.xlsx`;\n  \n  const summaryData = [{\n    'Transformation Date': new Date().toLocaleString(),\n    'Input Columns': result.inputColumns,\n    'Output Columns': result.outputColumns,\n    'Total Rows': result.rowCount,\n    'Branch Matches': result.branchMatchCount,\n    'Branch Misses': result.branchMissCount,\n    'New Columns Added': 'ErrorMadeBy, DSC',\n    'Columns Removed': result.inputColumns - result.outputColumns + 2\n  }];\n  \n  const ws = utils.json_to_sheet(summaryData);\n  const wb = utils.book_new();\n  utils.book_append_sheet(wb, ws, \"Summary\");\n  \n  // Add branch reference sheet\n  const branchData = Object.entries(BRANCH_LIST).map(([num, name]) => ({\n    'Branch Number': num,\n    'Branch Name': name\n  }));\n  const branchWs = utils.json_to_sheet(branchData);\n  utils.book_append_sheet(wb, branchWs, \"Branch Reference\");\n  \n  writeFile(wb, filename);\n};\n","path":null,"size_bytes":8158,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  if (!itemContext) {\n    throw new Error(\"useFormField should be used within <FormItem>\")\n  }\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4175,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/button-group.tsx":{"content":"import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch has-[>[data-slot=button-group]]:gap-2 [&>*]:focus-visible:relative [&>*]:focus-visible:z-10 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted shadow-xs flex items-center gap-2 rounded-md border px-4 text-sm font-medium [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","path":null,"size_bytes":2209,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/lib/etl-engine.ts":{"content":"import { read, utils, writeFile } from 'xlsx';\n\nexport interface SbslRow {\n  // Legacy fields\n  ApplNumb?: string;\n  'Last Name'?: string;\n  'Loan Type'?: string;\n  'Action Taken'?: string;\n  'Loan Amount'?: number;\n  'Note Date'?: string | number | Date;\n  Revenue?: number;\n  Affiliate?: string;\n  Address?: string;\n  City?: string;\n  State?: string;\n  Zip?: string;\n  Comment?: string;\n  \n  // HMDA Test File Fields (from test data)\n  Loan_Number?: string;\n  Application_Date?: string | number | Date;\n  Interest_Rate?: number;\n  Loan_Term_Months?: number;\n  Loan_Purpose_Code?: number;\n  Property_Type_Code?: number;\n  Loan_Type_Code?: number;\n  Action_Taken_Code?: number;\n  County_Code?: string;\n  Census_Tract?: string;\n  Borrower_Last_Name?: string;\n  Borrower_First_Name?: string;\n  Property_Street?: string;\n  Property_City?: string;\n  Property_State?: string;\n  Property_Zip?: string;\n  Income_Thousands?: number;\n  Credit_Score?: number;\n  Closing_Date?: string | number | Date;\n  Applicant_Ethnicity?: number;\n  Applicant_Race_1?: number;\n  Applicant_Sex?: number;\n  \n  // Calculated Fields from Phase 2\n  'Branch Name'?: string;\n  'Branch'?: string;\n  'Application Number'?: string;\n  'Loan Term Years'?: number;\n  'Customer Name'?: string;\n  'Borrower Name Code'?: string;\n  'Lender'?: string;\n  'Lender Assistant'?: string;\n  'Post Closer'?: string;\n  'APR'?: string | number;\n  'Rate Lock Date'?: string;\n  'Rate Type'?: string;\n  'Variable Term'?: string;\n  'Loan Program'?: string;\n  \n  [key: string]: any;\n}\n\nexport interface ValidationResult {\n  rowIdx: number;\n  applNumb: string;\n  errors: string[];\n}\n\n// Mock Data for Demo (Updated with new fields)\nexport const MOCK_SBSL_DATA: SbslRow[] = [\n  {\n    ApplNumb: \"2024-001\",\n    \"Last Name\": \"Smith\",\n    \"Loan Type\": \"Small Business\",\n    \"Action Taken\": \"Originated\",\n    \"Loan Amount\": 75000,\n    \"Note Date\": new Date().toISOString().split('T')[0],\n    Revenue: 500000,\n    Affiliate: \"Main Branch\",\n    Address: \"123 Main St\",\n    City: \"Atlanta\",\n    State: \"GA\",\n    Zip: \"30301\",\n    \"Branch\": \"001\",\n    \"Branch Name\": \"Main Branch\",\n    \"APR\": \"7.125\",\n    \"Loan Term Years\": 5\n  },\n  {\n    ApplNumb: \"2024-002\",\n    \"Last Name\": \"Johnson\",\n    \"Loan Type\": \"Commercial\",\n    \"Action Taken\": \"Originated\",\n    \"Loan Amount\": 150000,\n    \"Note Date\": \"2023-12-15\",\n    Revenue: 1200000,\n    Affiliate: \"North Branch\",\n    Address: \"456 Oak Rd\",\n    City: \"Savannah\",\n    State: \"GA\",\n    Zip: \"31401\",\n    \"Branch\": \"002\",\n    \"Branch Name\": \"North Branch\",\n    \"APR\": \"6.500\",\n    \"Loan Term Years\": 10\n  },\n];\n\nexport const fetchCsvFile = async (filename: string): Promise<SbslRow[]> => {\n  try {\n    const response = await fetch(`/sample_data/${filename}`);\n    if (!response.ok) throw new Error(`Failed to fetch ${filename}`);\n    const arrayBuffer = await response.arrayBuffer();\n    const data = new Uint8Array(arrayBuffer);\n    const workbook = read(data, { type: 'array' });\n    const sheetName = workbook.SheetNames[0];\n    const sheet = workbook.Sheets[sheetName];\n    return utils.sheet_to_json(sheet) as SbslRow[];\n  } catch (error) {\n    console.error(\"Error fetching CSV:\", error);\n    throw error;\n  }\n};\n\n// 128-column output format for CRA Wiz upload - MUST be defined before processFile uses it\nexport const CRA_WIZ_128_COLUMNS = [\n  'BranchName', 'Branch', 'ApplNumb', 'LEI', 'ULI', 'LastName', 'FirstName',\n  'Coa_LastName', 'Coa_FirstName', 'Lender', 'AA_Processor', 'LDP_PostCloser',\n  'Error_Made_By', 'ApplDate', 'LoanType', 'Purpose', 'ConstructionMethod',\n  'OccupancyType', 'LoanAmount', 'Preapproval', 'Action', 'ActionDate',\n  'Address', 'City', 'State_abrv', 'Zip', 'County_5', 'Tract_11',\n  'Ethnicity_1', 'Ethnicity_2', 'Ethnicity_3', 'Ethnicity_4', 'Ethnicity_5',\n  'EthnicityOther', 'Coa_Ethnicity_1', 'Coa_Ethnicity_2', 'Coa_Ethnicity_3',\n  'Coa_Ethnicity_4', 'Coa_Ethnicity_5', 'Coa_EthnicityOther',\n  'Ethnicity_Determinant', 'Coa_Ethnicity_Determinant',\n  'Race_1', 'Race_2', 'Race_3', 'Race_4', 'Race_5',\n  'Race1_Other', 'Race27_Other', 'Race44_Other',\n  'CoaRace_1', 'CoaRace_2', 'CoaRace_3', 'CoaRace_4', 'CoaRace_5',\n  'CoaRace1_Other', 'CoaRace27_Other', 'CoaRace44_Other',\n  'Race_Determinant', 'CoaRace_Determinant',\n  'Sex', 'CoaSex', 'Sex_Determinant', 'CoaSex_Determinant',\n  'Age', 'Coa_Age', 'Income', 'Purchaser', 'Rate_Spread',\n  'HOEPA_Status', 'Lien_Status', 'CreditScore', 'Coa_CreditScore',\n  'CreditModel', 'CreditModelOther', 'Coa_CreditModel', 'Coa_CreditModelOther',\n  'Denial1', 'Denial2', 'Denial3', 'Denial4', 'DenialOther',\n  'TotalLoanCosts', 'TotalPtsAndFees', 'OrigFees', 'DiscountPts', 'LenderCredts',\n  'InterestRate', 'APR', 'Rate_Lock_Date', 'PPPTerm', 'DTIRatio', 'DSC', 'CLTV',\n  'Loan_Term', 'Loan_Term_Months', 'IntroRatePeriod', 'BalloonPMT', 'IOPMT',\n  'NegAM', 'NonAmortz', 'PropertyValue', 'MHSecPropType', 'MHLandPropInt',\n  'TotalUnits', 'MFAHU', 'APPMethod', 'PayableInst', 'NMLSRID',\n  'AUSystem1', 'AUSystem2', 'AUSystem3', 'AUSystem4', 'AUSystem5', 'AUSystemOther',\n  'AUSResult1', 'AUSResult2', 'AUSResult3', 'AUSResult4', 'AUSResult5', 'AUSResultOther',\n  'REVMTG', 'OpenLOC', 'BUSCML', 'RateType', 'Var_Term', 'LoanProgram', 'ProductType'\n];\n\n// Detect the best delimiter for a line of text\nconst detectDelimiter = (line: string): string => {\n  const delimiters = ['~', '|', '\\t', ','];\n  let bestDelimiter = ',';\n  let maxCount = 0;\n  \n  for (const delim of delimiters) {\n    const regex = delim === '|' ? /\\|/g : new RegExp(delim, 'g');\n    const matches = line.match(regex);\n    const count = matches ? matches.length : 0;\n    if (count > maxCount) {\n      maxCount = count;\n      bestDelimiter = delim;\n    }\n  }\n  \n  return bestDelimiter;\n};\n\nexport const processFile = async (file: File): Promise<any[]> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    \n    // Handle text files - detect delimiter automatically\n    if (file.name.endsWith('.txt')) {\n      reader.onload = (e) => {\n        try {\n          const text = e.target?.result as string;\n          const lines = text.split('\\n').filter(line => line.trim());\n          \n          if (lines.length > 0) {\n            // Check first few lines to detect delimiter\n            const firstLine = lines[0];\n            const secondLine = lines.length > 1 ? lines[1] : '';\n            \n            // Detect delimiter - check both first and second lines\n            let delimiter = detectDelimiter(secondLine || firstLine);\n            let skipRows = 0;\n            let isLaserProFormat = false;\n            \n            // Check if first row is metadata (starts with \"1|\" for pipe or has Colony Bank)\n            if (firstLine.includes('|') && (firstLine.startsWith('1|') || firstLine.includes('Colony Bank'))) {\n              skipRows = 1;\n              // The actual data rows likely use a different delimiter (tilde ~)\n              if (secondLine) {\n                delimiter = detectDelimiter(secondLine);\n              }\n              isLaserProFormat = true;\n              console.log(`Detected LaserPro format: metadata row uses pipe, data uses \"${delimiter}\" delimiter`);\n            } else {\n              console.log(`Detected delimiter: \"${delimiter === '\\t' ? 'TAB' : delimiter}\"`);\n            }\n            \n            // For LaserPro format (metadata row + tilde/pipe delimited data)\n            if (isLaserProFormat) {\n              // Parse all data rows (skip metadata row 1)\n              const dataLines = lines.slice(skipRows);\n              const data = dataLines.map((line, idx) => {\n                const values = line.split(delimiter);\n                console.log(`Row ${idx + 1}: Split into ${values.length} columns using \"${delimiter}\" delimiter`);\n                \n                // Map positional fields to named fields based on detected column count\n                // Create an object with all values mapped to column positions\n                const row: any = {\n                  _rowIndex: idx + skipRows + 1,\n                  _columnCount: values.length,\n                  _delimiter: delimiter,\n                };\n                \n                // Map to 128-column format based on position\n                // The actual column mapping based on LaserPro export format\n                CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                  row[colName] = values[i]?.trim() || '';\n                });\n                \n                return row;\n              });\n              \n              console.log(`Parsed ${data.length} LaserPro rows with ${data[0]?._columnCount || 0} columns each`);\n              resolve(data);\n              return;\n            }\n            \n            // Standard delimited file - split each line into columns\n            const dataLines = lines.slice(skipRows);\n            const data = dataLines.map((line, idx) => {\n              const values = line.split(delimiter);\n              const row: any = {\n                _rowIndex: idx + 1,\n                _columnCount: values.length,\n              };\n              \n              // Map to 128-column format based on position\n              CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                row[colName] = values[i]?.trim() || '';\n              });\n              \n              return row;\n            });\n            \n            if (data.length > 0) {\n              console.log(`Parsed ${data.length} rows with ${data[0]?._columnCount || 0} columns from text file`);\n              resolve(data);\n              return;\n            }\n          }\n          // Fallback if parsing fails\n          console.log(\"Text file parsing failed, using sample data\");\n          resolve(MOCK_SBSL_DATA);\n        } catch (error) {\n          console.error(\"Error parsing text file:\", error);\n          resolve(MOCK_SBSL_DATA);\n        }\n      };\n      reader.readAsText(file);\n      return;\n    }\n    \n    // Handle PDF files - return mock data for demo\n    if (file.name.endsWith('.pdf')) {\n       console.log(\"PDF file detected - would require PDF parsing library\");\n       resolve(MOCK_SBSL_DATA);\n       return;\n    }\n\n    // Handle Excel/CSV files\n    reader.onload = (e) => {\n      try {\n        const data = new Uint8Array(e.target?.result as ArrayBuffer);\n        const workbook = read(data, { type: 'array' });\n        const sheetName = workbook.SheetNames[0];\n        const sheet = workbook.Sheets[sheetName];\n        \n        // Check if this looks like an Encompass file (has metadata rows)\n        // Parse with range option to skip metadata rows if detected\n        let jsonData = utils.sheet_to_json(sheet) as any[];\n        \n        // Detect Encompass format by checking first row for metadata patterns\n        if (jsonData.length > 0) {\n          const firstRow = jsonData[0];\n          const firstRowKeys = Object.keys(firstRow);\n          const firstValue = String(firstRow[firstRowKeys[0]] || '');\n          \n          // If first row looks like Encompass metadata, skip first 2 rows\n          if (firstValue.includes('Encompass') || firstValue.includes('Report') || \n              firstRowKeys.some(k => k.includes('__EMPTY'))) {\n            console.log('Detected Encompass format, skipping metadata rows');\n            // Re-parse starting from row 3 (skip first 2 metadata rows)\n            jsonData = utils.sheet_to_json(sheet, { range: 2 }) as any[];\n          }\n        }\n        \n        // Check if first cell contains tilde-delimited data (LaserPro in Excel)\n        if (jsonData.length > 0) {\n          const firstRow = jsonData[0];\n          const firstRowKeys = Object.keys(firstRow);\n          const firstValue = String(firstRow[firstRowKeys[0]] || '');\n          \n          // If the first value contains multiple tildes, it's likely tilde-delimited data in a single column\n          if ((firstValue.match(/~/g) || []).length >= 5) {\n            console.log('Detected tilde-delimited data inside Excel cells - splitting...');\n            \n            // Split each row's first column by tilde and map to 128 columns\n            jsonData = jsonData.map((row, idx) => {\n              const rawValue = String(row[firstRowKeys[0]] || '');\n              const values = rawValue.split('~');\n              \n              const newRow: any = {\n                _rowIndex: idx + 1,\n                _columnCount: values.length,\n                _delimiter: '~',\n              };\n              \n              // Map to 128-column format based on position\n              CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                newRow[colName] = values[i]?.trim() || '';\n              });\n              \n              return newRow;\n            });\n            \n            console.log(`Split ${jsonData.length} rows into ${CRA_WIZ_128_COLUMNS.length} columns each`);\n          }\n        }\n        \n        console.log(`Parsed ${jsonData.length} rows from Excel/CSV file`);\n        resolve(jsonData);\n      } catch (error) {\n        console.error(\"Error parsing Excel/CSV file:\", error);\n        reject(error);\n      }\n    };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n};\n\n// Transform data to 128-column CRA Wiz format\nexport const transformToCRAWizFormat = (data: SbslRow[]): any[] => {\n  return data.map(row => {\n    const output: any = {};\n    \n    // Map each column, looking for matching field names (case-insensitive)\n    CRA_WIZ_128_COLUMNS.forEach(col => {\n      // Try exact match first\n      if (row[col] !== undefined) {\n        output[col] = row[col];\n        return;\n      }\n      \n      // Try case-insensitive match\n      const lowerCol = col.toLowerCase();\n      const matchingKey = Object.keys(row).find(k => k.toLowerCase() === lowerCol);\n      if (matchingKey) {\n        output[col] = row[matchingKey];\n        return;\n      }\n      \n      // Try common field name variations\n      const fieldMappings: Record<string, string[]> = {\n        'BranchName': ['BranchName', 'Branch Name', 'Branch_Name'],\n        'Branch': ['Branch', 'BranchNumb', 'BRANCHNUMB'],\n        'ApplNumb': ['ApplNumb', 'ULI', 'Loan_Number', 'LoanNumber'],\n        'LastName': ['LastName', 'Last Name', 'Borrower_Last_Name'],\n        'FirstName': ['FirstName', 'First Name', 'Borrower_First_Name'],\n        'LoanAmount': ['LoanAmount', 'Loan Amount', 'Loan_Amount'],\n        'Address': ['Address', 'Property_Street', 'PropertyStreet'],\n        'City': ['City', 'Property_City', 'PropertyCity'],\n        'State_abrv': ['State_abrv', 'State', 'Property_State', 'PropertyState'],\n        'Zip': ['Zip', 'Property_Zip', 'PropertyZip', 'ZipCode'],\n        'InterestRate': ['InterestRate', 'Interest_Rate', 'Interest Rate'],\n        'Income': ['Income', 'Income_Thousands'],\n        'CreditScore': ['CreditScore', 'Credit_Score'],\n        'Loan_Term_Months': ['Loan_Term_Months', 'LoanTermMonths', 'Term'],\n      };\n      \n      const mappings = fieldMappings[col];\n      if (mappings) {\n        for (const alt of mappings) {\n          if (row[alt] !== undefined) {\n            output[col] = row[alt];\n            return;\n          }\n        }\n      }\n      \n      // Default to empty string\n      output[col] = '';\n    });\n    \n    return output;\n  });\n};\n\n// Export to CRA Wiz 128-column format\nexport const exportCRAWizFormat = (data: SbslRow[], filename?: string): void => {\n  const transformedData = transformToCRAWizFormat(data);\n  const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n  const defaultFilename = `CRA_Wiz_Upload_${monthYear.replace(' ', '_')}.xlsx`;\n  \n  const ws = utils.json_to_sheet(transformedData, { header: CRA_WIZ_128_COLUMNS });\n  const wb = utils.book_new();\n  utils.book_append_sheet(wb, ws, \"CRA Data\");\n  \n  writeFile(wb, filename || defaultFilename);\n};\n\nexport const filterByCurrentMonth = (data: SbslRow[]): { filtered: SbslRow[], count: number } => {\n  const currentMonth = new Date().getMonth();\n  const currentYear = new Date().getFullYear();\n  \n  const filtered = data.filter(row => {\n    // Check multiple possible date fields\n    const dateVal = row['Note Date'] || row.Application_Date || row['Application_Date'];\n    \n    // For demo: if no date field exists, keep the record\n    if (!dateVal) return true;\n    \n    const date = new Date(dateVal);\n    // For demo: if date is invalid, keep the record\n    if (isNaN(date.getTime())) return true;\n\n    // Accept loans from the last 12 months for demo purposes\n    const monthsAgo = (currentYear - date.getFullYear()) * 12 + (currentMonth - date.getMonth());\n    return monthsAgo >= 0 && monthsAgo <= 12;\n  });\n  \n  return { filtered, count: filtered.length };\n};\n\n// Phase 2 Step 1: Transformation Logic\nexport const transformEncompassData = (data: SbslRow[]): SbslRow[] => {\n  return data.map(row => {\n    const newRow = { ...row };\n    \n    // Calculate Branch (First 3 of Loan Number/ApplNumb)\n    if (newRow.ApplNumb) {\n      newRow['Branch'] = newRow.ApplNumb.substring(0, 3);\n    }\n    \n    // Calculate Loan Term Years\n    if (newRow['Loan Term in Months']) {\n      newRow['Loan Term Years'] = Number(newRow['Loan Term in Months']) / 12;\n    }\n    \n    return newRow;\n  });\n};\n\n// Phase 2 Step 2: VLOOKUP Simulation\nexport const mergeSupplementalData = (mainData: SbslRow[], suppData: SbslRow[]): SbslRow[] => {\n  // Create lookup map using either Loan_Number (HMDA) or ApplNumb (legacy)\n  const suppMap = new Map(\n    suppData.map(row => [row.Loan_Number || row.ApplNumb, row])\n  );\n  \n  return mainData.map(row => {\n    const joinKey = row.Loan_Number || row.ApplNumb;\n    const supp = suppMap.get(joinKey);\n    if (!supp) return row;\n    \n    return {\n      ...row,\n      // Merge HMDA fields\n      Applicant_Ethnicity: supp.Applicant_Ethnicity,\n      Applicant_Race_1: supp.Applicant_Race_1,\n      Applicant_Sex: supp.Applicant_Sex,\n      Income_Thousands: supp.Income_Thousands,\n      Credit_Score: supp.Credit_Score,\n      Borrower_Last_Name: supp.Borrower_Last_Name,\n      Borrower_First_Name: supp.Borrower_First_Name,\n      Property_Street: supp.Property_Street,\n      Property_City: supp.Property_City,\n      Property_State: supp.Property_State,\n      Property_Zip: supp.Property_Zip,\n      // Legacy fields\n      'Customer Name': supp['Customer Name'],\n      'Borrower Name': supp['Borrower Name'],\n      'Lender': supp['Lender'],\n      'APR': supp['APR'] || supp.Interest_Rate,\n      'Rate Type': supp['Rate Type'] === 'ARM' ? '2' : '1',\n    };\n  });\n};\n\n// Phase 2 Step 3: Cleaning\nexport const cleanAndFormatData = (data: SbslRow[]): SbslRow[] => {\n  const branchMap: Record<string, string> = {\n    '001': 'Main Branch',\n    '002': 'North Branch',\n    '003': 'West Branch'\n  };\n\n  return data.map(row => {\n    const newRow = { ...row };\n    \n    // Branch Name Mapping\n    if (newRow.Branch && branchMap[newRow.Branch]) {\n      newRow['Branch Name'] = branchMap[newRow.Branch];\n    }\n    \n    // APR Formatting (Remove trailing zeros)\n    if (newRow.APR) {\n      newRow.APR = String(newRow.APR).replace(/0+$/, '').replace(/\\.$/, '');\n    }\n    \n    // County Zero Padding (5 digits)\n    if (newRow['County Code']) {\n      newRow['County Code'] = String(newRow['County Code']).padStart(5, '0');\n    }\n    \n    // Tract Zero Padding (11 digits)\n    if (newRow['Tract']) {\n      newRow['Tract'] = String(newRow['Tract']).padStart(11, '0');\n    }\n    \n    return newRow;\n  });\n};\n\nexport const validateData = (data: SbslRow[]): ValidationResult[] => {\n  const results: ValidationResult[] = [];\n  \n  data.forEach((row, idx) => {\n    const errors: string[] = [];\n    const loanId = row.Loan_Number || row.ApplNumb || 'N/A';\n    \n    // HMDA Required Fields\n    if (row.Loan_Number) {\n      // HMDA data validation\n      if (!row.Loan_Number) errors.push(\"Missing Loan_Number\");\n      if (!row.Application_Date && !row['Note Date']) errors.push(\"Missing Application_Date\");\n      if (!row.Loan_Amount && !row['Loan Amount']) errors.push(\"Missing Loan_Amount\");\n      \n      // Loan Amount validation\n      const loanAmount = Number(row.Loan_Amount || row['Loan Amount']);\n      if (isNaN(loanAmount) || loanAmount <= 0) errors.push(\"Loan Amount must be positive\");\n      \n      // Interest Rate validation (0-20%, max 3 decimals)\n      if (row.Interest_Rate || row['Interest Rate']) {\n        const rate = Number(row.Interest_Rate || row['Interest Rate']);\n        if (rate < 0 || rate > 20) errors.push(\"Interest Rate out of bounds (0-20%)\");\n        const rateStr = String(rate);\n        if (rateStr.includes('.') && rateStr.split('.')[1].length > 3) {\n          errors.push(\"Interest Rate max 3 decimal places\");\n        }\n      }\n      \n      // Census Tract Format validation (##.## or ####.##)\n      if (row.Census_Tract) {\n        const tract = String(row.Census_Tract);\n        if (!/^\\d{2,4}\\.\\d{2}$/.test(tract)) {\n          errors.push(\"Census Tract must be ##.## or ####.##\");\n        }\n      }\n      \n      // Income validation (1-9999 thousands)\n      if (row.Income_Thousands) {\n        const income = Number(row.Income_Thousands);\n        if (income < 1 || income > 9999) {\n          errors.push(\"Income must be 1-9999 (thousands)\");\n        }\n      }\n      \n      // Action Taken Code validation\n      if (row.Action_Taken_Code) {\n        const action = Number(row.Action_Taken_Code);\n        if (![1, 2, 3, 4, 5, 6, 7, 8].includes(action)) {\n          errors.push(\"Invalid Action Taken Code\");\n        }\n      }\n      \n      // Property State validation\n      if (row.Property_State) {\n        if (String(row.Property_State).trim().length !== 2) {\n          errors.push(\"State must be 2-letter code\");\n        }\n      }\n    } else {\n      // Legacy validation\n      const required = ['ApplNumb', 'Last Name', 'Loan Amount', 'Note Date'];\n      required.forEach(field => {\n        if (!row[field]) errors.push(`Missing ${field}`);\n      });\n      \n      const loanAmount = Number(row['Loan Amount']);\n      if (isNaN(loanAmount) || loanAmount <= 0) errors.push(\"Loan Amount must be positive\");\n      \n      if (row['State'] && String(row['State']).trim().length !== 2) errors.push(\"State must be 2-letter code\");\n      \n      if (row['Zip']) {\n        const zipStr = String(row['Zip']).trim();\n        if (zipStr.length < 5) errors.push(\"Invalid ZIP code\");\n        if (/[a-zA-Z]/.test(zipStr)) errors.push(\"ZIP contains letters\");\n      }\n    }\n\n    if (errors.length > 0) {\n      results.push({\n        rowIdx: idx + 2,\n        applNumb: loanId,\n        errors\n      });\n    }\n  });\n  \n  return results;\n};\n\n// Auto-correct fixable validation errors\nexport const autoCorrectData = (data: SbslRow[]): SbslRow[] => {\n  return data.map(row => {\n    const corrected = { ...row };\n    \n    // Fix Census Tract formatting (convert to ##.## or ####.##)\n    if (corrected.Census_Tract) {\n      let tract = String(corrected.Census_Tract).replace(/[^\\d.]/g, '');\n      // If it doesn't have decimal, try to format it\n      if (!tract.includes('.')) {\n        if (tract.length >= 4) {\n          tract = tract.slice(0, -2) + '.' + tract.slice(-2);\n        }\n      }\n      // Ensure proper format\n      const parts = tract.split('.');\n      if (parts.length === 2) {\n        const whole = parts[0].padStart(2, '0');\n        const decimal = parts[1].padEnd(2, '0').slice(0, 2);\n        corrected.Census_Tract = `${whole}.${decimal}`;\n      }\n    }\n    \n    // Fix Interest Rate (max 3 decimals, ensure in range)\n    if (corrected.Interest_Rate || corrected['Interest Rate']) {\n      let rate = Number(corrected.Interest_Rate || corrected['Interest Rate']);\n      // Round to 3 decimals\n      rate = Math.round(rate * 1000) / 1000;\n      // Clamp to valid range if slightly out of bounds\n      if (rate > 20 && rate < 21) rate = 20.0;\n      if (rate < 0) rate = 0;\n      corrected.Interest_Rate = rate;\n      corrected['Interest Rate'] = rate;\n    }\n    \n    // Fix APR formatting\n    if (corrected.APR || corrected['APR']) {\n      let apr = String(corrected.APR || corrected['APR']);\n      // Remove trailing zeros and % sign\n      apr = apr.replace('%', '').trim();\n      const aprNum = parseFloat(apr);\n      if (!isNaN(aprNum)) {\n        corrected.APR = Math.round(aprNum * 1000) / 1000;\n        corrected['APR'] = corrected.APR;\n      }\n    }\n    \n    // Trim whitespace from text fields\n    if (corrected.Property_State) {\n      corrected.Property_State = String(corrected.Property_State).trim().toUpperCase().slice(0, 2);\n    }\n    if (corrected.State) {\n      corrected.State = String(corrected.State).trim().toUpperCase().slice(0, 2);\n    }\n    \n    // Fix Income (clamp to valid range if close)\n    if (corrected.Income_Thousands) {\n      let income = Number(corrected.Income_Thousands);\n      if (income > 9999 && income < 10100) income = 9999;\n      if (income < 1 && income > 0) income = 1;\n      corrected.Income_Thousands = income;\n    }\n    \n    return corrected;\n  });\n};\n\nexport const generateSummaryStats = (data: SbslRow[]) => {\n  const totalLoanAmount = data.reduce((sum, row) => {\n    // Check both HMDA and legacy field names\n    const amount = Number(row.Loan_Amount || row['Loan Amount']) || 0;\n    return sum + amount;\n  }, 0);\n  \n  const totalTerm = data.reduce((sum, row) => {\n    const termYears = Number(row['Loan Term Years']) || (row.Loan_Term_Months ? Number(row.Loan_Term_Months) / 12 : 0) || 0;\n    return sum + termYears;\n  }, 0);\n  \n  return {\n    totalRecords: data.length,\n    totalLoanAmount,\n    avgLoanAmount: data.length ? totalLoanAmount / data.length : 0,\n    avgTerm: data.length ? totalTerm / data.length : 0\n  };\n};\n","path":null,"size_bytes":25546,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1486,"size_tokens":null},"client/src/components/tutorial-video.tsx":{"content":"import { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Play, FileText, CheckCircle, Download, ExternalLink, MonitorPlay, MousePointerClick, Clock, TrendingUp, Shield, FileBarChart, Music, Film, File } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport videoUrl from \"@assets/Compliance Automation Revolution_1763740890639.mp4\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\nexport function TutorialVideo() {\n  const [activeStep, setActiveStep] = useState<number | null>(null);\n\n  const steps = [\n    {\n      title: \"1. Upload File\",\n      desc: \"Upload your SBSL CRA Export Excel file.\",\n      icon: <FileText className=\"w-5 h-5 text-blue-600\" />,\n      duration: 3000\n    },\n    {\n      title: \"2. Choose Options\",\n      desc: \"Keep all validation boxes checked.\",\n      icon: <CheckCircle className=\"w-5 h-5 text-green-600\" />,\n      duration: 3000\n    },\n    {\n      title: \"3. Process Data\",\n      desc: \"Click 'Process' and wait for validation.\",\n      icon: <Play className=\"w-5 h-5 text-amber-600\" />,\n      duration: 2000\n    },\n    {\n      title: \"4. Download Results\",\n      desc: \"Get your Clean Data, CRAWiz TXT, and Report.\",\n      icon: <Download className=\"w-5 h-5 text-purple-600\" />,\n      duration: 3000\n    }\n  ];\n\n  const chapters = [\n    { time: \"0:00\", title: \"The Problem: Manual Compliance\" },\n    { time: \"1:45\", title: \"Hidden Costs & Risks\" },\n    { time: \"2:15\", title: \"Solution: DeepSee AI Automation\" },\n    { time: \"3:00\", title: \"Demo: How It Works\" },\n    { time: \"4:15\", title: \"Results & Transformation\" }\n  ];\n\n  const resources = [\n    { \n      title: \"Quick Start Guide\", \n      type: \"TXT\", \n      size: \"10 KB\", \n      icon: <File className=\"w-4 h-4\" />, \n      url: \"/assets/learning-center/QUICK_START_GUIDE.txt\" \n    },\n    { \n      title: \"Voiceover Narration\", \n      type: \"MP3\", \n      size: \"3.2 MB\", \n      icon: <Music className=\"w-4 h-4\" />, \n      url: \"/assets/learning-center/Audio/Colony_Bank_Full_Voiceover_Narration.mp3\" \n    },\n    { \n      title: \"Validation Logic (Demo)\", \n      type: \"MP4\", \n      size: \"1.1 MB\", \n      icon: <Film className=\"w-4 h-4\" />, \n      url: \"/assets/learning-center/Video_Clips/05_Validation_In_Action_Automated.mp4\" \n    },\n  ];\n\n  const audioAssets = [\n    { name: \"Full Voiceover\", file: \"Colony_Bank_Full_Voiceover_Narration.mp3\", duration: \"3:30\" },\n    { name: \"Tense Background\", file: \"Background_Music_Tense_Dramatic.mp3\", duration: \"1:30\" },\n    { name: \"Uplifting Background\", file: \"Background_Music_Uplifting_Optimistic.mp3\", duration: \"2:00\" },\n  ];\n\n  const videoAssets = [\n    { name: \"Opening Hook\", file: \"01_Opening_Hook_Stressed_Analyst.mp4\", duration: \"0:08\" },\n    { name: \"Manual Data Pain\", file: \"02_Manual_Data_Entry_Pain.mp4\", duration: \"0:08\" },\n    { name: \"Hidden Costs\", file: \"03_Hidden_Costs_Stress_Risk.mp4\", duration: \"0:08\" },\n    { name: \"Solution Reveal\", file: \"04_Solution_Reveal_DeepSee_Dashboard.mp4\", duration: \"0:08\" },\n    { name: \"Validation Demo\", file: \"05_Validation_In_Action_Automated.mp4\", duration: \"0:08\" },\n    { name: \"Transformation\", file: \"06_Before_After_Transformation.mp4\", duration: \"0:08\" },\n    { name: \"Results & Success\", file: \"07_Results_Celebration_Success.mp4\", duration: \"0:08\" },\n    { name: \"Closing CTA\", file: \"08_Closing_CTA_Branded_Card.mp4\", duration: \"0:08\" },\n  ];\n\n  const startTutorial = () => {\n    setActiveStep(0);\n    let current = 0;\n    \n    const interval = setInterval(() => {\n      current++;\n      if (current < steps.length) {\n        setActiveStep(current);\n      } else {\n        clearInterval(interval);\n        setTimeout(() => setActiveStep(null), 2000);\n      }\n    }, 3000);\n  };\n\n  return (\n    <div className=\"space-y-8 max-w-6xl mx-auto pb-12\">\n      \n      {/* Header Section */}\n      <div className=\"text-center space-y-2 mb-8\">\n        <h2 className=\"text-3xl font-bold text-slate-900\">Learning Center</h2>\n        <p className=\"text-slate-500 max-w-2xl mx-auto\">\n          Master the Colony Bank HMDA/CRA Automation Tool. Watch the comprehensive guide, access resources, and follow the interactive demo.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        \n        {/* Main Content Column (2/3 width) */}\n        <div className=\"lg:col-span-2 space-y-6\">\n          \n          {/* Video Player Card */}\n          <Card className=\"overflow-hidden border-slate-200 shadow-md\">\n            <CardHeader className=\"bg-slate-50 border-b border-slate-100 pb-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-2\">\n                  <MonitorPlay className=\"w-5 h-5 text-[#003366]\" />\n                  <div>\n                    <CardTitle className=\"text-lg text-[#003366]\">The Compliance Automation Revolution</CardTitle>\n                    <CardDescription>How DeepSee AI transforms HMDA/CRA compliance (4:00)</CardDescription>\n                  </div>\n                </div>\n                <div className=\"hidden sm:flex gap-2\">\n                   <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                     HD\n                   </span>\n                   <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800\">\n                     CC\n                   </span>\n                </div>\n              </div>\n            </CardHeader>\n            <CardContent className=\"p-0 bg-slate-900\">\n              <div className=\"aspect-video w-full relative group\">\n                 <video \n                   src={videoUrl} \n                   controls \n                   className=\"w-full h-full object-contain\"\n                   poster=\"https://images.unsplash.com/photo-1460925895917-afdab827c52f?q=80&w=2426&auto=format&fit=crop\"\n                 />\n              </div>\n              <div className=\"p-4 bg-white border-t border-slate-100\">\n                <p className=\"text-xs font-semibold text-slate-500 mb-3 uppercase tracking-wider\">Video Chapters</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {chapters.map((chapter, i) => (\n                    <button key={i} className=\"text-xs flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-slate-50 hover:bg-blue-50 text-slate-700 hover:text-blue-700 transition-colors border border-slate-200 hover:border-blue-200\">\n                      <Play className=\"w-3 h-3 fill-current\" />\n                      <span className=\"font-mono font-medium\">{chapter.time}</span>\n                      <span>{chapter.title}</span>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Impact Metrics */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <Card className=\"bg-gradient-to-br from-[#003366] to-[#004080] text-white border-none shadow-md\">\n              <CardContent className=\"p-6 flex flex-col items-center text-center\">\n                <Clock className=\"w-8 h-8 mb-3 opacity-80\" />\n                <div className=\"text-2xl font-bold mb-1\">95%</div>\n                <div className=\"text-xs text-blue-100 font-medium uppercase tracking-wide\">Time Reduction</div>\n                <div className=\"text-xs text-blue-200 mt-2\">10 Hours → 30 Mins</div>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-white border-slate-200 shadow-sm\">\n              <CardContent className=\"p-6 flex flex-col items-center text-center\">\n                <TrendingUp className=\"w-8 h-8 mb-3 text-green-600\" />\n                <div className=\"text-2xl font-bold text-slate-900 mb-1\">$25k+</div>\n                <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide\">Annual Value</div>\n                <div className=\"text-xs text-slate-400 mt-2\">115 Hours Saved</div>\n              </CardContent>\n            </Card>\n            <Card className=\"bg-white border-slate-200 shadow-sm\">\n              <CardContent className=\"p-6 flex flex-col items-center text-center\">\n                <Shield className=\"w-8 h-8 mb-3 text-blue-600\" />\n                <div className=\"text-2xl font-bold text-slate-900 mb-1\">14</div>\n                <div className=\"text-xs text-slate-500 font-medium uppercase tracking-wide\">Validation Rules</div>\n                <div className=\"text-xs text-slate-400 mt-2\">Automated & Instant</div>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Asset Library */}\n           <Card className=\"border-slate-200 shadow-sm\">\n             <CardHeader className=\"pb-3 bg-slate-50 border-b border-slate-100\">\n               <CardTitle className=\"text-lg text-[#003366]\">Asset Library</CardTitle>\n               <CardDescription>Raw media assets used in the production of the guide.</CardDescription>\n             </CardHeader>\n             <CardContent className=\"p-6\">\n               <Tabs defaultValue=\"video\" className=\"w-full\">\n                 <TabsList className=\"w-full mb-4\">\n                   <TabsTrigger value=\"video\" className=\"flex-1\">Video Clips</TabsTrigger>\n                   <TabsTrigger value=\"audio\" className=\"flex-1\">Audio Tracks</TabsTrigger>\n                 </TabsList>\n                 \n                 <TabsContent value=\"video\" className=\"space-y-2 max-h-[300px] overflow-y-auto pr-2\">\n                   {videoAssets.map((asset, i) => (\n                     <div key={i} className=\"flex items-center justify-between p-3 rounded-md border border-slate-100 hover:bg-slate-50 transition-colors\">\n                       <div className=\"flex items-center gap-3\">\n                         <div className=\"w-10 h-10 rounded bg-slate-200 flex items-center justify-center text-slate-500\">\n                           <Film className=\"w-5 h-5\" />\n                         </div>\n                         <div>\n                           <div className=\"text-sm font-medium text-slate-900\">{asset.name}</div>\n                           <div className=\"text-xs text-slate-500 font-mono\">{asset.duration} • {asset.file}</div>\n                         </div>\n                       </div>\n                       <div className=\"flex gap-2\">\n                         <Button variant=\"ghost\" size=\"sm\" onClick={() => window.open(`/assets/learning-center/Video_Clips/${asset.file}`, '_blank')}>\n                           <Play className=\"w-4 h-4 mr-1\" /> Preview\n                         </Button>\n                         <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\" onClick={() => window.open(`/assets/learning-center/Video_Clips/${asset.file}`, '_blank')}>\n                           <Download className=\"w-4 h-4\" />\n                         </Button>\n                       </div>\n                     </div>\n                   ))}\n                 </TabsContent>\n                 \n                 <TabsContent value=\"audio\" className=\"space-y-2\">\n                    {audioAssets.map((asset, i) => (\n                     <div key={i} className=\"flex items-center justify-between p-3 rounded-md border border-slate-100 hover:bg-slate-50 transition-colors\">\n                       <div className=\"flex items-center gap-3\">\n                         <div className=\"w-10 h-10 rounded bg-blue-50 flex items-center justify-center text-blue-600\">\n                           <Music className=\"w-5 h-5\" />\n                         </div>\n                         <div>\n                           <div className=\"text-sm font-medium text-slate-900\">{asset.name}</div>\n                           <div className=\"text-xs text-slate-500 font-mono\">{asset.duration} • {asset.file}</div>\n                         </div>\n                       </div>\n                       <Button variant=\"outline\" size=\"icon\" className=\"h-8 w-8\" onClick={() => window.open(`/assets/learning-center/Audio/${asset.file}`, '_blank')}>\n                         <Download className=\"w-4 h-4\" />\n                       </Button>\n                     </div>\n                   ))}\n                 </TabsContent>\n               </Tabs>\n             </CardContent>\n           </Card>\n\n        </div>\n\n        {/* Sidebar Column (1/3 width) */}\n        <div className=\"space-y-6\">\n          \n          {/* Interactive Guide */}\n          <Card className=\"border-slate-200 shadow-md flex flex-col\">\n             <CardHeader className=\"bg-slate-50 border-b border-slate-100 pb-4\">\n              <div className=\"flex items-center gap-2\">\n                <MousePointerClick className=\"w-5 h-5 text-[#003366]\" />\n                <CardTitle className=\"text-lg text-[#003366]\">Interactive Demo</CardTitle>\n              </div>\n              <CardDescription>Follow the live step-by-step flow.</CardDescription>\n            </CardHeader>\n            <CardContent className=\"p-6\">\n               <div className=\"space-y-6\">\n                 {steps.map((step, idx) => (\n                   <div \n                     key={idx}\n                     className={cn(\n                       \"relative pl-8 transition-all duration-500\",\n                       activeStep === idx ? \"opacity-100\" : \"opacity-60\"\n                     )}\n                   >\n                     {/* Timeline Line */}\n                     {idx !== steps.length - 1 && (\n                       <div className=\"absolute left-3 top-8 bottom-[-24px] w-0.5 bg-slate-200\" />\n                     )}\n                     \n                     {/* Icon/Number */}\n                     <div className={cn(\n                       \"absolute left-0 top-0 w-6 h-6 rounded-full flex items-center justify-center border-2 z-10 transition-colors\",\n                       activeStep === idx \n                         ? \"bg-white border-blue-500 text-blue-600 shadow-sm scale-110\" \n                         : activeStep !== null && idx < activeStep\n                           ? \"bg-green-500 border-green-500 text-white\"\n                           : \"bg-slate-50 border-slate-300 text-slate-400\"\n                     )}>\n                       {activeStep !== null && idx < activeStep ? (\n                         <CheckCircle className=\"w-3 h-3\" />\n                       ) : (\n                         <span className=\"text-[10px] font-bold\">{idx + 1}</span>\n                       )}\n                     </div>\n\n                     {/* Content */}\n                     <div className={cn(\n                       \"p-3 rounded-lg border transition-all\",\n                       activeStep === idx \n                         ? \"bg-blue-50 border-blue-200 shadow-sm\" \n                         : \"bg-white border-transparent\"\n                     )}>\n                       <h4 className={cn(\"text-sm font-semibold\", activeStep === idx ? \"text-blue-900\" : \"text-slate-700\")}>\n                         {step.title}\n                       </h4>\n                       <p className=\"text-xs text-slate-500 mt-1 leading-relaxed\">{step.desc}</p>\n                     </div>\n                   </div>\n                 ))}\n               </div>\n\n               <div className=\"pt-6 mt-6 border-t border-slate-100\">\n                  <Button \n                    onClick={startTutorial} \n                    disabled={activeStep !== null} \n                    className=\"w-full bg-[#003366] hover:bg-[#002244] shadow-sm\"\n                  >\n                    {activeStep !== null ? \"Playing Demo...\" : \"Start Interactive Demo\"}\n                  </Button>\n               </div>\n            </CardContent>\n          </Card>\n\n          {/* Resources Download */}\n          <Card className=\"border-slate-200 shadow-sm\">\n            <CardHeader className=\"pb-3 bg-slate-50 border-b border-slate-100\">\n              <CardTitle className=\"text-base flex items-center gap-2\">\n                <Download className=\"w-4 h-4\" /> Helpful Resources\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              <div className=\"divide-y divide-slate-100\">\n                {resources.map((resource, i) => (\n                  <div key={i} className=\"p-3 flex items-center justify-between hover:bg-slate-50 transition-colors cursor-pointer group\" onClick={() => window.open(resource.url, '_blank')}>\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"w-8 h-8 rounded bg-blue-50 text-blue-600 flex items-center justify-center\">\n                        {resource.icon}\n                      </div>\n                      <div>\n                        <div className=\"text-sm font-medium text-slate-700 group-hover:text-blue-700 transition-colors\">{resource.title}</div>\n                        <div className=\"text-xs text-slate-400\">{resource.type} • {resource.size}</div>\n                      </div>\n                    </div>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-slate-400 group-hover:text-blue-600\">\n                      <Download className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n              <div className=\"p-4 bg-slate-50 text-xs text-slate-500 text-center italic border-t border-slate-100\">\n                Note: Graphic assets (Process Flow, ROI Charts) are currently pending upload.\n              </div>\n            </CardContent>\n          </Card>\n\n        </div>\n\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":17653,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4419,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1598,"size_tokens":null},"DEMO_WALKTHROUGH.md":{"content":"# Colony Bank HMDA/CRA ETL Tool - Demo Walkthrough\n\n## Demo Preparation (5 minutes before presentation)\n\n### Pre-Demo Checklist\n- [ ] Application is running and accessible\n- [ ] Password ready: `ColonyBank2024!`\n- [ ] Sample files ready (provided by you)\n- [ ] Browser window maximized for visibility\n\n---\n\n## Demo Script for Your Boss (15-20 minutes)\n\n### **INTRODUCTION (2 minutes)**\n\n*\"Good morning! I'm excited to show you our new HMDA/CRA ETL automation tool that will save our compliance team over 100 hours per month. This tool processes all our loan data - LaserPro commercial loans, Encompass consumer loans, and supplemental data - entirely in the browser for maximum security. Let me walk you through the complete workflow.\"*\n\n---\n\n### **PHASE 1: SECURE LOGIN (1 minute)**\n\n**What to do:**\n1. Open the application\n2. Show the password-protected login screen\n3. Enter password: `ColonyBank2024!`\n4. Click \"Authenticate\"\n\n**What to say:**\n*\"First, notice the tool is password-protected. Only authorized Colony Bank personnel can access it. The system validates credentials server-side and tracks every processing session for audit compliance. I'll log in now.\"*\n\n**Key points:**\n- ✅ Server-side authentication (not just client-side)\n- ✅ Audit trail tracking\n- ✅ Colony Bank branding (Navy Blue #003366)\n\n**NOTE:** See `DEMO_TEST_FILES_GUIDE.md` for detailed walkthrough using the realistic 15-loan test dataset!\n\n---\n\n### **PHASE 2: DATA SOURCES (3 minutes)**\n\n**What to do:**\n1. Navigate to \"Data Sources\" tab (should be default)\n2. Show the three input sections:\n   - Input A: LaserPro (Commercial HUDDA Loans)\n   - Input B: Encompass (Consumer Loans Primary)\n   - Input C: Supplemental (Encompass Additional Data)\n\n**What to say:**\n*\"Our monthly process typically requires three data sources. Input A handles our LaserPro commercial loans, Input B processes Encompass consumer loans, and Input C merges supplemental borrower data. The system accepts Excel, CSV, and text files. For today's demo, I'll use sample data that's already built-in, but in production we'd upload the actual monthly exports here.\"*\n\n**What to show:**\n- Point to each upload zone\n- Mention the drag-and-drop capability\n- Click \"Continue to Phase 2\" button\n\n---\n\n### **PHASE 3: RUN ETL AUTOMATION (5 minutes)**\n\n**What to do:**\n1. Click \"Run ETL\" tab in sidebar\n2. Click the big blue \"Run Automation\" button\n3. Watch the transformation pipeline logs in real-time\n\n**What to say (as the process runs):**\n*\"Now watch the magic happen. The system is executing our entire 6-phase compliance workflow automatically:\"*\n\n**Explain each log message as it appears:**\n- **Phase 1:** \"Filtering by current month - only processing November 2025 loans\"\n- **Phase 2:** \"Calculating Branch Codes from the first 3 digits of loan numbers\"\n- **Phase 2:** \"Converting loan terms from months to years for CRA Wiz\"\n- **Phase 2:** \"Performing VLOOKUP to merge customer names, lender info, and APR data\"\n- **Phase 2:** \"Cleaning APRs by removing trailing zeros, padding county codes to 5 digits, tract numbers to 11 digits\"\n- **Phase 3:** \"Simulating CRA Wiz validation - checking interest rates, LTV ratios, required fields\"\n\n**What to emphasize:**\n*\"This entire process - which currently takes your team 8-10 hours manually - just completed in under 3 seconds. All transformations happen in the browser, so sensitive loan data never leaves your machine.\"*\n\n---\n\n### **PHASE 4: REVIEW & SCRUB DATA (4 minutes)**\n\n**What to do:**\n1. System auto-advances to \"Review & Scrub\" tab\n2. Point out the summary statistics cards:\n   - Total Records processed\n   - Total Loan Volume (dollar amount)\n   - Validation Errors found\n3. Scroll through the data table\n4. Point out color-coded validation status (green = valid, red = needs review)\n\n**What to say:**\n*\"Here's our processed data. At the top, we see summary statistics - [X] records totaling $[Y] in loan volume. The system found [Z] validation issues that need attention.\"*\n\n*\"Each row shows the validation status. Green means CRA Wiz compliant, red flags issues like missing fields or out-of-bounds values. Your team can quickly identify and fix problem records before final submission.\"*\n\n**Key feature to highlight:**\n- Click \"Export Mail Merge\" button\n- Explain: *\"This button exports an Excel file with a 'Merge Data' tab that plugs directly into our Word mail merge templates for borrower notifications - another 2-3 hours saved.\"*\n\n---\n\n### **PHASE 5: DOCUMENT INTELLIGENCE (3 minutes)**\n\n**What to do:**\n1. Click \"Doc Intelligence\" tab in sidebar\n2. Show the upload interface\n3. Upload the PDF file: `CONINE FOR FUNDING Break Out.pdf`\n4. Wait for file to upload confirmation\n\n**What to say:**\n*\"This is our newest feature - Document Intelligence. When we receive loan packages as PDFs, the system can automatically extract key data points: interest rates, loan terms, borrower information, property details from closing disclosures, credit reports, and appraisals.\"*\n\n*\"Let me upload this sample loan document...\"* [drag and drop the PDF]\n\n*\"The system recognizes this as a loan funding document and would extract the loan amount ($37,780), term (180 months), interest rate (12.99%), and applicant information. This eliminates manual data entry from paper documents.\"*\n\n**What to emphasize:**\n- Handles PDF and text files\n- Reduces data entry errors\n- Processes multiple documents in batch\n\n---\n\n### **BONUS: LEARNING CENTER (2 minutes - if time permits)**\n\n**What to do:**\n1. Click \"Learning Center\" in the sidebar\n2. Show the video tutorial section\n3. Show the downloadable resources\n\n**What to say:**\n*\"We've also built a Learning Center for team training. New compliance staff can watch tutorial videos and download quick reference guides. This reduces onboarding time from weeks to days.\"*\n\n---\n\n### **CLOSING: THE BUSINESS IMPACT (2 minutes)**\n\n**What to say:**\n*\"Let me summarize what we've built here:*\n\n**Time Savings:**\n- Manual process: 100+ hours/month\n- Automated process: ~30 minutes/month\n- **Savings: 95%+ time reduction**\n\n**Accuracy Improvements:**\n- Automated validations catch errors before CRA Wiz submission\n- Eliminates manual calculation mistakes\n- Standardized formatting across all records\n\n**Compliance Benefits:**\n- Complete audit trail (who processed what, when)\n- Server-side security with password protection\n- All data processing happens locally (GLBA compliant)\n\n**Next Steps:**\n- Train compliance team (2 sessions, 1 hour each)\n- Load November data for production test\n- Go live for December 2025 reporting cycle\n\n*Do you have any questions about the system?\"*\n\n---\n\n## Common Questions & Answers\n\n**Q: \"What if we need to reprocess a month?\"**\nA: Just upload the same files again and click Run Automation. Results are instant.\n\n**Q: \"Can multiple people use this?\"**\nA: Yes, it's web-based. Multiple team members can access it with the shared password.\n\n**Q: \"What happens if there's an error?\"**\nA: The system highlights exactly which records have issues and what's wrong. Your team fixes the source data and re-runs.\n\n**Q: \"Is our data secure?\"**\nA: Absolutely. All processing happens in your browser - data never goes to our servers except authentication and audit logs (no loan data).\n\n**Q: \"How do we get our reports to regulators?\"**\nA: The Export button creates the exact format CRA Wiz requires. Upload that file directly to the regulatory portal.\n\n---\n\n## Post-Demo Follow-Up\n\n**If your boss approves:**\n- [ ] Schedule training sessions with compliance team\n- [ ] Create user accounts for team members\n- [ ] Set up first production run for next month\n- [ ] Document any custom workflows specific to Colony Bank\n\n**If your boss has concerns:**\n- [ ] Address specific questions/concerns\n- [ ] Offer additional demo with real data (test environment)\n- [ ] Provide cost-benefit analysis spreadsheet\n\n---\n\n## Quick Tips for a Smooth Demo\n\n1. **Practice once before the actual demo** - know where to click\n2. **Speak slowly and clearly** - let the animations complete before moving on\n3. **Use the files provided** - they're ready to go\n4. **Emphasize time savings** - that's the #1 business value\n5. **Show confidence** - you built this amazing tool!\n\nGood luck! 🎯\n","path":null,"size_bytes":8230,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertAuditLogSchema } from \"@shared/schema\";\n\nconst VALID_PASSWORD = \"ColonyBank2024!\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.post(\"/api/auth/validate\", async (req, res) => {\n    const { password } = req.body;\n    \n    if (password === VALID_PASSWORD) {\n      res.json({ success: true });\n    } else {\n      res.status(401).json({ success: false, message: \"Invalid password\" });\n    }\n  });\n\n  app.post(\"/api/audit/log\", async (req, res) => {\n    try {\n      const validatedData = insertAuditLogSchema.parse(req.body);\n      const auditLog = await storage.createAuditLog(validatedData);\n      res.json(auditLog);\n    } catch (error) {\n      res.status(400).json({ error: \"Invalid audit log data\" });\n    }\n  });\n\n  app.get(\"/api/audit/logs\", async (req, res) => {\n    const limit = req.query.limit ? parseInt(req.query.limit as string) : 100;\n    const logs = await storage.getAuditLogs(limit);\n    res.json(logs);\n  });\n\n  app.get(\"/api/audit/logs/:username\", async (req, res) => {\n    const logs = await storage.getAuditLogsByUsername(req.params.username);\n    res.json(logs);\n  });\n\n  const httpServer = createServer(app);\n\n  return httpServer;\n}\n","path":null,"size_bytes":1326,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":768,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-fit\", defaultClassNames.root),\n        months: cn(\n          \"relative flex flex-col gap-4 md:flex-row\",\n          defaultClassNames.months\n        ),\n        month: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n        nav: cn(\n          \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n          defaultClassNames.nav\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          \"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn(\n          \"bg-popover absolute inset-0 opacity-0\",\n          defaultClassNames.dropdown\n        ),\n        caption_label: cn(\n          \"select-none font-medium\",\n          captionLayout === \"label\"\n            ? \"text-sm\"\n            : \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\",\n          defaultClassNames.caption_label\n        ),\n        table: \"w-full border-collapse\",\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\n        weekday: cn(\n          \"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n          defaultClassNames.weekday\n        ),\n        week: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n        week_number_header: cn(\n          \"w-[--cell-size] select-none\",\n          defaultClassNames.week_number_header\n        ),\n        week_number: cn(\n          \"text-muted-foreground select-none text-[0.8rem]\",\n          defaultClassNames.week_number\n        ),\n        day: cn(\n          \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n          defaultClassNames.day\n        ),\n        range_start: cn(\n          \"bg-accent rounded-l-md\",\n          defaultClassNames.range_start\n        ),\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n        range_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n        today: cn(\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n          defaultClassNames.today\n        ),\n        outside: cn(\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\n          defaultClassNames.outside\n        ),\n        disabled: cn(\n          \"text-muted-foreground opacity-50\",\n          defaultClassNames.disabled\n        ),\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (\n            <div\n              data-slot=\"calendar\"\n              ref={rootRef}\n              className={cn(className)}\n              {...props}\n            />\n          )\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (\n              <ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\n            )\n          }\n\n          if (orientation === \"right\") {\n            return (\n              <ChevronRightIcon\n                className={cn(\"size-4\", className)}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","path":null,"size_bytes":7569,"size_tokens":null},"client/src/components/multi-file-upload.tsx":{"content":"import { useState, useCallback, useRef } from 'react';\nimport { Upload, FileText, X, CheckCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\n\ninterface MultiFileUploadProps {\n  label: string;\n  description?: string;\n  accept?: Record<string, string[]>;\n  onFilesSelect: (files: File[]) => void;\n  files: File[];\n  onRemoveFile: (index: number) => void;\n}\n\nexport function MultiFileUpload({ \n  label, \n  description, \n  accept, \n  onFilesSelect, \n  files,\n  onRemoveFile \n}: MultiFileUploadProps) {\n  const [isDragActive, setIsDragActive] = useState(false);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setIsDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setIsDragActive(false);\n    }\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setIsDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      const newFiles = Array.from(e.dataTransfer.files);\n      onFilesSelect(newFiles);\n    }\n  }, [onFilesSelect]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    if (e.target.files && e.target.files.length > 0) {\n      const newFiles = Array.from(e.target.files);\n      onFilesSelect(newFiles);\n    }\n  };\n\n  const onButtonClick = () => {\n    inputRef.current?.click();\n  };\n\n  const acceptString = accept \n    ? Object.values(accept).flat().join(',')\n    : \".xlsx,.xls,.csv,.txt,.pdf\";\n\n  return (\n    <div className=\"w-full\">\n      <div className=\"flex items-center justify-between mb-2\">\n        <label className=\"text-sm font-medium text-foreground\">{label}</label>\n        {files.length > 0 && (\n          <span className=\"text-xs text-green-600 flex items-center gap-1\">\n            <CheckCircle className=\"w-3 h-3\" /> {files.length} file{files.length !== 1 ? 's' : ''}\n          </span>\n        )}\n      </div>\n      \n      <div\n        onDragEnter={handleDrag}\n        onDragLeave={handleDrag}\n        onDragOver={handleDrag}\n        onDrop={handleDrop}\n        onClick={onButtonClick}\n        className={cn(\n          \"border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer flex flex-col items-center justify-center text-center min-h-[120px]\",\n          isDragActive ? \"border-primary bg-primary/5\" : \"border-border bg-card hover:bg-accent/50\",\n          files.length > 0 ? \"border-green-200 bg-green-50/30\" : \"\"\n        )}\n      >\n        <input \n          ref={inputRef}\n          type=\"file\" \n          className=\"hidden\" \n          onChange={handleChange}\n          accept={acceptString}\n          multiple\n        />\n        \n        <div className=\"flex flex-col items-center gap-2\">\n          <div className=\"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-muted-foreground\">\n            <Upload className=\"w-5 h-5\" />\n          </div>\n          <p className=\"text-sm text-muted-foreground\">\n            {isDragActive ? \"Drop files here...\" : description || \"Drag & drop multiple files or click to upload\"}\n          </p>\n        </div>\n      </div>\n\n      {files.length > 0 && (\n        <div className=\"mt-4 space-y-2\">\n          {files.map((file, index) => (\n            <div \n              key={index} \n              className=\"flex items-center justify-between bg-white border rounded-lg px-3 py-2 hover:bg-slate-50 transition-colors\"\n              data-testid={`file-item-${index}`}\n            >\n              <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n                <div className=\"w-8 h-8 rounded bg-green-100 flex items-center justify-center text-green-600 shrink-0\">\n                  <FileText className=\"w-4 h-4\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-foreground truncate\">{file.name}</p>\n                  <p className=\"text-xs text-muted-foreground\">{(file.size / 1024).toFixed(1)} KB</p>\n                </div>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onRemoveFile(index);\n                }}\n                className=\"shrink-0\"\n                data-testid={`button-remove-${index}`}\n              >\n                <X className=\"w-4 h-4\" />\n              </Button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":4690,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8608,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2859,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","path":null,"size_bytes":1342,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // @replit\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \",\n  {\n    variants: {\n      variant: {\n        default:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary:\n          // @replit no hover because we use hover-elevate\n          \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n          // @replit shadow-xs\" - use badge outline variable\n        outline: \"text-foreground border [border-color:var(--badge-outline)]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1522,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":649,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1237,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1410,"size_tokens":null},"client/src/components/ui/field.tsx":{"content":"\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field data-[invalid=true]:text-destructive flex w-full gap-3\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start\",\n        ],\n        responsive: [\n          \"@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>[data-slot=field]]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm font-normal leading-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"nth-last-2:-mt-1 last:mt-0 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","path":null,"size_bytes":6044,"size_tokens":null},"client/src/components/ui/spinner.tsx":{"content":"import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","path":null,"size_bytes":331,"size_tokens":null},"attached_assets/README_1763742216292.md":{"content":"# Colony Bank HMDA/CRA Video Assets - Complete Package\n\n**Generated:** November 21, 2025  \n**Project:** DeepSee AI - Colony Bank Compliance Automation Explainer Video  \n**Duration:** 4 minutes (240 seconds)\n\n---\n\n## 📦 PACKAGE CONTENTS\n\nThis package contains all the AI-generated assets needed to create a professional 4-minute explainer video for Colony Bank's HMDA/CRA compliance automation tool powered by DeepSee AI.\n\n### **Total Assets:** 17 Files\n- **Audio Files:** 3\n- **Video Clips:** 8 (64 seconds total runtime)\n- **Graphics/Images:** 6\n\n---\n\n## 🎙️ AUDIO ASSETS (3 files)\n\n### 1. **Colony_Bank_Full_Voiceover_Narration.mp3**\n- **Duration:** 3 minutes 30 seconds (210 seconds)\n- **Voice:** Professional female narrator (Adeline)\n- **Quality:** High-quality AI voiceover with natural intonation\n- **Description:** Complete narration script covering all 7 scenes\n- **Usage:** Primary voiceover track for entire video\n\n### 2. **Background_Music_Tense_Dramatic.mp3**\n- **Duration:** 90 seconds\n- **Mood:** Tense, dramatic, corporate\n- **Tempo:** 80-90 BPM, Minor key\n- **Description:** Background music for problem scenes (Scenes 1-3)\n- **Usage:** Underlay for opening hook, current state problems, hidden costs\n\n### 3. **Background_Music_Uplifting_Optimistic.mp3**\n- **Duration:** 120 seconds\n- **Mood:** Uplifting, optimistic, confident\n- **Tempo:** 110-120 BPM, Major key\n- **Description:** Background music for solution scenes (Scenes 4-7)\n- **Usage:** Underlay for solution reveal, demo, results, closing\n\n---\n\n## 🎬 VIDEO CLIPS (8 files - 64 seconds total)\n\n### 1. **01_Opening_Hook_Stressed_Analyst.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Opening hook (0:00-0:30)\n- **Content:** Stressed compliance analyst at desk late at night, Excel spreadsheets visible, clock showing 11:47 PM\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Opening scene establishing the problem\n\n### 2. **02_Manual_Data_Entry_Pain.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Current state problem (0:30-1:45)\n- **Content:** Close-up of hands typing, Excel data scrolling, error symbols, timer showing time passing\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Illustrating tedious manual compliance work\n\n### 3. **03_Hidden_Costs_Stress_Risk.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Hidden costs (1:45-2:15)\n- **Content:** Split-screen showing stressed officer, regulatory penalties, cost overlays\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing financial and human costs of manual processes\n\n### 4. **04_Solution_Reveal_DeepSee_Dashboard.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Solution reveal (2:15-3:00)\n- **Content:** Modern clean dashboard interface, feature callouts animating in, blue/cyan branding\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Introducing DeepSee AI solution\n\n### 5. **05_Validation_In_Action_Automated.mp4**\n- **Duration:** 8 seconds\n- **Scene:** How it works demo (3:00-4:15)\n- **Content:** 14 validation rules checking off with green checkmarks, timer showing 2.3 seconds\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Demonstrating automated validation speed\n\n### 6. **06_Before_After_Transformation.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Results (4:15-4:45)\n- **Content:** Split-screen before (stressed) vs after (confident), time comparison 10hrs→30min\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing dramatic transformation\n\n### 7. **07_Results_Celebration_Success.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Results (4:15-4:45)\n- **Content:** Happy team celebrating, success metrics overlays, ROI calculations\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing positive outcomes and team success\n\n### 8. **08_Closing_CTA_Branded_Card.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Call to action (4:45-5:00)\n- **Content:** DeepSee AI branding, contact info, call-to-action text\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Professional closing card\n\n---\n\n## 🎨 GRAPHICS/IMAGES (6 files)\n\n### 1. **Process_Flow_5_Column_Manual.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** 5-column process flow diagram showing manual CRA workflow\n- **Colors:** Red, Orange, Yellow, Pink columns\n- **Usage:** Scene 2 - Illustrating current manual process\n\n### 2. **ROI_Calculation_Breakdown.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Three-bar chart showing labor savings, error reduction, risk mitigation totaling $25,000+/year\n- **Usage:** Scene 6 - Showing financial value\n\n### 3. **Time_Comparison_10hrs_vs_30min.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Before/after time comparison with clocks and 95% reduction arrow\n- **Usage:** Scene 6 - Dramatic time savings visualization\n\n### 4. **DeepSee_AI_Title_Card.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Branded title card with DeepSee AI logo and tagline on blue gradient\n- **Usage:** Opening title card and transitions\n\n### 5. **Error_Detection_Manual_vs_Automated.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Side-by-side comparison of manual (messy) vs automated (clean) error detection\n- **Usage:** Scene 5 - Demonstrating automation advantage\n\n### 6. **Validation_Rules_14_Checklist.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Two-column checklist showing all 14 validation rules with green checkmarks\n- **Usage:** Scene 5 - Showing comprehensive validation coverage\n\n---\n\n## 🎯 VIDEO ASSEMBLY GUIDE\n\n### **Recommended Tools:**\n1. **Descript** (Easiest - AI-powered video editor)\n2. **Pictory** (Good for script-based editing)\n3. **DaVinci Resolve** (Free, professional)\n4. **CapCut** (Free, user-friendly)\n\n### **Assembly Steps:**\n\n#### 1. **Import All Assets**\n- Import all 3 audio files\n- Import all 8 video clips\n- Import all 6 graphics\n\n#### 2. **Timeline Structure (4 minutes)**\n\n**0:00-0:30 - Scene 1: Opening Hook**\n- Video: `01_Opening_Hook_Stressed_Analyst.mp4` (loop or extend to 30s)\n- Audio: Start `Colony_Bank_Full_Voiceover_Narration.mp3` at 0:00\n- Music: `Background_Music_Tense_Dramatic.mp3` (low volume, -20dB)\n- Graphics: Optional text overlays: \"Every month, the same nightmare...\", \"8-10 Hours\", \"5 Different Systems\"\n\n**0:30-1:45 - Scene 2: Current State Problem**\n- Video: `02_Manual_Data_Entry_Pain.mp4` (loop or extend to 1:15)\n- Graphics: Insert `Process_Flow_5_Column_Manual.png` as overlay or cutaway\n- Audio: Continue voiceover\n- Music: Continue tense music\n- Add text overlays for each step timing\n\n**1:45-2:15 - Scene 3: Hidden Costs**\n- Video: `03_Hidden_Costs_Stress_Risk.mp4` (loop or extend to 30s)\n- Graphics: Overlay `ROI_Calculation_Breakdown.png` when costs are mentioned\n- Audio: Continue voiceover\n- Music: Peak dramatic tension\n\n**2:15-3:00 - Scene 4: Solution Reveal**\n- Video: `04_Solution_Reveal_DeepSee_Dashboard.mp4` (loop to 45s)\n- Graphics: `DeepSee_AI_Title_Card.png` as transition\n- Audio: Continue voiceover\n- Music: **SWITCH** to `Background_Music_Uplifting_Optimistic.mp3` (fade transition)\n\n**3:00-4:15 - Scene 5: How It Works Demo**\n- Video: `05_Validation_In_Action_Automated.mp4` (loop or extend to 1:15)\n- Graphics: Insert `Validation_Rules_14_Checklist.png` and `Error_Detection_Manual_vs_Automated.png`\n- Audio: Continue voiceover\n- Music: Continue uplifting music\n- **CRITICAL:** You need to record actual screen recordings of your DeepSee AI tool for this section\n\n**4:15-4:45 - Scene 6: Results**\n- Video: `06_Before_After_Transformation.mp4` + `07_Results_Celebration_Success.mp4` (15s each)\n- Graphics: `Time_Comparison_10hrs_vs_30min.png` and `ROI_Calculation_Breakdown.png` as overlays\n- Audio: Continue voiceover\n- Music: Continue, building to triumphant peak\n\n**4:45-5:00 - Scene 7: Call to Action**\n- Video: `08_Closing_CTA_Branded_Card.mp4` (extend to 15s if needed)\n- Audio: Continue voiceover to end\n- Music: Fade out uplifting music\n\n#### 3. **Audio Mixing Guidelines**\n- **Voiceover:** Primary track at 0dB (loudest)\n- **Background Music:** -20dB to -25dB (subtle underlay)\n- **Music Transitions:** Use 2-3 second crossfade when switching from tense to uplifting (around 2:15 mark)\n- **Sound Effects:** Add keyboard typing, mouse clicks, success chimes where appropriate (optional)\n\n#### 4. **Visual Effects & Transitions**\n- Use smooth fades and dissolves between clips (avoid harsh cuts)\n- Add text overlays for key statistics (use white text with drop shadow for readability)\n- Apply subtle zoom/pan effects to static graphics to add motion\n- Use color grading to ensure consistent look across all clips\n\n#### 5. **Text Overlays to Add**\nInclude these key text overlays at appropriate moments:\n- \"10 Hours → 30 Minutes\"\n- \"95% Time Reduction\"\n- \"115 Hours Saved Annually\"\n- \"$25,000+ Annual Value\"\n- \"14 Automated Validation Rules\"\n- \"Completed in 2.3 Seconds\"\n- \"www.deepsee.ai\"\n\n---\n\n## ⚠️ CRITICAL: Missing Elements You Need to Provide\n\nWhile AI has generated B-roll and supporting visuals, **you still need to record:**\n\n### **1. Screen Recordings of DeepSee AI Tool** (ESSENTIAL)\nRecord these specific interactions:\n- **Upload:** Dragging and dropping SBSL CRA export file\n- **Validation Progress:** Dashboard showing 14 rules running\n- **Error Report:** Table displaying flagged errors with color coding\n- **Corrections:** Making edits in the interface\n- **Export:** Clicking download button for CRAWiz-ready file\n\n**Recording Tools:**\n- **OBS Studio** (Free, professional)\n- **Loom** (Easy, cloud-based)\n- **ScreenFlow** (Mac)\n- **Camtasia** (Windows/Mac)\n\n**Recording Settings:**\n- Resolution: 1920x1080\n- Frame Rate: 30fps\n- Clean up desktop, close unnecessary windows\n- Use cursor highlighting for visibility\n\n### **2. Optional: Excel Spreadsheet B-Roll**\nIf you want to show actual SBSL data (anonymized):\n- Record scrolling through 14-column spreadsheet\n- Show manual error marking with symbols\n- Demonstrate the tedium visually\n\n---\n\n## 🎨 BRAND GUIDELINES\n\n### **Color Palette:**\n- **Primary:** Deep Blue `#1E3A8A`\n- **Secondary:** Bright Cyan `#06B6D4`\n- **Accent:** White `#FFFFFF`\n- **Text:** Dark Gray `#1F2937`\n\n### **Typography:**\n- **Headings:** Bold Sans-serif (Inter, Helvetica, Arial)\n- **Body:** Regular Sans-serif\n- **Minimum Size:** 32pt for on-screen text\n\n### **Logo Usage:**\n- Include DeepSee AI logo watermark in top-right corner (semi-transparent)\n- Use `DeepSee_AI_Title_Card.png` as title card\n- Feature prominently in closing card\n\n---\n\n## 📊 TIMELINE & MILESTONES\n\n**Total Video Duration:** 4:00-4:15\n\n| Time | Scene | Description |\n|------|-------|-------------|\n| 0:00-0:30 | Scene 1 | Opening Hook - The Problem |\n| 0:30-1:45 | Scene 2 | Current State Manual Process |\n| 1:45-2:15 | Scene 3 | Hidden Costs & Risks |\n| 2:15-3:00 | Scene 4 | Solution Reveal - DeepSee AI |\n| 3:00-4:15 | Scene 5 | How It Works - Demo |\n| 4:15-4:45 | Scene 6 | Results & Transformation |\n| 4:45-5:00 | Scene 7 | Call to Action |\n\n---\n\n## ✅ QUALITY CHECKLIST\n\nBefore finalizing your video, verify:\n\n- [ ] All audio is properly synced with visuals\n- [ ] Voiceover is clearly audible over background music\n- [ ] Music transitions are smooth (especially tense → uplifting at 2:15)\n- [ ] Text overlays are readable (high contrast, proper sizing)\n- [ ] All key statistics are displayed prominently\n- [ ] Brand colors are consistent throughout\n- [ ] Video resolution is 1920x1080 (Full HD)\n- [ ] Frame rate is consistent (30fps)\n- [ ] No jarring transitions or cuts\n- [ ] DeepSee AI branding is visible throughout\n- [ ] Contact information is clear in closing card\n- [ ] Total duration is 4:00-4:30\n\n---\n\n## 🚀 EXPORT SETTINGS\n\n### **Final Video Export:**\n- **Format:** MP4 (H.264 codec)\n- **Resolution:** 1920x1080 (Full HD)\n- **Frame Rate:** 30fps\n- **Bitrate:** 10-15 Mbps (high quality)\n- **Audio:** AAC, Stereo, 192kbps\n\n### **Additional Deliverables:**\n1. **Subtitles/Captions:** Export SRT file for accessibility\n2. **Thumbnail:** Create 1920x1080 JPG for YouTube/Vimeo\n3. **Short Version:** Consider creating 30-60 second teaser\n4. **Social Cuts:** Extract 15-second clips for LinkedIn/Twitter\n\n---\n\n## 💡 TIPS FOR BEST RESULTS\n\n### **Video Editing:**\n- Use keyboard shortcuts to speed up editing\n- Work with proxy files if your computer is slow\n- Save frequently and create version backups\n- Preview on multiple devices (desktop, mobile, TV)\n\n### **Audio Mixing:**\n- Use headphones for accurate audio editing\n- Apply noise reduction to voiceover if needed\n- Duck music under important narration moments\n- Add subtle fade in/out to all audio clips\n\n### **Visual Polish:**\n- Color grade all clips for consistency\n- Apply subtle motion to static images (Ken Burns effect)\n- Use safe zones for text (10% margin from edges)\n- Add subtle vignettes for focus\n\n### **Storytelling:**\n- Emphasize the pain → solution → results narrative arc\n- Let visuals breathe - don't overcrowd with text\n- Build emotional connection with stressed → relieved officer\n- End strong with clear call-to-action\n\n---\n\n## 📞 SUPPORT & CONTACT\n\n**DeepSee AI**  \nWebsite: www.deepsee.ai  \nEmail: info@deepsee.ai  \n\n**Project Contact:**  \nGabriel Ignacio, Technical Product Manager  \nEmail: gabriel.ignacio@deepsee.ai\n\n---\n\n## 📝 LICENSE & USAGE\n\nAll assets in this package are generated for DeepSee AI's exclusive use in marketing materials related to the Colony Bank HMDA/CRA compliance automation project.\n\n**Permitted Uses:**\n- Sales presentations to bank prospects\n- Website embedding (deepsee.ai)\n- Social media marketing (LinkedIn, Twitter, YouTube)\n- Trade show displays\n- Client testimonials and case studies\n- Internal training materials\n- Investor presentations\n\n**Restrictions:**\n- Do not redistribute assets to third parties\n- Do not use for unrelated products/services\n- Maintain DeepSee AI branding integrity\n\n---\n\n## 🎬 READY TO START?\n\n1. **Import all assets** into your video editing tool\n2. **Follow the assembly guide** above\n3. **Record your screen recordings** of DeepSee AI tool\n4. **Assemble the timeline** according to scene breakdown\n5. **Mix audio** with voiceover and background music\n6. **Add text overlays** for key statistics\n7. **Export final video** with recommended settings\n8. **Create subtitles** for accessibility\n9. **Generate thumbnail** for video platforms\n10. **Share with your team** for feedback\n\n---\n\n**Good luck with your video production! 🚀**\n\nThis package gives you everything you need to create a professional, compelling explainer video that will showcase DeepSee AI's value to Colony Bank and future prospects.\n","path":null,"size_bytes":14443,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1267,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2356,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7606,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2143,"size_tokens":null},"client/src/components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","path":null,"size_bytes":2396,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":2001,"size_tokens":null},"client/src/index.css":{"content":"@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n@theme inline {\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  \n  /* Corporate Blue Theme */\n  --color-background: hsl(210 20% 98%);\n  --color-foreground: hsl(222 47% 11%);\n  \n  --color-card: hsl(0 0% 100%);\n  --color-card-foreground: hsl(222 47% 11%);\n  \n  --color-popover: hsl(0 0% 100%);\n  --color-popover-foreground: hsl(222 47% 11%);\n  \n  /* Navy Blue Primary */\n  --color-primary: hsl(215 100% 25%);\n  --color-primary-foreground: hsl(210 40% 98%);\n  \n  --color-secondary: hsl(210 40% 96.1%);\n  --color-secondary-foreground: hsl(222 47% 11.2%);\n  \n  --color-muted: hsl(210 40% 96.1%);\n  --color-muted-foreground: hsl(215 16% 47%);\n  \n  --color-accent: hsl(210 40% 96.1%);\n  --color-accent-foreground: hsl(222 47% 11.2%);\n  \n  --color-destructive: hsl(0 84.2% 60.2%);\n  --color-destructive-foreground: hsl(210 40% 98%);\n  \n  --color-border: hsl(214.3 31.8% 91.4%);\n  --color-input: hsl(214.3 31.8% 91.4%);\n  --color-ring: hsl(215 100% 25%);\n  \n  --color-chart-1: hsl(215 100% 25%);\n  --color-chart-2: hsl(173 58% 39%);\n  --color-chart-3: hsl(197 37% 24%);\n  --color-chart-4: hsl(43 74% 66%);\n  --color-chart-5: hsl(27 87% 67%);\n  \n  --color-sidebar: hsl(222 47% 11%);\n  --color-sidebar-foreground: hsl(210 40% 98%);\n  --color-sidebar-primary: hsl(215 100% 25%);\n  --color-sidebar-primary-foreground: hsl(0 0% 100%);\n  --color-sidebar-accent: hsl(217 33% 17%);\n  --color-sidebar-accent-foreground: hsl(210 40% 98%);\n  --color-sidebar-border: hsl(217 33% 17%);\n  --color-sidebar-ring: hsl(212.7 26.8% 83.9%);\n  \n  --font-sans: 'Inter', sans-serif;\n  --radius: 0.5rem;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n","path":null,"size_bytes":1902,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"server/storage.ts":{"content":"import { type AuditLog, type InsertAuditLog } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nexport interface IStorage {\n  createAuditLog(log: InsertAuditLog): Promise<AuditLog>;\n  getAuditLogs(limit?: number): Promise<AuditLog[]>;\n  getAuditLogsByUsername(username: string): Promise<AuditLog[]>;\n}\n\nexport class MemStorage implements IStorage {\n  private auditLogs: Map<string, AuditLog>;\n\n  constructor() {\n    this.auditLogs = new Map();\n  }\n\n  async createAuditLog(insertLog: InsertAuditLog): Promise<AuditLog> {\n    const id = randomUUID();\n    const log: AuditLog = { \n      ...insertLog, \n      id,\n      timestamp: new Date()\n    };\n    this.auditLogs.set(id, log);\n    return log;\n  }\n\n  async getAuditLogs(limit: number = 100): Promise<AuditLog[]> {\n    return Array.from(this.auditLogs.values())\n      .sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime())\n      .slice(0, limit);\n  }\n\n  async getAuditLogsByUsername(username: string): Promise<AuditLog[]> {\n    return Array.from(this.auditLogs.values())\n      .filter(log => log.username === username)\n      .sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());\n  }\n}\n\nexport const storage = new MemStorage();\n","path":null,"size_bytes":1204,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    tailwindcss(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    allowedHosts: true,\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1244,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1148,"size_tokens":null},"client/src/lib/diff-engine.ts":{"content":"import { SbslRow } from \"./etl-engine\";\n\nexport interface DiffResult {\n  identical: boolean;\n  diffCount: number;\n  differences: Difference[];\n  actualRows: number;\n  expectedRows: number;\n  rowDiff: number;\n}\n\nexport interface Difference {\n  type: string;\n  column?: string;\n  rowsAffected?: number;\n  sampleActual?: string;\n  sampleExpected?: string;\n  columns?: string;\n}\n\nexport const compareDataframes = (actual: SbslRow[], expected: SbslRow[]): DiffResult => {\n  const result: DiffResult = {\n    identical: false,\n    diffCount: 0,\n    differences: [],\n    actualRows: actual.length,\n    expectedRows: expected.length,\n    rowDiff: Math.abs(actual.length - expected.length)\n  };\n\n  // Compare row counts\n  if (actual.length !== expected.length) {\n    result.differences.push({\n      type: 'Row Count',\n      sampleActual: String(actual.length),\n      sampleExpected: String(expected.length)\n    });\n  }\n\n  if (actual.length === 0 || expected.length === 0) {\n    // If one is empty but not both, we already logged row count diff.\n    // If both empty, identical.\n    if (actual.length === 0 && expected.length === 0) {\n       result.identical = true;\n    }\n    result.diffCount = result.differences.length;\n    return result;\n  }\n\n  // Compare columns (using first row as schema source for simplicity)\n  const actualCols = Object.keys(actual[0]);\n  const expectedCols = Object.keys(expected[0]);\n  \n  const missingInActual = expectedCols.filter(c => !actualCols.includes(c));\n  const extraInActual = actualCols.filter(c => !expectedCols.includes(c));\n\n  if (missingInActual.length > 0) {\n    result.differences.push({\n      type: 'Missing Columns in Actual',\n      columns: missingInActual.join(', ')\n    });\n  }\n  \n  if (extraInActual.length > 0) {\n    result.differences.push({\n      type: 'Extra Columns in Actual',\n      columns: extraInActual.join(', ')\n    });\n  }\n\n  // Compare Values (Basic check on first 100 rows to save perf)\n  const commonCols = actualCols.filter(c => expectedCols.includes(c));\n  const rowsToCompare = Math.min(actual.length, expected.length);\n  \n  for (const col of commonCols) {\n    let diffCount = 0;\n    let sampleAct = '';\n    let sampleExp = '';\n    \n    for (let i = 0; i < rowsToCompare; i++) {\n      if (String(actual[i][col]) !== String(expected[i][col])) {\n        diffCount++;\n        if (!sampleAct) {\n          sampleAct = String(actual[i][col]);\n          sampleExp = String(expected[i][col]);\n        }\n      }\n    }\n    \n    if (diffCount > 0) {\n      result.differences.push({\n        type: 'Value Difference',\n        column: col,\n        rowsAffected: diffCount,\n        sampleActual: sampleAct,\n        sampleExpected: sampleExp\n      });\n    }\n  }\n\n  result.diffCount = result.differences.length;\n  result.identical = result.diffCount === 0;\n  \n  return result;\n};\n","path":null,"size_bytes":2822,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","path":null,"size_bytes":894,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":792,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport NotFound from \"@/pages/not-found\";\nimport Dashboard from \"@/pages/dashboard\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Dashboard} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <Router />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":714,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5745,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5124,"size_tokens":null},"attached_assets/README_1763740847746.md":{"content":"# Colony Bank HMDA/CRA Video Assets - Complete Package\n\n**Generated:** November 21, 2025  \n**Project:** DeepSee AI - Colony Bank Compliance Automation Explainer Video  \n**Duration:** 4 minutes (240 seconds)\n\n---\n\n## 📦 PACKAGE CONTENTS\n\nThis package contains all the AI-generated assets needed to create a professional 4-minute explainer video for Colony Bank's HMDA/CRA compliance automation tool powered by DeepSee AI.\n\n### **Total Assets:** 17 Files\n- **Audio Files:** 3\n- **Video Clips:** 8 (64 seconds total runtime)\n- **Graphics/Images:** 6\n\n---\n\n## 🎙️ AUDIO ASSETS (3 files)\n\n### 1. **Colony_Bank_Full_Voiceover_Narration.mp3**\n- **Duration:** 3 minutes 30 seconds (210 seconds)\n- **Voice:** Professional female narrator (Adeline)\n- **Quality:** High-quality AI voiceover with natural intonation\n- **Description:** Complete narration script covering all 7 scenes\n- **Usage:** Primary voiceover track for entire video\n\n### 2. **Background_Music_Tense_Dramatic.mp3**\n- **Duration:** 90 seconds\n- **Mood:** Tense, dramatic, corporate\n- **Tempo:** 80-90 BPM, Minor key\n- **Description:** Background music for problem scenes (Scenes 1-3)\n- **Usage:** Underlay for opening hook, current state problems, hidden costs\n\n### 3. **Background_Music_Uplifting_Optimistic.mp3**\n- **Duration:** 120 seconds\n- **Mood:** Uplifting, optimistic, confident\n- **Tempo:** 110-120 BPM, Major key\n- **Description:** Background music for solution scenes (Scenes 4-7)\n- **Usage:** Underlay for solution reveal, demo, results, closing\n\n---\n\n## 🎬 VIDEO CLIPS (8 files - 64 seconds total)\n\n### 1. **01_Opening_Hook_Stressed_Analyst.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Opening hook (0:00-0:30)\n- **Content:** Stressed compliance analyst at desk late at night, Excel spreadsheets visible, clock showing 11:47 PM\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Opening scene establishing the problem\n\n### 2. **02_Manual_Data_Entry_Pain.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Current state problem (0:30-1:45)\n- **Content:** Close-up of hands typing, Excel data scrolling, error symbols, timer showing time passing\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Illustrating tedious manual compliance work\n\n### 3. **03_Hidden_Costs_Stress_Risk.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Hidden costs (1:45-2:15)\n- **Content:** Split-screen showing stressed officer, regulatory penalties, cost overlays\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing financial and human costs of manual processes\n\n### 4. **04_Solution_Reveal_DeepSee_Dashboard.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Solution reveal (2:15-3:00)\n- **Content:** Modern clean dashboard interface, feature callouts animating in, blue/cyan branding\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Introducing DeepSee AI solution\n\n### 5. **05_Validation_In_Action_Automated.mp4**\n- **Duration:** 8 seconds\n- **Scene:** How it works demo (3:00-4:15)\n- **Content:** 14 validation rules checking off with green checkmarks, timer showing 2.3 seconds\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Demonstrating automated validation speed\n\n### 6. **06_Before_After_Transformation.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Results (4:15-4:45)\n- **Content:** Split-screen before (stressed) vs after (confident), time comparison 10hrs→30min\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing dramatic transformation\n\n### 7. **07_Results_Celebration_Success.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Results (4:15-4:45)\n- **Content:** Happy team celebrating, success metrics overlays, ROI calculations\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Showing positive outcomes and team success\n\n### 8. **08_Closing_CTA_Branded_Card.mp4**\n- **Duration:** 8 seconds\n- **Scene:** Call to action (4:45-5:00)\n- **Content:** DeepSee AI branding, contact info, call-to-action text\n- **Resolution:** 1920x1080, 16:9\n- **Usage:** Professional closing card\n\n---\n\n## 🎨 GRAPHICS/IMAGES (6 files)\n\n### 1. **Process_Flow_5_Column_Manual.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** 5-column process flow diagram showing manual CRA workflow\n- **Colors:** Red, Orange, Yellow, Pink columns\n- **Usage:** Scene 2 - Illustrating current manual process\n\n### 2. **ROI_Calculation_Breakdown.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Three-bar chart showing labor savings, error reduction, risk mitigation totaling $25,000+/year\n- **Usage:** Scene 6 - Showing financial value\n\n### 3. **Time_Comparison_10hrs_vs_30min.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Before/after time comparison with clocks and 95% reduction arrow\n- **Usage:** Scene 6 - Dramatic time savings visualization\n\n### 4. **DeepSee_AI_Title_Card.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Branded title card with DeepSee AI logo and tagline on blue gradient\n- **Usage:** Opening title card and transitions\n\n### 5. **Error_Detection_Manual_vs_Automated.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Side-by-side comparison of manual (messy) vs automated (clean) error detection\n- **Usage:** Scene 5 - Demonstrating automation advantage\n\n### 6. **Validation_Rules_14_Checklist.png**\n- **Dimensions:** 1365x768 (16:9)\n- **Content:** Two-column checklist showing all 14 validation rules with green checkmarks\n- **Usage:** Scene 5 - Showing comprehensive validation coverage\n\n---\n\n## 🎯 VIDEO ASSEMBLY GUIDE\n\n### **Recommended Tools:**\n1. **Descript** (Easiest - AI-powered video editor)\n2. **Pictory** (Good for script-based editing)\n3. **DaVinci Resolve** (Free, professional)\n4. **CapCut** (Free, user-friendly)\n\n### **Assembly Steps:**\n\n#### 1. **Import All Assets**\n- Import all 3 audio files\n- Import all 8 video clips\n- Import all 6 graphics\n\n#### 2. **Timeline Structure (4 minutes)**\n\n**0:00-0:30 - Scene 1: Opening Hook**\n- Video: `01_Opening_Hook_Stressed_Analyst.mp4` (loop or extend to 30s)\n- Audio: Start `Colony_Bank_Full_Voiceover_Narration.mp3` at 0:00\n- Music: `Background_Music_Tense_Dramatic.mp3` (low volume, -20dB)\n- Graphics: Optional text overlays: \"Every month, the same nightmare...\", \"8-10 Hours\", \"5 Different Systems\"\n\n**0:30-1:45 - Scene 2: Current State Problem**\n- Video: `02_Manual_Data_Entry_Pain.mp4` (loop or extend to 1:15)\n- Graphics: Insert `Process_Flow_5_Column_Manual.png` as overlay or cutaway\n- Audio: Continue voiceover\n- Music: Continue tense music\n- Add text overlays for each step timing\n\n**1:45-2:15 - Scene 3: Hidden Costs**\n- Video: `03_Hidden_Costs_Stress_Risk.mp4` (loop or extend to 30s)\n- Graphics: Overlay `ROI_Calculation_Breakdown.png` when costs are mentioned\n- Audio: Continue voiceover\n- Music: Peak dramatic tension\n\n**2:15-3:00 - Scene 4: Solution Reveal**\n- Video: `04_Solution_Reveal_DeepSee_Dashboard.mp4` (loop to 45s)\n- Graphics: `DeepSee_AI_Title_Card.png` as transition\n- Audio: Continue voiceover\n- Music: **SWITCH** to `Background_Music_Uplifting_Optimistic.mp3` (fade transition)\n\n**3:00-4:15 - Scene 5: How It Works Demo**\n- Video: `05_Validation_In_Action_Automated.mp4` (loop or extend to 1:15)\n- Graphics: Insert `Validation_Rules_14_Checklist.png` and `Error_Detection_Manual_vs_Automated.png`\n- Audio: Continue voiceover\n- Music: Continue uplifting music\n- **CRITICAL:** You need to record actual screen recordings of your DeepSee AI tool for this section\n\n**4:15-4:45 - Scene 6: Results**\n- Video: `06_Before_After_Transformation.mp4` + `07_Results_Celebration_Success.mp4` (15s each)\n- Graphics: `Time_Comparison_10hrs_vs_30min.png` and `ROI_Calculation_Breakdown.png` as overlays\n- Audio: Continue voiceover\n- Music: Continue, building to triumphant peak\n\n**4:45-5:00 - Scene 7: Call to Action**\n- Video: `08_Closing_CTA_Branded_Card.mp4` (extend to 15s if needed)\n- Audio: Continue voiceover to end\n- Music: Fade out uplifting music\n\n#### 3. **Audio Mixing Guidelines**\n- **Voiceover:** Primary track at 0dB (loudest)\n- **Background Music:** -20dB to -25dB (subtle underlay)\n- **Music Transitions:** Use 2-3 second crossfade when switching from tense to uplifting (around 2:15 mark)\n- **Sound Effects:** Add keyboard typing, mouse clicks, success chimes where appropriate (optional)\n\n#### 4. **Visual Effects & Transitions**\n- Use smooth fades and dissolves between clips (avoid harsh cuts)\n- Add text overlays for key statistics (use white text with drop shadow for readability)\n- Apply subtle zoom/pan effects to static graphics to add motion\n- Use color grading to ensure consistent look across all clips\n\n#### 5. **Text Overlays to Add**\nInclude these key text overlays at appropriate moments:\n- \"10 Hours → 30 Minutes\"\n- \"95% Time Reduction\"\n- \"115 Hours Saved Annually\"\n- \"$25,000+ Annual Value\"\n- \"14 Automated Validation Rules\"\n- \"Completed in 2.3 Seconds\"\n- \"www.deepsee.ai\"\n\n---\n\n## ⚠️ CRITICAL: Missing Elements You Need to Provide\n\nWhile AI has generated B-roll and supporting visuals, **you still need to record:**\n\n### **1. Screen Recordings of DeepSee AI Tool** (ESSENTIAL)\nRecord these specific interactions:\n- **Upload:** Dragging and dropping SBSL CRA export file\n- **Validation Progress:** Dashboard showing 14 rules running\n- **Error Report:** Table displaying flagged errors with color coding\n- **Corrections:** Making edits in the interface\n- **Export:** Clicking download button for CRAWiz-ready file\n\n**Recording Tools:**\n- **OBS Studio** (Free, professional)\n- **Loom** (Easy, cloud-based)\n- **ScreenFlow** (Mac)\n- **Camtasia** (Windows/Mac)\n\n**Recording Settings:**\n- Resolution: 1920x1080\n- Frame Rate: 30fps\n- Clean up desktop, close unnecessary windows\n- Use cursor highlighting for visibility\n\n### **2. Optional: Excel Spreadsheet B-Roll**\nIf you want to show actual SBSL data (anonymized):\n- Record scrolling through 14-column spreadsheet\n- Show manual error marking with symbols\n- Demonstrate the tedium visually\n\n---\n\n## 🎨 BRAND GUIDELINES\n\n### **Color Palette:**\n- **Primary:** Deep Blue `#1E3A8A`\n- **Secondary:** Bright Cyan `#06B6D4`\n- **Accent:** White `#FFFFFF`\n- **Text:** Dark Gray `#1F2937`\n\n### **Typography:**\n- **Headings:** Bold Sans-serif (Inter, Helvetica, Arial)\n- **Body:** Regular Sans-serif\n- **Minimum Size:** 32pt for on-screen text\n\n### **Logo Usage:**\n- Include DeepSee AI logo watermark in top-right corner (semi-transparent)\n- Use `DeepSee_AI_Title_Card.png` as title card\n- Feature prominently in closing card\n\n---\n\n## 📊 TIMELINE & MILESTONES\n\n**Total Video Duration:** 4:00-4:15\n\n| Time | Scene | Description |\n|------|-------|-------------|\n| 0:00-0:30 | Scene 1 | Opening Hook - The Problem |\n| 0:30-1:45 | Scene 2 | Current State Manual Process |\n| 1:45-2:15 | Scene 3 | Hidden Costs & Risks |\n| 2:15-3:00 | Scene 4 | Solution Reveal - DeepSee AI |\n| 3:00-4:15 | Scene 5 | How It Works - Demo |\n| 4:15-4:45 | Scene 6 | Results & Transformation |\n| 4:45-5:00 | Scene 7 | Call to Action |\n\n---\n\n## ✅ QUALITY CHECKLIST\n\nBefore finalizing your video, verify:\n\n- [ ] All audio is properly synced with visuals\n- [ ] Voiceover is clearly audible over background music\n- [ ] Music transitions are smooth (especially tense → uplifting at 2:15)\n- [ ] Text overlays are readable (high contrast, proper sizing)\n- [ ] All key statistics are displayed prominently\n- [ ] Brand colors are consistent throughout\n- [ ] Video resolution is 1920x1080 (Full HD)\n- [ ] Frame rate is consistent (30fps)\n- [ ] No jarring transitions or cuts\n- [ ] DeepSee AI branding is visible throughout\n- [ ] Contact information is clear in closing card\n- [ ] Total duration is 4:00-4:30\n\n---\n\n## 🚀 EXPORT SETTINGS\n\n### **Final Video Export:**\n- **Format:** MP4 (H.264 codec)\n- **Resolution:** 1920x1080 (Full HD)\n- **Frame Rate:** 30fps\n- **Bitrate:** 10-15 Mbps (high quality)\n- **Audio:** AAC, Stereo, 192kbps\n\n### **Additional Deliverables:**\n1. **Subtitles/Captions:** Export SRT file for accessibility\n2. **Thumbnail:** Create 1920x1080 JPG for YouTube/Vimeo\n3. **Short Version:** Consider creating 30-60 second teaser\n4. **Social Cuts:** Extract 15-second clips for LinkedIn/Twitter\n\n---\n\n## 💡 TIPS FOR BEST RESULTS\n\n### **Video Editing:**\n- Use keyboard shortcuts to speed up editing\n- Work with proxy files if your computer is slow\n- Save frequently and create version backups\n- Preview on multiple devices (desktop, mobile, TV)\n\n### **Audio Mixing:**\n- Use headphones for accurate audio editing\n- Apply noise reduction to voiceover if needed\n- Duck music under important narration moments\n- Add subtle fade in/out to all audio clips\n\n### **Visual Polish:**\n- Color grade all clips for consistency\n- Apply subtle motion to static images (Ken Burns effect)\n- Use safe zones for text (10% margin from edges)\n- Add subtle vignettes for focus\n\n### **Storytelling:**\n- Emphasize the pain → solution → results narrative arc\n- Let visuals breathe - don't overcrowd with text\n- Build emotional connection with stressed → relieved officer\n- End strong with clear call-to-action\n\n---\n\n## 📞 SUPPORT & CONTACT\n\n**DeepSee AI**  \nWebsite: www.deepsee.ai  \nEmail: info@deepsee.ai  \n\n**Project Contact:**  \nGabriel Ignacio, Technical Product Manager  \nEmail: gabriel.ignacio@deepsee.ai\n\n---\n\n## 📝 LICENSE & USAGE\n\nAll assets in this package are generated for DeepSee AI's exclusive use in marketing materials related to the Colony Bank HMDA/CRA compliance automation project.\n\n**Permitted Uses:**\n- Sales presentations to bank prospects\n- Website embedding (deepsee.ai)\n- Social media marketing (LinkedIn, Twitter, YouTube)\n- Trade show displays\n- Client testimonials and case studies\n- Internal training materials\n- Investor presentations\n\n**Restrictions:**\n- Do not redistribute assets to third parties\n- Do not use for unrelated products/services\n- Maintain DeepSee AI branding integrity\n\n---\n\n## 🎬 READY TO START?\n\n1. **Import all assets** into your video editing tool\n2. **Follow the assembly guide** above\n3. **Record your screen recordings** of DeepSee AI tool\n4. **Assemble the timeline** according to scene breakdown\n5. **Mix audio** with voiceover and background music\n6. **Add text overlays** for key statistics\n7. **Export final video** with recommended settings\n8. **Create subtitles** for accessibility\n9. **Generate thumbnail** for video platforms\n10. **Share with your team** for feedback\n\n---\n\n**Good luck with your video production! 🚀**\n\nThis package gives you everything you need to create a professional, compelling explainer video that will showcase DeepSee AI's value to Colony Bank and future prospects.\n","path":null,"size_bytes":14443,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"grid place-content-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1031,"size_tokens":null},"replit.md":{"content":"# Colony Bank HMDA/CRA ETL Automation Tool\n\n## Overview\n\nThis is a web-based ETL (Extract, Transform, Load) automation tool for Colony Bank's monthly HMDA (Home Mortgage Disclosure Act) and CRA (Community Reinvestment Act) compliance reporting. The tool processes loan data from multiple source systems (LaserPro, Encompass, and Supplemental exports), validates the data, and generates formatted outputs ready for CRA Wiz import and regulatory submission.\n\nThe application reduces what was previously a 100+ hour monthly manual process to under 10 hours with improved accuracy.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript\n- **Build Tool**: Vite with hot module replacement\n- **Styling**: Tailwind CSS with shadcn/ui component library\n- **State Management**: TanStack React Query for server state\n- **Routing**: Wouter (lightweight React router)\n- **UI Components**: Radix UI primitives wrapped with shadcn/ui styling\n\n### Backend Architecture\n- **Runtime**: Node.js with Express\n- **Language**: TypeScript with ES modules\n- **API Design**: RESTful endpoints under `/api/` prefix\n- **Authentication**: Simple password-based gate (server-validated)\n- **Build**: esbuild for production bundling\n\n### Data Processing\n- **Excel Processing**: xlsx library for reading/writing Excel and CSV files\n- **ETL Engine**: Custom client-side TypeScript engine (`client/src/lib/etl-engine.ts`)\n- **Validation**: Schema-based validation with Zod\n- **Transformations**: CRA Wiz format conversion with 128-column output specification\n\n### Data Storage\n- **Database**: PostgreSQL via Drizzle ORM (configured but primarily uses in-memory storage)\n- **Session Storage**: In-memory storage for audit logs during development\n- **Schema Location**: `shared/schema.ts` defines the processing audit log table\n\n### Key Design Decisions\n\n1. **Client-Side Processing**: File parsing and ETL logic runs in the browser to avoid server file uploads for sensitive loan data\n2. **Multi-Phase Workflow**: \n   - Phase 1: Data Sources (upload LaserPro, Encompass, Supplemental files)\n   - Phase 2: ETL Processing (validation, transformation, merging)\n   - Phase 3: Review and Export (CRA Wiz format output)\n3. **Password Protection**: Server-validated authentication before accessing the tool\n4. **Audit Trail**: Processing sessions logged with timestamps, record counts, and validation errors\n\n## External Dependencies\n\n### Core Libraries\n- `xlsx`: Excel file reading/writing for .xlsx, .xls, and .csv formats\n- `drizzle-orm` + `@neondatabase/serverless`: PostgreSQL ORM (Neon serverless driver)\n- `@tanstack/react-query`: Async state management\n- `zod`: Runtime type validation and schema definition\n\n### UI Components\n- Full shadcn/ui component suite (accordion, dialog, tabs, cards, etc.)\n- `lucide-react`: Icon library\n- `embla-carousel-react`: Carousel functionality\n- `recharts`: Data visualization (via chart component)\n\n### Build & Development\n- Vite with React plugin\n- Tailwind CSS v4 with `@tailwindcss/vite`\n- TypeScript with strict mode\n- `drizzle-kit`: Database migrations and schema management\n\n### Replit-Specific Integrations\n- `@replit/vite-plugin-runtime-error-modal`: Development error overlay\n- `@replit/vite-plugin-cartographer`: Asset mapping (dev only)\n- `@replit/vite-plugin-dev-banner`: Development mode indicator","path":null,"size_bytes":3431,"size_tokens":null},"client/public/etl-engine.ts":{"content":"import { read, utils, writeFile } from 'xlsx';\n\nexport interface SbslRow {\n  // Legacy fields\n  ApplNumb?: string;\n  'Last Name'?: string;\n  'Loan Type'?: string;\n  'Action Taken'?: string;\n  'Loan Amount'?: number;\n  'Note Date'?: string | number | Date;\n  Revenue?: number;\n  Affiliate?: string;\n  Address?: string;\n  City?: string;\n  State?: string;\n  Zip?: string;\n  Comment?: string;\n  \n  // HMDA Test File Fields (from test data)\n  Loan_Number?: string;\n  Application_Date?: string | number | Date;\n  Interest_Rate?: number;\n  Loan_Term_Months?: number;\n  Loan_Purpose_Code?: number;\n  Property_Type_Code?: number;\n  Loan_Type_Code?: number;\n  Action_Taken_Code?: number;\n  County_Code?: string;\n  Census_Tract?: string;\n  Borrower_Last_Name?: string;\n  Borrower_First_Name?: string;\n  Property_Street?: string;\n  Property_City?: string;\n  Property_State?: string;\n  Property_Zip?: string;\n  Income_Thousands?: number;\n  Credit_Score?: number;\n  Closing_Date?: string | number | Date;\n  Applicant_Ethnicity?: number;\n  Applicant_Race_1?: number;\n  Applicant_Sex?: number;\n  \n  // Calculated Fields from Phase 2\n  'Branch Name'?: string;\n  'Branch'?: string;\n  'Application Number'?: string;\n  'Loan Term Years'?: number;\n  'Customer Name'?: string;\n  'Borrower Name Code'?: string;\n  'Lender'?: string;\n  'Lender Assistant'?: string;\n  'Post Closer'?: string;\n  'APR'?: string | number;\n  'Rate Lock Date'?: string;\n  'Rate Type'?: string;\n  'Variable Term'?: string;\n  'Loan Program'?: string;\n  \n  [key: string]: any;\n}\n\nexport interface ValidationResult {\n  rowIdx: number;\n  applNumb: string;\n  errors: string[];\n}\n\n// Mock Data for Demo (Updated with new fields)\nexport const MOCK_SBSL_DATA: SbslRow[] = [\n  {\n    ApplNumb: \"2024-001\",\n    \"Last Name\": \"Smith\",\n    \"Loan Type\": \"Small Business\",\n    \"Action Taken\": \"Originated\",\n    \"Loan Amount\": 75000,\n    \"Note Date\": new Date().toISOString().split('T')[0],\n    Revenue: 500000,\n    Affiliate: \"Main Branch\",\n    Address: \"123 Main St\",\n    City: \"Atlanta\",\n    State: \"GA\",\n    Zip: \"30301\",\n    \"Branch\": \"001\",\n    \"Branch Name\": \"Main Branch\",\n    \"APR\": \"7.125\",\n    \"Loan Term Years\": 5\n  },\n  {\n    ApplNumb: \"2024-002\",\n    \"Last Name\": \"Johnson\",\n    \"Loan Type\": \"Commercial\",\n    \"Action Taken\": \"Originated\",\n    \"Loan Amount\": 150000,\n    \"Note Date\": \"2023-12-15\",\n    Revenue: 1200000,\n    Affiliate: \"North Branch\",\n    Address: \"456 Oak Rd\",\n    City: \"Savannah\",\n    State: \"GA\",\n    Zip: \"31401\",\n    \"Branch\": \"002\",\n    \"Branch Name\": \"North Branch\",\n    \"APR\": \"6.500\",\n    \"Loan Term Years\": 10\n  },\n];\n\nexport const fetchCsvFile = async (filename: string): Promise<SbslRow[]> => {\n  try {\n    const response = await fetch(`/sample_data/${filename}`);\n    if (!response.ok) throw new Error(`Failed to fetch ${filename}`);\n    const arrayBuffer = await response.arrayBuffer();\n    const data = new Uint8Array(arrayBuffer);\n    const workbook = read(data, { type: 'array' });\n    const sheetName = workbook.SheetNames[0];\n    const sheet = workbook.Sheets[sheetName];\n    return utils.sheet_to_json(sheet) as SbslRow[];\n  } catch (error) {\n    console.error(\"Error fetching CSV:\", error);\n    throw error;\n  }\n};\n\n// 128-column output format for CRA Wiz upload - MUST be defined before processFile uses it\nexport const CRA_WIZ_128_COLUMNS = [\n  'BranchName', 'Branch', 'ApplNumb', 'LEI', 'ULI', 'LastName', 'FirstName',\n  'Coa_LastName', 'Coa_FirstName', 'Lender', 'AA_Processor', 'LDP_PostCloser',\n  'Error_Made_By', 'ApplDate', 'LoanType', 'Purpose', 'ConstructionMethod',\n  'OccupancyType', 'LoanAmount', 'Preapproval', 'Action', 'ActionDate',\n  'Address', 'City', 'State_abrv', 'Zip', 'County_5', 'Tract_11',\n  'Ethnicity_1', 'Ethnicity_2', 'Ethnicity_3', 'Ethnicity_4', 'Ethnicity_5',\n  'EthnicityOther', 'Coa_Ethnicity_1', 'Coa_Ethnicity_2', 'Coa_Ethnicity_3',\n  'Coa_Ethnicity_4', 'Coa_Ethnicity_5', 'Coa_EthnicityOther',\n  'Ethnicity_Determinant', 'Coa_Ethnicity_Determinant',\n  'Race_1', 'Race_2', 'Race_3', 'Race_4', 'Race_5',\n  'Race1_Other', 'Race27_Other', 'Race44_Other',\n  'CoaRace_1', 'CoaRace_2', 'CoaRace_3', 'CoaRace_4', 'CoaRace_5',\n  'CoaRace1_Other', 'CoaRace27_Other', 'CoaRace44_Other',\n  'Race_Determinant', 'CoaRace_Determinant',\n  'Sex', 'CoaSex', 'Sex_Determinant', 'CoaSex_Determinant',\n  'Age', 'Coa_Age', 'Income', 'Purchaser', 'Rate_Spread',\n  'HOEPA_Status', 'Lien_Status', 'CreditScore', 'Coa_CreditScore',\n  'CreditModel', 'CreditModelOther', 'Coa_CreditModel', 'Coa_CreditModelOther',\n  'Denial1', 'Denial2', 'Denial3', 'Denial4', 'DenialOther',\n  'TotalLoanCosts', 'TotalPtsAndFees', 'OrigFees', 'DiscountPts', 'LenderCredts',\n  'InterestRate', 'APR', 'Rate_Lock_Date', 'PPPTerm', 'DTIRatio', 'DSC', 'CLTV',\n  'Loan_Term', 'Loan_Term_Months', 'IntroRatePeriod', 'BalloonPMT', 'IOPMT',\n  'NegAM', 'NonAmortz', 'PropertyValue', 'MHSecPropType', 'MHLandPropInt',\n  'TotalUnits', 'MFAHU', 'APPMethod', 'PayableInst', 'NMLSRID',\n  'AUSystem1', 'AUSystem2', 'AUSystem3', 'AUSystem4', 'AUSystem5', 'AUSystemOther',\n  'AUSResult1', 'AUSResult2', 'AUSResult3', 'AUSResult4', 'AUSResult5', 'AUSResultOther',\n  'REVMTG', 'OpenLOC', 'BUSCML', 'RateType', 'Var_Term', 'LoanProgram', 'ProductType'\n];\n\n// Detect the best delimiter for a line of text\nconst detectDelimiter = (line: string): string => {\n  const delimiters = ['~', '|', '\\t', ','];\n  let bestDelimiter = ',';\n  let maxCount = 0;\n  \n  for (const delim of delimiters) {\n    const regex = delim === '|' ? /\\|/g : new RegExp(delim, 'g');\n    const matches = line.match(regex);\n    const count = matches ? matches.length : 0;\n    if (count > maxCount) {\n      maxCount = count;\n      bestDelimiter = delim;\n    }\n  }\n  \n  return bestDelimiter;\n};\n\nexport const processFile = async (file: File): Promise<any[]> => {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    \n    // Handle text files - detect delimiter automatically\n    if (file.name.endsWith('.txt')) {\n      reader.onload = (e) => {\n        try {\n          const text = e.target?.result as string;\n          const lines = text.split('\\n').filter(line => line.trim());\n          \n          if (lines.length > 0) {\n            // Check first few lines to detect delimiter\n            const firstLine = lines[0];\n            const secondLine = lines.length > 1 ? lines[1] : '';\n            \n            // Detect delimiter - check both first and second lines\n            let delimiter = detectDelimiter(secondLine || firstLine);\n            let skipRows = 0;\n            let isLaserProFormat = false;\n            \n            // Check if first row is metadata (starts with \"1|\" for pipe or has Colony Bank)\n            if (firstLine.includes('|') && (firstLine.startsWith('1|') || firstLine.includes('Colony Bank'))) {\n              skipRows = 1;\n              // The actual data rows likely use a different delimiter (tilde ~)\n              if (secondLine) {\n                delimiter = detectDelimiter(secondLine);\n              }\n              isLaserProFormat = true;\n              console.log(`Detected LaserPro format: metadata row uses pipe, data uses \"${delimiter}\" delimiter`);\n            } else {\n              console.log(`Detected delimiter: \"${delimiter === '\\t' ? 'TAB' : delimiter}\"`);\n            }\n            \n            // For LaserPro format (metadata row + tilde/pipe delimited data)\n            if (isLaserProFormat) {\n              // Parse all data rows (skip metadata row 1)\n              const dataLines = lines.slice(skipRows);\n              const data = dataLines.map((line, idx) => {\n                const values = line.split(delimiter);\n                console.log(`Row ${idx + 1}: Split into ${values.length} columns using \"${delimiter}\" delimiter`);\n                \n                // Map positional fields to named fields based on detected column count\n                // Create an object with all values mapped to column positions\n                const row: any = {\n                  _rowIndex: idx + skipRows + 1,\n                  _columnCount: values.length,\n                  _delimiter: delimiter,\n                };\n                \n                // Map to 128-column format based on position\n                // The actual column mapping based on LaserPro export format\n                CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                  row[colName] = values[i]?.trim() || '';\n                });\n                \n                return row;\n              });\n              \n              console.log(`Parsed ${data.length} LaserPro rows with ${data[0]?._columnCount || 0} columns each`);\n              resolve(data);\n              return;\n            }\n            \n            // Standard delimited file - split each line into columns\n            const dataLines = lines.slice(skipRows);\n            const data = dataLines.map((line, idx) => {\n              const values = line.split(delimiter);\n              const row: any = {\n                _rowIndex: idx + 1,\n                _columnCount: values.length,\n              };\n              \n              // Map to 128-column format based on position\n              CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                row[colName] = values[i]?.trim() || '';\n              });\n              \n              return row;\n            });\n            \n            if (data.length > 0) {\n              console.log(`Parsed ${data.length} rows with ${data[0]?._columnCount || 0} columns from text file`);\n              resolve(data);\n              return;\n            }\n          }\n          // Fallback if parsing fails\n          console.log(\"Text file parsing failed, using sample data\");\n          resolve(MOCK_SBSL_DATA);\n        } catch (error) {\n          console.error(\"Error parsing text file:\", error);\n          resolve(MOCK_SBSL_DATA);\n        }\n      };\n      reader.readAsText(file);\n      return;\n    }\n    \n    // Handle PDF files - return mock data for demo\n    if (file.name.endsWith('.pdf')) {\n       console.log(\"PDF file detected - would require PDF parsing library\");\n       resolve(MOCK_SBSL_DATA);\n       return;\n    }\n\n    // Handle Excel/CSV files\n    reader.onload = (e) => {\n      try {\n        const data = new Uint8Array(e.target?.result as ArrayBuffer);\n        const workbook = read(data, { type: 'array' });\n        const sheetName = workbook.SheetNames[0];\n        const sheet = workbook.Sheets[sheetName];\n        \n        // Check if this looks like an Encompass file (has metadata rows)\n        // Parse with range option to skip metadata rows if detected\n        let jsonData = utils.sheet_to_json(sheet) as any[];\n        \n        // Detect Encompass format by checking first row for metadata patterns\n        if (jsonData.length > 0) {\n          const firstRow = jsonData[0];\n          const firstRowKeys = Object.keys(firstRow);\n          const firstValue = String(firstRow[firstRowKeys[0]] || '');\n          \n          // If first row looks like Encompass metadata, skip first 2 rows\n          if (firstValue.includes('Encompass') || firstValue.includes('Report') || \n              firstRowKeys.some(k => k.includes('__EMPTY'))) {\n            console.log('Detected Encompass format, skipping metadata rows');\n            // Re-parse starting from row 3 (skip first 2 metadata rows)\n            jsonData = utils.sheet_to_json(sheet, { range: 2 }) as any[];\n          }\n        }\n        \n        // Check if first cell contains tilde-delimited data (LaserPro in Excel)\n        if (jsonData.length > 0) {\n          const firstRow = jsonData[0];\n          const firstRowKeys = Object.keys(firstRow);\n          const firstValue = String(firstRow[firstRowKeys[0]] || '');\n          \n          // If the first value contains multiple tildes, it's likely tilde-delimited data in a single column\n          if ((firstValue.match(/~/g) || []).length >= 5) {\n            console.log('Detected tilde-delimited data inside Excel cells - splitting...');\n            \n            // Split each row's first column by tilde and map to 128 columns\n            jsonData = jsonData.map((row, idx) => {\n              const rawValue = String(row[firstRowKeys[0]] || '');\n              const values = rawValue.split('~');\n              \n              const newRow: any = {\n                _rowIndex: idx + 1,\n                _columnCount: values.length,\n                _delimiter: '~',\n              };\n              \n              // Map to 128-column format based on position\n              CRA_WIZ_128_COLUMNS.forEach((colName, i) => {\n                newRow[colName] = values[i]?.trim() || '';\n              });\n              \n              return newRow;\n            });\n            \n            console.log(`Split ${jsonData.length} rows into ${CRA_WIZ_128_COLUMNS.length} columns each`);\n          }\n        }\n        \n        console.log(`Parsed ${jsonData.length} rows from Excel/CSV file`);\n        resolve(jsonData);\n      } catch (error) {\n        console.error(\"Error parsing Excel/CSV file:\", error);\n        reject(error);\n      }\n    };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(file);\n  });\n};\n\n// Transform data to 128-column CRA Wiz format\nexport const transformToCRAWizFormat = (data: SbslRow[]): any[] => {\n  return data.map(row => {\n    const output: any = {};\n    \n    // Map each column, looking for matching field names (case-insensitive)\n    CRA_WIZ_128_COLUMNS.forEach(col => {\n      // Try exact match first\n      if (row[col] !== undefined) {\n        output[col] = row[col];\n        return;\n      }\n      \n      // Try case-insensitive match\n      const lowerCol = col.toLowerCase();\n      const matchingKey = Object.keys(row).find(k => k.toLowerCase() === lowerCol);\n      if (matchingKey) {\n        output[col] = row[matchingKey];\n        return;\n      }\n      \n      // Try common field name variations\n      const fieldMappings: Record<string, string[]> = {\n        'BranchName': ['BranchName', 'Branch Name', 'Branch_Name'],\n        'Branch': ['Branch', 'BranchNumb', 'BRANCHNUMB'],\n        'ApplNumb': ['ApplNumb', 'ULI', 'Loan_Number', 'LoanNumber'],\n        'LastName': ['LastName', 'Last Name', 'Borrower_Last_Name'],\n        'FirstName': ['FirstName', 'First Name', 'Borrower_First_Name'],\n        'LoanAmount': ['LoanAmount', 'Loan Amount', 'Loan_Amount'],\n        'Address': ['Address', 'Property_Street', 'PropertyStreet'],\n        'City': ['City', 'Property_City', 'PropertyCity'],\n        'State_abrv': ['State_abrv', 'State', 'Property_State', 'PropertyState'],\n        'Zip': ['Zip', 'Property_Zip', 'PropertyZip', 'ZipCode'],\n        'InterestRate': ['InterestRate', 'Interest_Rate', 'Interest Rate'],\n        'Income': ['Income', 'Income_Thousands'],\n        'CreditScore': ['CreditScore', 'Credit_Score'],\n        'Loan_Term_Months': ['Loan_Term_Months', 'LoanTermMonths', 'Term'],\n      };\n      \n      const mappings = fieldMappings[col];\n      if (mappings) {\n        for (const alt of mappings) {\n          if (row[alt] !== undefined) {\n            output[col] = row[alt];\n            return;\n          }\n        }\n      }\n      \n      // Default to empty string\n      output[col] = '';\n    });\n    \n    return output;\n  });\n};\n\n// Export to CRA Wiz 128-column format\nexport const exportCRAWizFormat = (data: SbslRow[], filename?: string): void => {\n  const transformedData = transformToCRAWizFormat(data);\n  const monthYear = new Date().toLocaleDateString('en-US', { month: 'long', year: 'numeric' });\n  const defaultFilename = `CRA_Wiz_Upload_${monthYear.replace(' ', '_')}.xlsx`;\n  \n  const ws = utils.json_to_sheet(transformedData, { header: CRA_WIZ_128_COLUMNS });\n  const wb = utils.book_new();\n  utils.book_append_sheet(wb, ws, \"CRA Data\");\n  \n  writeFile(wb, filename || defaultFilename);\n};\n\nexport const filterByCurrentMonth = (data: SbslRow[]): { filtered: SbslRow[], count: number } => {\n  const currentMonth = new Date().getMonth();\n  const currentYear = new Date().getFullYear();\n  \n  const filtered = data.filter(row => {\n    // Check multiple possible date fields\n    const dateVal = row['Note Date'] || row.Application_Date || row['Application_Date'];\n    \n    // For demo: if no date field exists, keep the record\n    if (!dateVal) return true;\n    \n    const date = new Date(dateVal);\n    // For demo: if date is invalid, keep the record\n    if (isNaN(date.getTime())) return true;\n\n    // Accept loans from the last 12 months for demo purposes\n    const monthsAgo = (currentYear - date.getFullYear()) * 12 + (currentMonth - date.getMonth());\n    return monthsAgo >= 0 && monthsAgo <= 12;\n  });\n  \n  return { filtered, count: filtered.length };\n};\n\n// Phase 2 Step 1: Transformation Logic\nexport const transformEncompassData = (data: SbslRow[]): SbslRow[] => {\n  return data.map(row => {\n    const newRow = { ...row };\n    \n    // Calculate Branch (First 3 of Loan Number/ApplNumb)\n    if (newRow.ApplNumb) {\n      newRow['Branch'] = newRow.ApplNumb.substring(0, 3);\n    }\n    \n    // Calculate Loan Term Years\n    if (newRow['Loan Term in Months']) {\n      newRow['Loan Term Years'] = Number(newRow['Loan Term in Months']) / 12;\n    }\n    \n    return newRow;\n  });\n};\n\n// Phase 2 Step 2: VLOOKUP Simulation\nexport const mergeSupplementalData = (mainData: SbslRow[], suppData: SbslRow[]): SbslRow[] => {\n  // Create lookup map using either Loan_Number (HMDA) or ApplNumb (legacy)\n  const suppMap = new Map(\n    suppData.map(row => [row.Loan_Number || row.ApplNumb, row])\n  );\n  \n  return mainData.map(row => {\n    const joinKey = row.Loan_Number || row.ApplNumb;\n    const supp = suppMap.get(joinKey);\n    if (!supp) return row;\n    \n    return {\n      ...row,\n      // Merge HMDA fields\n      Applicant_Ethnicity: supp.Applicant_Ethnicity,\n      Applicant_Race_1: supp.Applicant_Race_1,\n      Applicant_Sex: supp.Applicant_Sex,\n      Income_Thousands: supp.Income_Thousands,\n      Credit_Score: supp.Credit_Score,\n      Borrower_Last_Name: supp.Borrower_Last_Name,\n      Borrower_First_Name: supp.Borrower_First_Name,\n      Property_Street: supp.Property_Street,\n      Property_City: supp.Property_City,\n      Property_State: supp.Property_State,\n      Property_Zip: supp.Property_Zip,\n      // Legacy fields\n      'Customer Name': supp['Customer Name'],\n      'Borrower Name': supp['Borrower Name'],\n      'Lender': supp['Lender'],\n      'APR': supp['APR'] || supp.Interest_Rate,\n      'Rate Type': supp['Rate Type'] === 'ARM' ? '2' : '1',\n    };\n  });\n};\n\n// Phase 2 Step 3: Cleaning\nexport const cleanAndFormatData = (data: SbslRow[]): SbslRow[] => {\n  const branchMap: Record<string, string> = {\n    '001': 'Main Branch',\n    '002': 'North Branch',\n    '003': 'West Branch'\n  };\n\n  return data.map(row => {\n    const newRow = { ...row };\n    \n    // Branch Name Mapping\n    if (newRow.Branch && branchMap[newRow.Branch]) {\n      newRow['Branch Name'] = branchMap[newRow.Branch];\n    }\n    \n    // APR Formatting (Remove trailing zeros)\n    if (newRow.APR) {\n      newRow.APR = String(newRow.APR).replace(/0+$/, '').replace(/\\.$/, '');\n    }\n    \n    // County Zero Padding (5 digits)\n    if (newRow['County Code']) {\n      newRow['County Code'] = String(newRow['County Code']).padStart(5, '0');\n    }\n    \n    // Tract Zero Padding (11 digits)\n    if (newRow['Tract']) {\n      newRow['Tract'] = String(newRow['Tract']).padStart(11, '0');\n    }\n    \n    return newRow;\n  });\n};\n\nexport const validateData = (data: SbslRow[]): ValidationResult[] => {\n  const results: ValidationResult[] = [];\n  \n  data.forEach((row, idx) => {\n    const errors: string[] = [];\n    const loanId = row.Loan_Number || row.ApplNumb || 'N/A';\n    \n    // HMDA Required Fields\n    if (row.Loan_Number) {\n      // HMDA data validation\n      if (!row.Loan_Number) errors.push(\"Missing Loan_Number\");\n      if (!row.Application_Date && !row['Note Date']) errors.push(\"Missing Application_Date\");\n      if (!row.Loan_Amount && !row['Loan Amount']) errors.push(\"Missing Loan_Amount\");\n      \n      // Loan Amount validation\n      const loanAmount = Number(row.Loan_Amount || row['Loan Amount']);\n      if (isNaN(loanAmount) || loanAmount <= 0) errors.push(\"Loan Amount must be positive\");\n      \n      // Interest Rate validation (0-20%, max 3 decimals)\n      if (row.Interest_Rate || row['Interest Rate']) {\n        const rate = Number(row.Interest_Rate || row['Interest Rate']);\n        if (rate < 0 || rate > 20) errors.push(\"Interest Rate out of bounds (0-20%)\");\n        const rateStr = String(rate);\n        if (rateStr.includes('.') && rateStr.split('.')[1].length > 3) {\n          errors.push(\"Interest Rate max 3 decimal places\");\n        }\n      }\n      \n      // Census Tract Format validation (##.## or ####.##)\n      if (row.Census_Tract) {\n        const tract = String(row.Census_Tract);\n        if (!/^\\d{2,4}\\.\\d{2}$/.test(tract)) {\n          errors.push(\"Census Tract must be ##.## or ####.##\");\n        }\n      }\n      \n      // Income validation (1-9999 thousands)\n      if (row.Income_Thousands) {\n        const income = Number(row.Income_Thousands);\n        if (income < 1 || income > 9999) {\n          errors.push(\"Income must be 1-9999 (thousands)\");\n        }\n      }\n      \n      // Action Taken Code validation\n      if (row.Action_Taken_Code) {\n        const action = Number(row.Action_Taken_Code);\n        if (![1, 2, 3, 4, 5, 6, 7, 8].includes(action)) {\n          errors.push(\"Invalid Action Taken Code\");\n        }\n      }\n      \n      // Property State validation\n      if (row.Property_State) {\n        if (String(row.Property_State).trim().length !== 2) {\n          errors.push(\"State must be 2-letter code\");\n        }\n      }\n    } else {\n      // Legacy validation\n      const required = ['ApplNumb', 'Last Name', 'Loan Amount', 'Note Date'];\n      required.forEach(field => {\n        if (!row[field]) errors.push(`Missing ${field}`);\n      });\n      \n      const loanAmount = Number(row['Loan Amount']);\n      if (isNaN(loanAmount) || loanAmount <= 0) errors.push(\"Loan Amount must be positive\");\n      \n      if (row['State'] && String(row['State']).trim().length !== 2) errors.push(\"State must be 2-letter code\");\n      \n      if (row['Zip']) {\n        const zipStr = String(row['Zip']).trim();\n        if (zipStr.length < 5) errors.push(\"Invalid ZIP code\");\n        if (/[a-zA-Z]/.test(zipStr)) errors.push(\"ZIP contains letters\");\n      }\n    }\n\n    if (errors.length > 0) {\n      results.push({\n        rowIdx: idx + 2,\n        applNumb: loanId,\n        errors\n      });\n    }\n  });\n  \n  return results;\n};\n\n// Auto-correct fixable validation errors\nexport const autoCorrectData = (data: SbslRow[]): SbslRow[] => {\n  return data.map(row => {\n    const corrected = { ...row };\n    \n    // Fix Census Tract formatting (convert to ##.## or ####.##)\n    if (corrected.Census_Tract) {\n      let tract = String(corrected.Census_Tract).replace(/[^\\d.]/g, '');\n      // If it doesn't have decimal, try to format it\n      if (!tract.includes('.')) {\n        if (tract.length >= 4) {\n          tract = tract.slice(0, -2) + '.' + tract.slice(-2);\n        }\n      }\n      // Ensure proper format\n      const parts = tract.split('.');\n      if (parts.length === 2) {\n        const whole = parts[0].padStart(2, '0');\n        const decimal = parts[1].padEnd(2, '0').slice(0, 2);\n        corrected.Census_Tract = `${whole}.${decimal}`;\n      }\n    }\n    \n    // Fix Interest Rate (max 3 decimals, ensure in range)\n    if (corrected.Interest_Rate || corrected['Interest Rate']) {\n      let rate = Number(corrected.Interest_Rate || corrected['Interest Rate']);\n      // Round to 3 decimals\n      rate = Math.round(rate * 1000) / 1000;\n      // Clamp to valid range if slightly out of bounds\n      if (rate > 20 && rate < 21) rate = 20.0;\n      if (rate < 0) rate = 0;\n      corrected.Interest_Rate = rate;\n      corrected['Interest Rate'] = rate;\n    }\n    \n    // Fix APR formatting\n    if (corrected.APR || corrected['APR']) {\n      let apr = String(corrected.APR || corrected['APR']);\n      // Remove trailing zeros and % sign\n      apr = apr.replace('%', '').trim();\n      const aprNum = parseFloat(apr);\n      if (!isNaN(aprNum)) {\n        corrected.APR = Math.round(aprNum * 1000) / 1000;\n        corrected['APR'] = corrected.APR;\n      }\n    }\n    \n    // Trim whitespace from text fields\n    if (corrected.Property_State) {\n      corrected.Property_State = String(corrected.Property_State).trim().toUpperCase().slice(0, 2);\n    }\n    if (corrected.State) {\n      corrected.State = String(corrected.State).trim().toUpperCase().slice(0, 2);\n    }\n    \n    // Fix Income (clamp to valid range if close)\n    if (corrected.Income_Thousands) {\n      let income = Number(corrected.Income_Thousands);\n      if (income > 9999 && income < 10100) income = 9999;\n      if (income < 1 && income > 0) income = 1;\n      corrected.Income_Thousands = income;\n    }\n    \n    return corrected;\n  });\n};\n\nexport const generateSummaryStats = (data: SbslRow[]) => {\n  const totalLoanAmount = data.reduce((sum, row) => {\n    // Check both HMDA and legacy field names\n    const amount = Number(row.Loan_Amount || row['Loan Amount']) || 0;\n    return sum + amount;\n  }, 0);\n  \n  const totalTerm = data.reduce((sum, row) => {\n    const termYears = Number(row['Loan Term Years']) || (row.Loan_Term_Months ? Number(row.Loan_Term_Months) / 12 : 0) || 0;\n    return sum + termYears;\n  }, 0);\n  \n  return {\n    totalRecords: data.length,\n    totalLoanAmount,\n    avgLoanAmount: data.length ? totalLoanAmount / data.length : 0,\n    avgTerm: data.length ? totalTerm / data.length : 0\n  };\n};\n","path":null,"size_bytes":25546,"size_tokens":null}},"version":2}